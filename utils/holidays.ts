import { getYear, getMonth, getDate } from 'date-fns';

// 2024년, 2025년 대한민국 공휴일 (MM-DD 형식)
// 대체공휴일 포함
const holidaysByYear: { [year: number]: Set<string> } = {
  2024: new Set([
    '01-01', // 신정
    '02-09', // 설날 연휴
    '02-10', // 설날
    '02-11', // 설날 연휴
    '02-12', // 설날 대체공휴일
    '03-01', // 삼일절
    '04-10', // 22대 국회의원 선거
    '05-05', // 어린이날
    '05-06', // 어린이날 대체공휴일
    '05-15', // 부처님 오신 날
    '06-06', // 현충일
    '08-15', // 광복절
    '09-16', // 추석 연휴
    '09-17', // 추석
    '09-18', // 추석 연휴
    '10-03', // 개천절
    '10-09', // 한글날
    '12-25', // 성탄절
  ]),
  2025: new Set([
    '01-01', // 신정
    '01-28', // 설날 연휴
    '01-29', // 설날
    '01-30', // 설날 연휴
    '03-01', // 삼일절
    '05-05', // 어린이날
    '05-06', // 부처님 오신 날
    '06-06', // 현충일
    '08-15', // 광복절
    '10-03', // 개천절
    '10-06', // 추석
    '10-07', // 추석 연휴
    '10-08', // 추석 연휴
    '10-09', // 한글날
    '12-25', // 성탄절
  ]),
  2026: new Set([
    '01-01', // 신정
    '02-16', // 설날 연휴
    '02-17', // 설날
    '02-18', // 설날 연휴
    '03-01', // 삼일절
    '03-02', // 삼일절 대체공휴일
    '05-05', // 어린이날
    '05-24', // 부처님 오신 날 (일요일)
    '05-25', // 부처님 오신 날 대체공휴일
    '06-06', // 현충일
    '08-15', // 광복절
    '08-17', // 광복절 대체공휴일
    '09-24', // 추석 연휴
    '09-25', // 추석
    '09-26', // 추석 연휴
    '10-03', // 개천절
    '10-05', // 개천절 대체공휴일
    '10-09', // 한글날
    '12-25', // 성탄절
  ]),
};

export const isKoreanHoliday = (date: Date): boolean => {
  const year = getYear(date);
  const month = getMonth(date) + 1;
  const day = getDate(date);
  
  const yearHolidays = holidaysByYear[year];
  if (!yearHolidays) {
    return false; // 해당 연도의 공휴일 정보가 없으면 false 반환
  }
  
  const mmdd = `${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
  
  return yearHolidays.has(mmdd);
};
