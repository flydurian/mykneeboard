{"version":3,"file":"CurrencySettingsModal.Ca_N0C88.js","sources":["../../components/modals/CurrencySettingsModal.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { XIcon } from '../icons';\n\ninterface CurrencySettingsModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    selectedCards: string[];\n    onCardToggle: (cardType: string) => void;\n    onCardReorder: (fromIndex: number, toIndex: number) => void;\n}\n\nconst CARD_OPTIONS = [\n    { id: 'passport', name: '여권', description: '여권 유효기간 관리' },\n    { id: 'visa', name: '비자', description: '비자 유효기간 관리' },\n    { id: 'epta', name: 'EPTA', description: 'EPTA 자격 관리' },\n    { id: 'radio', name: 'Radio', description: '라디오 자격 관리' },\n    { id: 'whitecard', name: 'White Card', description: '화이트카드 자격 관리' }\n];\n\nconst CurrencySettingsModal: React.FC<CurrencySettingsModalProps> = ({ \n    isOpen, \n    onClose, \n    selectedCards, \n    onCardToggle,\n    onCardReorder\n}) => {\n    const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n    const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\n    const dragRef = useRef<HTMLDivElement>(null);\n\n    if (!isOpen) return null;\n\n    const handleDragStart = (e: React.DragEvent, index: number) => {\n        setDraggedIndex(index);\n        e.dataTransfer.effectAllowed = 'move';\n        e.dataTransfer.setData('text/html', '');\n    };\n\n    const handleDragOver = (e: React.DragEvent, index: number) => {\n        e.preventDefault();\n        e.dataTransfer.dropEffect = 'move';\n        setDragOverIndex(index);\n    };\n\n    const handleDragLeave = () => {\n        setDragOverIndex(null);\n    };\n\n    const handleDrop = (e: React.DragEvent, dropIndex: number) => {\n        e.preventDefault();\n        if (draggedIndex !== null && draggedIndex !== dropIndex) {\n            onCardReorder(draggedIndex, dropIndex);\n        }\n        setDraggedIndex(null);\n        setDragOverIndex(null);\n    };\n\n    const handleDragEnd = () => {\n        setDraggedIndex(null);\n        setDragOverIndex(null);\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4 pt-safe\" onClick={onClose}>\n            <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in-up\" onClick={(e) => e.stopPropagation()}>\n                <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\n                    <XIcon className=\"w-6 h-6\" />\n                </button>\n\n                <div className=\"mb-6\">\n                    <h2 className=\"text-xl font-bold text-gray-800 dark:text-white mb-2\">자격 현황 카드 설정</h2>\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        표시할 자격 현황 카드를 선택하세요.\n                    </p>\n                </div>\n\n                {/* 선택된 카드들 - 드래그 앤 드롭으로 순서 변경 */}\n                {selectedCards.length > 0 && (\n                    <div className=\"mb-6\">\n                        <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">선택된 카드 (드래그하여 순서 변경)</h3>\n                        <div className=\"space-y-2\">\n                            {selectedCards.map((cardId, index) => {\n                                const card = CARD_OPTIONS.find(c => c.id === cardId);\n                                if (!card) return null;\n\n                                return (\n                                    <div\n                                        key={cardId}\n                                        ref={dragRef}\n                                        draggable\n                                        onDragStart={(e) => handleDragStart(e, index)}\n                                        onDragOver={(e) => handleDragOver(e, index)}\n                                        onDragLeave={handleDragLeave}\n                                        onDrop={(e) => handleDrop(e, index)}\n                                        onDragEnd={handleDragEnd}\n                                        className={`p-3 rounded-lg border-2 cursor-move transition-all ${\n                                            draggedIndex === index\n                                                ? 'border-blue-500 bg-blue-100 dark:bg-blue-900/30 opacity-50'\n                                                : dragOverIndex === index\n                                                ? 'border-green-500 bg-green-50 dark:bg-green-900/20'\n                                                : 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                                        }`}\n                                    >\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"text-gray-400\">\n                                                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                                    <path d=\"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\" />\n                                                </svg>\n                                            </div>\n                                            <div className=\"flex-1\">\n                                                <h4 className=\"font-semibold text-gray-800 dark:text-white\">\n                                                    {card.name}\n                                                </h4>\n                                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                                    {card.description}\n                                                </p>\n                                            </div>\n                                            <button\n                                                onClick={(e) => {\n                                                    e.stopPropagation();\n                                                    onCardToggle(cardId);\n                                                }}\n                                                className=\"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n                                                title=\"제거\"\n                                            >\n                                                <XIcon className=\"w-4 h-4\" />\n                                            </button>\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                )}\n\n                {/* 선택 가능한 카드들 */}\n                <div className=\"space-y-3\">\n                    <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">카드 추가</h3>\n                    {CARD_OPTIONS.filter(card => !selectedCards.includes(card.id)).map((card) => (\n                        <div\n                            key={card.id}\n                            className=\"p-4 rounded-lg border-2 cursor-pointer transition-all border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500\"\n                            onClick={() => onCardToggle(card.id)}\n                        >\n                            <div className=\"flex items-center justify-between\">\n                                <div>\n                                    <h3 className=\"font-semibold text-gray-800 dark:text-white\">\n                                        {card.name}\n                                    </h3>\n                                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                        {card.description}\n                                    </p>\n                                </div>\n                                <div className=\"w-5 h-5 rounded border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center\">\n                                    <svg className=\"w-3 h-3 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                        <path fillRule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"flex justify-end mt-6\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                        확인\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CurrencySettingsModal;\n"],"names":["CARD_OPTIONS","CurrencySettingsModal","isOpen","onClose","selectedCards","onCardToggle","onCardReorder","draggedIndex","setDraggedIndex","useState","dragOverIndex","setDragOverIndex","dragRef","useRef","handleDragStart","e","index","handleDragOver","handleDragLeave","handleDrop","dropIndex","handleDragEnd","jsx","jsxs","XIcon","cardId","card","c"],"mappings":"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"}