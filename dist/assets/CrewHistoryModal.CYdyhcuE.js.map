{"version":3,"file":"CrewHistoryModal.CYdyhcuE.js","sources":["../../components/modals/CrewHistoryModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Flight } from '../../types';\nimport { XIcon, MemoIcon } from '../icons';\nimport { isActualFlight } from '../../utils/helpers';\n\ninterface CrewHistoryModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    crewName: string | null;\n    flightsWithCrew: Flight[];\n    onFlightClick: (flight: Flight) => void;\n    onMemoClick?: (crewName: string) => void;\n    crewType?: 'flight' | 'cabin'; // 승무원 타입 추가\n}\n\nconst CrewHistoryModal: React.FC<CrewHistoryModalProps> = ({ isOpen, onClose, crewName, flightsWithCrew, onFlightClick, onMemoClick, crewType }) => {\n    if (!isOpen || !crewName) {\n        return null;\n    }\n\n    // 실제 비행만 필터링하고 날짜 내림차순으로 정렬\n    const sortedFlights = [...flightsWithCrew]\n        .filter(isActualFlight)\n        .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-[70] p-4 pt-safe\" onClick={onClose}>\n            <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in-up flex flex-col max-h-[85vh]\" onClick={(e) => e.stopPropagation()}>\n                <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-400 dark:text-gray-300\">\n                    <XIcon className=\"w-6 h-6\" />\n                </button>\n                \n                <div className=\"flex-shrink-0\">\n                    <div className=\"flex items-center mb-4\">\n                        <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\n                            <span className=\"text-blue-600 dark:text-blue-400\">{crewName}</span>님과의 비행 기록\n                            {crewType === 'cabin' && (\n                                <span className=\"ml-2 text-sm font-normal text-gray-500 dark:text-gray-400\">\n                                    (객실 승무원)\n                                </span>\n                            )}\n                        </h2>\n                        {onMemoClick && (\n                            <button\n                                onClick={() => onMemoClick(crewName)}\n                                className=\"ml-2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors\"\n                                title=\"메모 작성\"\n                            >\n                                <MemoIcon className=\"w-5 h-5\" />\n                            </button>\n                        )}\n                    </div>\n                </div>\n                \n                <div className=\"flex-grow overflow-auto\">\n                    {sortedFlights.length > 0 ? (\n                        <ul className=\"space-y-3\">\n                            {sortedFlights.map(flight => (\n                                <li \n                                    key={flight.id} \n                                    className=\"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer\"\n                                    onClick={() => onFlightClick(flight)}\n                                >\n                                    <p className=\"font-semibold text-gray-800 dark:text-gray-200\">{flight.date}</p>\n                                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">{flight.flightNumber}편: {flight.route?.replace('/', ' → ')}</p>\n                                </li>\n                            ))}\n                        </ul>\n                    ) : (\n                        <p className=\"text-gray-500 dark:text-gray-400 text-center py-8\">함께한 비행 기록이 없습니다.</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CrewHistoryModal;\n"],"names":["CrewHistoryModal","isOpen","onClose","crewName","flightsWithCrew","onFlightClick","onMemoClick","crewType","sortedFlights","isActualFlight","b","jsx","jsxs","e","XIcon","MemoIcon","flight"],"mappings":"yKAeA,MAAMA,EAAoD,CAAC,CAAE,OAAAC,EAAQ,QAAAC,EAAS,SAAAC,EAAU,gBAAAC,EAAiB,cAAAC,EAAe,YAAAC,EAAa,SAAAC,KAAe,CAChJ,GAAI,CAACN,GAAU,CAACE,EACZ,OAAO,KAIX,MAAMK,EAAgB,CAAC,GAAGJ,CAAe,EACpC,OAAOK,CAAc,EACrB,KAAK,CAAC,EAAGC,IAAM,IAAI,KAAKA,EAAE,IAAI,EAAE,QAAA,EAAY,IAAI,KAAK,EAAE,IAAI,EAAE,SAAS,EAE3E,OACIC,EAAAA,IAAC,MAAA,CAAI,UAAU,4GAA4G,QAAST,EAChI,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,6HAA6H,QAAUC,GAAMA,EAAE,kBAC1J,SAAA,CAAAF,EAAAA,IAAC,SAAA,CAAO,QAAST,EAAS,UAAU,0DAChC,SAAAS,EAAAA,IAACG,EAAA,CAAM,UAAU,SAAA,CAAU,CAAA,CAC/B,QAEC,MAAA,CAAI,UAAU,gBACX,SAAAF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACX,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACV,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,mCAAoC,SAAAR,EAAS,EAAO,YACnEI,IAAa,SACVI,EAAAA,IAAC,OAAA,CAAK,UAAU,4DAA4D,SAAA,UAAA,CAE5E,CAAA,EAER,EACCL,GACGK,EAAAA,IAAC,SAAA,CACG,QAAS,IAAML,EAAYH,CAAQ,EACnC,UAAU,2GACV,MAAM,QAEN,SAAAQ,EAAAA,IAACI,EAAA,CAAS,UAAU,SAAA,CAAU,CAAA,CAAA,CAClC,CAAA,CAER,CAAA,CACJ,EAEAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACV,SAAAH,EAAc,OAAS,EACpBG,EAAAA,IAAC,KAAA,CAAG,UAAU,YACT,SAAAH,EAAc,IAAIQ,GACfJ,EAAAA,KAAC,KAAA,CAEG,UAAU,2GACV,QAAS,IAAMP,EAAcW,CAAM,EAEnC,SAAA,CAAAL,EAAAA,IAAC,IAAA,CAAE,UAAU,iDAAkD,SAAAK,EAAO,KAAK,EAC3EJ,EAAAA,KAAC,IAAA,CAAE,UAAU,2CAA4C,SAAA,CAAAI,EAAO,aAAa,MAAIA,EAAO,OAAO,QAAQ,IAAK,KAAK,CAAA,CAAA,CAAE,CAAA,CAAA,EAL9GA,EAAO,EAAA,CAOnB,EACL,EAEAL,EAAAA,IAAC,KAAE,UAAU,oDAAoD,4BAAgB,CAAA,CAEzF,CAAA,CAAA,CACJ,CAAA,CACJ,CAER"}