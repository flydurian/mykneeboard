{"version":3,"file":"AnnualBlockTimeModal.DtR8ddUR.js","sources":["../../components/modals/AnnualBlockTimeModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Flight } from '../../types';\n\ninterface AnnualBlockTimeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  flights: Flight[];\n  currentYear: number;\n}\n\nconst AnnualBlockTimeModal: React.FC<AnnualBlockTimeModalProps> = ({ \n  isOpen, \n  onClose, \n  flights, \n  currentYear \n}) => {\n  const [monthlyData, setMonthlyData] = useState<Array<{\n    month: number;\n    blockTime: number;\n    monthName: string;\n  }>>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Firebase에서 월별 block 시간 불러오기\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const loadMonthlyBlocks = async () => {\n      setIsLoading(true);\n\n      try {\n        \n        // 12개월의 데이터 계산\n        const monthlyData = Array.from({ length: 12 }, (_, monthIndex) => {\n          const currentYearFlights = flights.filter(flight => {\n            const flightDate = new Date(flight.date);\n            return flightDate.getFullYear() === currentYear;\n          });\n          \n          const monthFlights = currentYearFlights.filter(flight => {\n            const flightDate = new Date(flight.date);\n            return flightDate.getMonth() === monthIndex;\n          });\n\n          // monthlyTotalBlock 우선 사용\n          const firstFlightWithMonthlyTotal = monthFlights.find(flight => \n            flight.monthlyTotalBlock && flight.monthlyTotalBlock !== '00:00'\n          );\n          \n          let blockTime = 0;\n          if (firstFlightWithMonthlyTotal && firstFlightWithMonthlyTotal.monthlyTotalBlock) {\n            // monthlyTotalBlock이 HH:MM 형식이므로 분으로 변환\n            const timeParts = firstFlightWithMonthlyTotal.monthlyTotalBlock.split(':');\n            if (timeParts.length === 2) {\n              const hours = parseInt(timeParts[0]) || 0;\n              const minutes = parseInt(timeParts[1]) || 0;\n              blockTime = hours * 60 + minutes;\n            }\n          } else {\n            // 개별 비행의 block 시간 합산\n            blockTime = monthFlights.reduce((total, flight) => {\n              if (flight.block && flight.block > 0) {\n                return total + flight.block;\n              }\n              return total;\n            }, 0);\n          }\n\n          return {\n            month: monthIndex,\n            blockTime,\n            monthName: `${monthIndex + 1}월`,\n            source: 'Flight Data'\n          };\n        });\n\n        setMonthlyData(monthlyData);\n      } catch (error) {\n        console.error('연간 비행시간 모달: 월별 block 시간 계산 오류:', error);\n        setMonthlyData([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadMonthlyBlocks();\n  }, [isOpen, currentYear, flights]);\n\n  if (!isOpen) return null;\n\n  // 누적 시간 계산\n  let cumulativeTime = 0;\n  const cumulativeData = monthlyData.map(data => {\n    cumulativeTime += data.blockTime;\n    return {\n      ...data,\n      cumulativeTime\n    };\n  });\n\n  // 최대값 계산 (그래프 스케일링용)\n  const maxBlockTime = Math.max(...monthlyData.map(d => d.blockTime), 100);\n  const maxCumulativeTime = Math.max(...cumulativeData.map(d => d.cumulativeTime), 1000);\n\n  // SVG 그래프 생성 (반응형 크기)\n  const createGraph = () => {\n    // 화면 크기에 따른 그래프 크기 조정\n    const isTablet = window.innerWidth >= 768 && window.innerWidth < 1024;\n    const isDesktop = window.innerWidth >= 1024;\n    \n    let width, height, padding, rightPadding;\n    \n    if (isDesktop) {\n      // 데스크톱: 더 넓은 그래프\n      width = 160;\n      height = 110;\n      padding = 12;\n      rightPadding = 16;\n    } else if (isTablet) {\n      // 테블릿: 중간 크기 그래프\n      width = 140;\n      height = 100;\n      padding = 11;\n      rightPadding = 14;\n    } else {\n      // 모바일: 기본 크기\n      width = 120;\n      height = 95;\n      padding = 10;\n      rightPadding = 13;\n    }\n    \n    const chartWidth = width - padding - rightPadding;\n    const chartHeight = height - padding * 2;\n\n    // 월별 블록 시간 선 그래프 (그라데이션 영역 포함) - 100시간 기준\n    const monthlyLinePoints = monthlyData.map((data, index) => {\n      const x = padding + (index * chartWidth / 12) + (chartWidth / 12 / 2);\n      const y = padding + chartHeight - (data.blockTime / (100 * 60)) * chartHeight;\n      return `${x},${y}`;\n    }).join(' ');\n\n    // 그라데이션 영역을 위한 패스 생성 - 100시간 기준\n    const areaPath = monthlyData.map((data, index) => {\n      const x = padding + (index * chartWidth / 12) + (chartWidth / 12 / 2);\n      const blockTime = isNaN(data.blockTime) ? 0 : data.blockTime;\n      const y = padding + chartHeight - (blockTime / (100 * 60)) * chartHeight;\n      return `${x},${y}`;\n    }).join(' ');\n    \n    const areaPathWithBottom = areaPath ? `${areaPath} L${padding + chartWidth - (chartWidth / 12 / 2)},${padding + chartHeight} L${padding + (chartWidth / 12 / 2)},${padding + chartHeight} Z` : '';\n\n    // 월별 블록 시간 포인트 (더 큰 원형) - 100시간 기준\n    const monthlyPoints = monthlyData.map((data, index) => {\n      const x = padding + (index * chartWidth / 12) + (chartWidth / 12 / 2);\n      const y = padding + chartHeight - (data.blockTime / (100 * 60)) * chartHeight;\n      return (\n        <circle\n          key={`monthly-point-${index}`}\n          cx={x}\n          cy={y}\n          r={1.2}\n          fill=\"#8B5CF6\"\n          className=\"dark:fill-purple-400\"\n          stroke=\"white\"\n          strokeWidth={0.3}\n        />\n      );\n    });\n\n    // 누적 시간 막대 그래프 - 1000시간 기준\n    const cumulativeBars = cumulativeData.map((data, index) => {\n      const barHeight = (data.cumulativeTime / (1000 * 60)) * chartHeight;\n      const x = padding + (index * chartWidth / 12) + (chartWidth / 12 / 2) - 2.5;\n      const y = padding + chartHeight - barHeight;\n      \n      return (\n        <rect\n          key={`cumulative-bar-${index}`}\n          x={x}\n          y={y}\n          width={5}\n          height={barHeight}\n          fill=\"url(#barGradient)\"\n          rx={1}\n          ry={1}\n        />\n      );\n    });\n\n    // 1000시간 LIMIT 라인 (분 단위로 변환: 1000시간 = 60000분) - 1000시간 기준\n    const limitY = padding + chartHeight - (60000 / (1000 * 60)) * chartHeight;\n    const limitLine = (\n      <line\n        x1={padding}\n        y1={limitY}\n        x2={padding + chartWidth}\n        y2={limitY}\n        stroke=\"#EF4444\"\n        strokeWidth={0.4}\n        strokeDasharray=\"0.8,0.8\"\n      />\n    );\n\n    // LIMIT 텍스트\n    const limitText = (\n      <text\n        x={padding + chartWidth - 1}\n        y={limitY - 0.5}\n        fill=\"#EF4444\"\n        fontSize=\"3.4\"\n        fontWeight=\"bold\"\n        textAnchor=\"end\"\n      >\n        LIMIT\n      </text>\n    );\n\n    // Y축 라벨 (월별 블록 시간) - 100시간까지\n    const leftYLabels = Array.from({ length: 6 }, (_, i) => {\n      const value = (100 * 60 / 5) * i; // 100시간을 분으로 변환하여 5등분\n      const y = padding + chartHeight - (value / (100 * 60)) * chartHeight;\n      return (\n        <text\n          key={`left-y-${i}`}\n          x={padding - 1}\n          y={y + 1.2}\n          fill=\"#374151\"\n          className=\"dark:fill-gray-200\"\n          fontSize=\"3.4\"\n          fontWeight=\"500\"\n          textAnchor=\"end\"\n        >\n          {Math.round(value / 60)}h\n        </text>\n      );\n    });\n\n    // Y축 라벨 (누적 시간) - 1000시간까지\n    const rightYLabels = Array.from({ length: 6 }, (_, i) => {\n      const value = (1000 * 60 / 5) * i; // 1000시간을 분으로 변환하여 5등분\n      const y = padding + chartHeight - (value / (1000 * 60)) * chartHeight;\n      return (\n        <text\n          key={`right-y-${i}`}\n          x={padding + chartWidth + 2}\n          y={y + 1.2}\n          fill=\"#374151\"\n          className=\"dark:fill-gray-200\"\n          fontSize=\"3.4\"\n          fontWeight=\"500\"\n          textAnchor=\"start\"\n        >\n          {Math.round(value / 60)}h\n        </text>\n      );\n    });\n\n    // X축 라벨 (월) - 그래프와 간격을 벌려서 가독성 개선\n    const xLabels = monthlyData.map((data, index) => {\n      const x = padding + (index * chartWidth / 12) + (chartWidth / 12 / 2);\n      return (\n        <text\n          key={`x-${index}`}\n          x={x}\n          y={padding + chartHeight + 8}\n          fill=\"#374151\"\n          className=\"dark:fill-gray-200\"\n          fontSize=\"3.8\"\n          fontWeight=\"500\"\n          textAnchor=\"middle\"\n        >\n          {data.monthName}\n        </text>\n      );\n    });\n\n    // 격자선\n    const gridLines = Array.from({ length: 6 }, (_, i) => {\n      const y = padding + (chartHeight / 5) * i;\n      return (\n        <line\n          key={`grid-${i}`}\n          x1={padding}\n          y1={y}\n          x2={padding + chartWidth}\n          y2={y}\n          stroke=\"#D1D5DB\"\n          className=\"dark:stroke-gray-600\"\n          strokeWidth={0.2}\n        />\n      );\n    });\n\n    return (\n      <svg \n        viewBox={`0 0 ${width} ${height}`} \n        className=\"w-full h-full\"\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        {/* 그라데이션 정의 */}\n        <defs>\n          <linearGradient id=\"areaGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#8B5CF6\" stopOpacity=\"0.3\" />\n            <stop offset=\"100%\" stopColor=\"#8B5CF6\" stopOpacity=\"0.05\" />\n          </linearGradient>\n          <linearGradient id=\"lineGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#3B82F6\" />\n            <stop offset=\"50%\" stopColor=\"#8B5CF6\" />\n            <stop offset=\"100%\" stopColor=\"#EC4899\" />\n          </linearGradient>\n          <linearGradient id=\"barGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#10B981\" />\n            <stop offset=\"100%\" stopColor=\"#059669\" />\n          </linearGradient>\n        </defs>\n        \n        {/* 배경 제거 */}\n        \n        {/* 격자선 */}\n        {gridLines}\n        \n        {/* Y축 라벨 (왼쪽 - 월별 블록 시간) */}\n        {leftYLabels}\n        \n        {/* Y축 라벨 (오른쪽 - 누적 시간) */}\n        {rightYLabels}\n        \n        {/* X축 라벨 */}\n        {xLabels}\n        \n        {/* 누적 시간 막대 */}\n        {cumulativeBars}\n        \n        {/* 월별 블록 시간 그라데이션 영역 */}\n        {areaPathWithBottom && (\n          <path\n            d={`M${areaPathWithBottom}`}\n            fill=\"url(#areaGradient)\"\n          />\n        )}\n        \n        {/* 월별 블록 시간 선 (그라데이션) */}\n        <polyline\n          points={monthlyLinePoints}\n          fill=\"none\"\n          stroke=\"url(#lineGradient)\"\n          strokeWidth={1.2}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        \n        {/* 월별 블록 시간 포인트 */}\n        {monthlyPoints}\n        \n        {/* 1000시간 LIMIT 라인 */}\n        {limitLine}\n        {limitText}\n        \n        {/* 축 라인 */}\n        <line x1={padding} y1={padding} x2={padding} y2={padding + chartHeight} stroke=\"#374151\" className=\"dark:stroke-gray-300\" strokeWidth={0.3} />\n        <line x1={padding} y1={padding + chartHeight} x2={padding + chartWidth} y2={padding + chartHeight} stroke=\"#374151\" className=\"dark:stroke-gray-300\" strokeWidth={0.3} />\n        <line x1={padding + chartWidth} y1={padding} x2={padding + chartWidth} y2={padding + chartHeight} stroke=\"#374151\" className=\"dark:stroke-gray-300\" strokeWidth={0.3} />\n      </svg>\n    );\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 px-0.5 sm:px-1 py-1 sm:py-2 pt-12 sm:pt-16 pt-safe\" onClick={onClose}>\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[85vh] sm:max-h-[90vh] overflow-hidden\" onClick={(e) => e.stopPropagation()}>\n        {/* 헤더 */}\n        <div className=\"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-xl font-bold text-gray-800 dark:text-gray-200\">\n            {currentYear}년 연간 비행시간\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* 그래프 */}\n        <div className=\"p-3 pb-2\">\n          <div className=\"mb-3\">\n            <div className=\"flex items-center justify-end gap-4 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-3 h-3 rounded-full bg-purple-500\"></div>\n                <span className=\"text-gray-600 dark:text-gray-400\">월 시간</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 bg-green-500 opacity-70\"></div>\n                <span className=\"text-gray-600 dark:text-gray-400\">누적 시간</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-1 bg-red-500 border-dashed border-t-2\"></div>\n                <span className=\"text-gray-600 dark:text-gray-400\">1000시간 LIMIT</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"p-1 sm:p-2\">\n            <div className=\"w-full h-[300px] sm:h-[340px] md:h-[380px] lg:h-[420px] overflow-x-auto\">\n              {isLoading ? (\n                <div className=\"flex items-center justify-center h-full\">\n                  <div className=\"text-center\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-2\"></div>\n                    <p className=\"text-gray-500 dark:text-gray-400\">월별 비행시간 불러오는 중...</p>\n                  </div>\n                </div>\n              ) : (\n                createGraph()\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* 통계 정보 */}\n        <div className=\"px-3 pb-4 pt-2 border-t border-gray-200 dark:border-gray-700\">\n          <div className=\"flex flex-row justify-between items-center gap-1 md:gap-2 text-xs md:text-base\">\n            <div className=\"flex items-center gap-1 md:gap-2\">\n              <span className=\"text-gray-500 dark:text-gray-400\">최대:</span>\n              <span className=\"font-bold text-gray-800 dark:text-gray-200 text-sm md:text-lg\">\n                {Math.round(Math.max(...monthlyData.map(d => d.blockTime)) / 60)}시간\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1 md:gap-2\">\n              <span className=\"text-gray-500 dark:text-gray-400\">총계:</span>\n              <span className=\"font-bold text-gray-800 dark:text-gray-200 text-sm md:text-lg\">\n                {Math.round((cumulativeData[cumulativeData.length - 1]?.cumulativeTime || 0) / 60)}시간\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1 md:gap-2\">\n              <span className=\"text-gray-500 dark:text-gray-400\">LIMIT까지:</span>\n              <span className=\"font-bold text-gray-800 dark:text-gray-200 text-sm md:text-lg\">\n                {Math.max(0, 1000 - Math.round((cumulativeData[cumulativeData.length - 1]?.cumulativeTime || 0) / 60))}시간\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnnualBlockTimeModal;\n"],"names":["AnnualBlockTimeModal","isOpen","onClose","flights","currentYear","monthlyData","setMonthlyData","useState","isLoading","setIsLoading","useEffect","_","monthIndex","monthFlights","flight","firstFlightWithMonthlyTotal","blockTime","timeParts","hours","minutes","total","cumulativeTime","cumulativeData","data","d","createGraph","isTablet","isDesktop","width","height","padding","rightPadding","chartWidth","chartHeight","monthlyLinePoints","index","x","y","areaPath","areaPathWithBottom","monthlyPoints","jsx","cumulativeBars","barHeight","limitY","limitLine","limitText","leftYLabels","i","value","jsxs","rightYLabels","xLabels","gridLines","e"],"mappings":"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"}