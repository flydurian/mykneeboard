{"version":3,"file":"CrewMemoModal.Cklmmlzz.js","sources":["../../components/modals/CrewMemoModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { XIcon } from '../icons';\n\ninterface CrewMemoModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    crewName: string;\n    initialMemo?: string;\n    onSave: (crewName: string, memo: string) => void;\n}\n\nconst CrewMemoModal: React.FC<CrewMemoModalProps> = ({ \n    isOpen, \n    onClose, \n    crewName, \n    initialMemo = '', \n    onSave \n}) => {\n    const [memo, setMemo] = useState(initialMemo);\n    const [isComposing, setIsComposing] = useState(false);\n    const draftMemoRef = useRef<string>(initialMemo);\n    const [editLength, setEditLength] = useState<number>(initialMemo?.length || 0);\n    const [isSaving, setIsSaving] = useState(false);\n    const [isEditing, setIsEditing] = useState(false);\n    const [showTextColorPalette, setShowTextColorPalette] = useState(false);\n    const [showBackgroundColorPalette, setShowBackgroundColorPalette] = useState(false);\n    const [showSymbolPalette, setShowSymbolPalette] = useState(false);\n    const modalRef = useRef<HTMLDivElement>(null);\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n    const MAX_LENGTH = 10000;\n\n    // ÏùΩÍ∏∞ ÌëúÏãúÏö©: Í∞ÄÏö¥Îç∞ Ï†ïÎ†¨ Îì± Î∂àÌïÑÏöîÌïú Ïù∏ÎùºÏù∏ Ï†ïÎ†¨ÏùÑ Ï†úÍ±∞\n    const sanitizeForRead = (html: string): string => {\n        if (!html) return html;\n        let out = html;\n        out = out.replace(/text-align\\s*:\\s*center;?/gi, '');\n        out = out.replace(/text-align\\s*:\\s*right;?/gi, '');\n        out = out.replace(/text-align\\s*:\\s*justify;?/gi, '');\n        out = out.replace(/align\\s*=\\s*\"?center\"?/gi, '');\n        out = out.replace(/align\\s*=\\s*\"?right\"?/gi, '');\n        // Îπà style Ï†úÍ±∞\n        out = out.replace(/style\\s*=\\s*\"\\s*\"/gi, '');\n        return out;\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            setMemo(initialMemo);\n            setIsEditing(false); // Î™®Îã¨Ïù¥ Ïó¥Î¶¥ Îïå Ìé∏Ïßë Î™®Îìú Ìï¥Ï†ú\n            // Î™®Îã¨Ïù¥ Ïó¥Î¶¥ Îïå Î∞∞Í≤Ω Ïä§ÌÅ¨Î°§ Î∞©ÏßÄ\n            document.body.style.overflow = 'hidden';\n            // Î™®Îã¨Ïù¥ Ïó¥Î¶¥ ÎïåÎßàÎã§ ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÎÜíÏù¥ Ï°∞Ï†ï\n            setTimeout(() => {\n                adjustTextareaHeight();\n            }, 0);\n        } else {\n            // Î™®Îã¨Ïù¥ Îã´Ìûê Îïå Î∞∞Í≤Ω Ïä§ÌÅ¨Î°§ Î≥µÏõê\n            document.body.style.overflow = 'unset';\n        }\n\n        // Ïª¥Ìè¨ÎÑåÌä∏ Ïñ∏ÎßàÏö¥Ìä∏ Ïãú Ïä§ÌÅ¨Î°§ Î≥µÏõê\n        return () => {\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen, initialMemo]);\n\n    // Ìé∏Ïßë Î™®ÎìúÍ∞Ä Î≥ÄÍ≤ΩÎê† Îïå ÌÖçÏä§Ìä∏ ÏòÅÏó≠ Ìè¨Ïª§Ïä§ Î∞è Ï¥àÍ∏∞ ÎÇ¥Ïö© Ï£ºÏûÖ\n    useEffect(() => {\n        if (isEditing) {\n            const el = textareaRef.current;\n            if (!el) return;\n            if (el.innerHTML !== memo) {\n                el.innerHTML = memo || '';\n            }\n            setTimeout(() => {\n                const node = textareaRef.current;\n                if (!node) return;\n                node.focus();\n                const range = document.createRange();\n                const sel = window.getSelection();\n                range.selectNodeContents(node as Node);\n                range.collapse(false);\n                sel?.removeAllRanges();\n                sel?.addRange(range);\n            }, 100);\n        }\n    }, [isEditing, memo]);\n\n    const adjustTextareaHeight = () => {\n        if (textareaRef.current) {\n            const textarea = textareaRef.current;\n            const minHeight = 200; // ÏµúÏÜå ÎÜíÏù¥\n            \n            // contentEditable divÏùò Í≤ΩÏö∞ scrollHeightÎ•º ÏÇ¨Ïö©ÌïòÏó¨ ÎÇ¥Ïö©Ïóê ÎßûÍ≤å ÎÜíÏù¥ Ï°∞Ï†ï\n            const scrollHeight = textarea.scrollHeight;\n            \n            // ÏµúÏÜå ÎÜíÏù¥Î•º Î≥¥Ïû•ÌïòÎ©¥ÏÑú ÎÇ¥Ïö©Ïóê ÎßûÍ≤å ÎÜíÏù¥ Ï°∞Ï†ï\n            const newHeight = Math.max(minHeight, scrollHeight);\n            textarea.style.height = newHeight + 'px';\n            \n            textarea.style.overflowY = 'auto';\n        }\n    };\n\n    // ÌÖçÏä§Ìä∏ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨\n    const handleTextChange = (e: React.FormEvent<HTMLDivElement>) => {\n        if (isComposing) return;\n        const target = e.target as HTMLDivElement;\n        draftMemoRef.current = target.innerHTML;\n        setEditLength(draftMemoRef.current.length);\n        // ÌÖçÏä§Ìä∏ Î≥ÄÍ≤Ω ÌõÑ ÎÜíÏù¥ Ï°∞Ï†ï\n        setTimeout(() => {\n            adjustTextareaHeight();\n        }, 0);\n    };\n\n    const handleCompositionStart = () => {\n        setIsComposing(true);\n    };\n\n    const handleCompositionEnd = () => {\n        setIsComposing(false);\n        if (textareaRef.current) {\n            draftMemoRef.current = textareaRef.current.innerHTML;\n            setEditLength(draftMemoRef.current.length);\n        }\n        setTimeout(() => {\n            adjustTextareaHeight();\n        }, 0);\n    };\n\n    // innerHTML ÏÑ§Ï†ïÏùÑ ÏúÑÌïú useEffect (ÏùΩÍ∏∞ Î™®ÎìúÏóêÏÑúÎßå Î∞òÏòÅ)\n    useEffect(() => {\n        if (!isEditing && textareaRef.current && memo !== textareaRef.current.innerHTML) {\n            textareaRef.current.innerHTML = memo || '<span class=\"text-gray-500 dark:text-gray-400\">Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...</span>';\n            setTimeout(() => {\n        adjustTextareaHeight();\n            }, 0);\n        }\n    }, [memo, isEditing]);\n\n    // ÌÇ§ ÏûÖÎ†• Ìï∏Îì§Îü¨ (ÏóîÌÑ∞ ÌÇ§ Ï≤òÎ¶¨)\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n        if (e.key === 'Enter') {\n            document.execCommand('insertLineBreak');\n            e.preventDefault();\n            return;\n        }\n    };\n\n    // Î™©Î°ù Í∏∞Îä• (contentEditableÏö©)\n    const insertList = (ordered: boolean = false) => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n            \n            // Îì§Ïó¨Ïì∞Í∏∞ÏôÄ Ï†ê/Î≤àÌò∏ Ï∂îÍ∞Ä\n            const indent = '    '; // 4Ïπ∏ Îì§Ïó¨Ïì∞Í∏∞ (Í≥µÎ∞±)\n            const bullet = ordered ? '1. ' : '‚Ä¢ ';\n            const listText = indent + bullet;\n            \n            // ÌòÑÏû¨ ÏúÑÏπòÏóê Î™©Î°ù ÌÖçÏä§Ìä∏ ÏÇΩÏûÖ\n                const textNode = document.createTextNode(listText);\n                range.deleteContents();\n                range.insertNode(textNode);\n            \n            // Ïª§ÏÑúÎ•º Î™©Î°ù ÌÖçÏä§Ìä∏ Îí§Î°ú Ïù¥Îèô\n                range.setStartAfter(textNode);\n                range.setEndAfter(textNode);\n                selection.removeAllRanges();\n                selection.addRange(range);\n                \n                // Î©îÎ™® ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n                setMemo(textareaRef.current.innerHTML);\n            }\n        }\n    };\n\n    // Ìè∞Ìä∏ ÌÅ¨Í∏∞ Î≥ÄÍ≤Ω\n    const changeFontSize = (size: string) => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    // ÏÑ†ÌÉùÎêú ÌÖçÏä§Ìä∏Ïóê Ìè∞Ìä∏ ÌÅ¨Í∏∞ Ï†ÅÏö©\n                    const span = document.createElement('span');\n                    span.style.fontSize = `${size}px`;\n                    span.textContent = selectedText;\n                    range.deleteContents();\n                    range.insertNode(span);\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // ÌÖçÏä§Ìä∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω\n    const changeTextColor = (color: string) => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    if (color === '#000000') {\n                        // Í∏∞Î≥∏ÏÉâ(Í≤ÄÏùÄÏÉâ)ÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ ÏÉâÏÉÅ Ï†úÍ±∞\n                        let container = range.commonAncestorContainer;\n                        if (container.nodeType === Node.TEXT_NODE) {\n                            container = container.parentNode!;\n                        }\n                        \n                        // span ÌÉúÍ∑∏Î•º Ï∞æÏïÑÏÑú ÏÉâÏÉÅ Ï†úÍ±∞\n                        let spanElement = null;\n                        let currentElement = container;\n                        \n                        // Î∂ÄÎ™® ÏöîÏÜåÎì§ÏùÑ ÏàúÌöåÌïòÎ©¥ÏÑú color Ïä§ÌÉÄÏùºÏù¥ ÏûàÎäî span Ï∞æÍ∏∞\n                        while (currentElement && currentElement !== textareaRef.current) {\n                            if (currentElement.nodeType === Node.ELEMENT_NODE) {\n                                const element = currentElement as HTMLElement;\n                                if (element.tagName === 'SPAN' && element.style.color) {\n                                    spanElement = element;\n                                    break;\n                                }\n                            }\n                            currentElement = currentElement.parentNode;\n                        }\n                        \n                        if (spanElement) {\n                            const parent = spanElement.parentNode;\n                            if (parent) {\n                                parent.insertBefore(document.createTextNode(spanElement.textContent || ''), spanElement);\n                                parent.removeChild(spanElement);\n                            }\n                        }\n                    } else {\n                        // Îã§Î•∏ ÏÉâÏÉÅÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ ÏÉâÏÉÅ Ï†ÅÏö©\n                        const span = document.createElement('span');\n                        span.style.color = color;\n                        span.textContent = selectedText;\n                        range.deleteContents();\n                        range.insertNode(span);\n                    }\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // Î∞∞Í≤Ω ÏÉâÏÉÅ Î≥ÄÍ≤Ω\n    const changeBackgroundColor = (color: string) => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    // ÏÑ†ÌÉùÎêú ÌÖçÏä§Ìä∏Ïóê Î∞∞Í≤ΩÏÉâ Ï†ÅÏö©\n                    const bgColor = color === 'transparent' ? 'transparent' : color;\n                    const span = document.createElement('span');\n                    span.style.backgroundColor = bgColor;\n                    span.textContent = selectedText;\n                    range.deleteContents();\n                    range.insertNode(span);\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // Î≥ºÎìú ÌÜ†Í∏Ä\n    const applyBold = () => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    // ÏÑ†ÌÉùÎêú ÌÖçÏä§Ìä∏Í∞Ä Ïù¥ÎØ∏ strong ÌÉúÍ∑∏ ÏïàÏóê ÏûàÎäîÏßÄ ÌôïÏù∏\n                    let container = range.commonAncestorContainer;\n                    if (container.nodeType === Node.TEXT_NODE) {\n                        container = container.parentNode!;\n                    }\n                    \n                    // strong ÌÉúÍ∑∏Î•º Ï∞æÏïÑÏÑú ÌÜ†Í∏Ä\n                    let strongElement = null;\n                    let currentElement = container;\n                    \n                    // Î∂ÄÎ™® ÏöîÏÜåÎì§ÏùÑ ÏàúÌöåÌïòÎ©¥ÏÑú strong ÌÉúÍ∑∏ Ï∞æÍ∏∞\n                    while (currentElement && currentElement !== textareaRef.current) {\n                        if (currentElement.nodeType === Node.ELEMENT_NODE) {\n                            const element = currentElement as HTMLElement;\n                            if (element.tagName === 'STRONG') {\n                                strongElement = element;\n                                break;\n                            }\n                        }\n                        currentElement = currentElement.parentNode;\n                    }\n                    \n                    if (strongElement) {\n                        // Ïù¥ÎØ∏ Î≥ºÎìúÏù¥Î©¥ Ìï¥Ï†ú\n                        const parent = strongElement.parentNode;\n                        if (parent) {\n                            parent.insertBefore(document.createTextNode(strongElement.textContent || ''), strongElement);\n                            parent.removeChild(strongElement);\n                        }\n                    } else {\n                        // Î≥ºÎìúÍ∞Ä ÏïÑÎãàÎ©¥ Ï†ÅÏö©\n                        const strong = document.createElement('strong');\n                        strong.textContent = selectedText;\n                        range.deleteContents();\n                        range.insertNode(strong);\n                    }\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // Ïù¥ÌÉ§Î¶≠ ÌÜ†Í∏Ä\n    const applyItalic = () => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    // ÏÑ†ÌÉùÎêú ÌÖçÏä§Ìä∏Í∞Ä Ïù¥ÎØ∏ em ÌÉúÍ∑∏ ÏïàÏóê ÏûàÎäîÏßÄ ÌôïÏù∏\n                    let container = range.commonAncestorContainer;\n                    if (container.nodeType === Node.TEXT_NODE) {\n                        container = container.parentNode!;\n                    }\n                    \n                    // em ÌÉúÍ∑∏Î•º Ï∞æÏïÑÏÑú ÌÜ†Í∏Ä\n                    let emElement = null;\n                    let currentElement = container;\n                    \n                    // Î∂ÄÎ™® ÏöîÏÜåÎì§ÏùÑ ÏàúÌöåÌïòÎ©¥ÏÑú em ÌÉúÍ∑∏ Ï∞æÍ∏∞\n                    while (currentElement && currentElement !== textareaRef.current) {\n                        if (currentElement.nodeType === Node.ELEMENT_NODE) {\n                            const element = currentElement as HTMLElement;\n                            if (element.tagName === 'EM') {\n                                emElement = element;\n                                break;\n                            }\n                        }\n                        currentElement = currentElement.parentNode;\n                    }\n                    \n                    if (emElement) {\n                        // Ïù¥ÎØ∏ Ïù¥ÌÉ§Î¶≠Ïù¥Î©¥ Ìï¥Ï†ú\n                        const parent = emElement.parentNode;\n                        if (parent) {\n                            parent.insertBefore(document.createTextNode(emElement.textContent || ''), emElement);\n                            parent.removeChild(emElement);\n                        }\n                    } else {\n                        // Ïù¥ÌÉ§Î¶≠Ïù¥ ÏïÑÎãàÎ©¥ Ï†ÅÏö©\n                        const em = document.createElement('em');\n                        em.textContent = selectedText;\n                        range.deleteContents();\n                        range.insertNode(em);\n                    }\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // Î∞ëÏ§Ñ ÌÜ†Í∏Ä\n    const applyUnderline = () => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                const selectedText = range.toString();\n                \n                if (selectedText) {\n                    // ÏÑ†ÌÉùÎêú ÌÖçÏä§Ìä∏Í∞Ä Ïù¥ÎØ∏ u ÌÉúÍ∑∏ ÏïàÏóê ÏûàÎäîÏßÄ ÌôïÏù∏\n                    let container = range.commonAncestorContainer;\n                    if (container.nodeType === Node.TEXT_NODE) {\n                        container = container.parentNode!;\n                    }\n                    \n                    // u ÌÉúÍ∑∏Î•º Ï∞æÏïÑÏÑú ÌÜ†Í∏Ä\n                    let uElement = null;\n                    let currentElement = container;\n                    \n                    // Î∂ÄÎ™® ÏöîÏÜåÎì§ÏùÑ ÏàúÌöåÌïòÎ©¥ÏÑú u ÌÉúÍ∑∏ Ï∞æÍ∏∞\n                    while (currentElement && currentElement !== textareaRef.current) {\n                        if (currentElement.nodeType === Node.ELEMENT_NODE) {\n                            const element = currentElement as HTMLElement;\n                            if (element.tagName === 'U') {\n                                uElement = element;\n                                break;\n                            }\n                        }\n                        currentElement = currentElement.parentNode;\n                    }\n                    \n                    if (uElement) {\n                        // Ïù¥ÎØ∏ Î∞ëÏ§ÑÏù¥Î©¥ Ìï¥Ï†ú\n                        const parent = uElement.parentNode;\n                        if (parent) {\n                            parent.insertBefore(document.createTextNode(uElement.textContent || ''), uElement);\n                            parent.removeChild(uElement);\n                        }\n                    } else {\n                        // Î∞ëÏ§ÑÏù¥ ÏïÑÎãàÎ©¥ Ï†ÅÏö©\n                        const u = document.createElement('u');\n                        u.textContent = selectedText;\n                        range.deleteContents();\n                        range.insertNode(u);\n                    }\n                    setMemo(textareaRef.current.innerHTML);\n                }\n            }\n        }\n    };\n\n    // ÌäπÏàòÎ¨∏Ïûê ÏÇΩÏûÖ\n    const insertSymbol = (symbol: string) => {\n        if (textareaRef.current) {\n            const selection = window.getSelection();\n            if (selection && selection.rangeCount > 0) {\n                const range = selection.getRangeAt(0);\n                range.deleteContents();\n                range.insertNode(document.createTextNode(symbol));\n                range.collapse(false);\n                setMemo(textareaRef.current.innerHTML);\n            }\n        }\n    };\n\n    const handleSave = async () => {\n        setIsSaving(true);\n        try {\n            const latest = textareaRef.current?.innerHTML ?? draftMemoRef.current ?? memo;\n            if (latest !== memo) {\n                setMemo(latest);\n            }\n            await onSave(crewName, latest);\n            setIsEditing(false);\n            // Ï†ÄÏû• ÌõÑ Î™®Îã¨ÏùÑ Îã´ÏßÄ ÏïäÏùå\n        } catch (error) {\n            console.error('Î©îÎ™® Ï†ÄÏû• Ïã§Ìå®:', error);\n        } finally {\n            setIsSaving(false);\n        }\n    };\n\n    const handleCancel = () => {\n        setMemo(initialMemo);\n        setIsEditing(false);\n        onClose();\n    };\n\n    const handleEdit = () => {\n        setIsEditing(true);\n        // Ìé∏Ïßë Î™®Îìú ÏßÑÏûÖ Ïãú ÌÖçÏä§Ìä∏ ÏòÅÏó≠Ïóê Ìè¨Ïª§Ïä§ ÏÑ§Ï†ï\n        setTimeout(() => {\n            if (textareaRef.current) {\n                textareaRef.current.focus();\n                // Ïª§ÏÑúÎ•º ÎÅùÏúºÎ°ú Ïù¥Îèô (contentEditableÏö©)\n                const range = document.createRange();\n                const sel = window.getSelection();\n                range.selectNodeContents(textareaRef.current);\n                range.collapse(false);\n                sel?.removeAllRanges();\n                sel?.addRange(range);\n            }\n        }, 100);\n    };\n\n    const handleCancelEdit = () => {\n        setMemo(initialMemo);\n        setIsEditing(false);\n    };\n\n    const handleDelete = async () => {\n        if (window.confirm('Î©îÎ™®Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {\n            setIsSaving(true);\n            try {\n                await onSave(crewName, ''); // Save empty string to delete memo\n                onClose();\n            } catch (error) {\n                console.error('Î©îÎ™® ÏÇ≠Ï†ú Ïã§Ìå®:', error);\n                alert('Î©îÎ™® ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');\n            } finally {\n                setIsSaving(false);\n            }\n        }\n    };\n\n    // ÌåîÎ†àÌä∏ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            if ((showTextColorPalette || showBackgroundColorPalette || showSymbolPalette) && \n                !(event.target as Element).closest('.color-palette-container') &&\n                !(event.target as Element).closest('.symbol-palette-container')) {\n                setShowTextColorPalette(false);\n                setShowBackgroundColorPalette(false);\n                setShowSymbolPalette(false);\n            }\n        };\n\n        if (showTextColorPalette || showBackgroundColorPalette || showSymbolPalette) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            if (showTextColorPalette || showBackgroundColorPalette || showSymbolPalette) {\n                document.removeEventListener('mousedown', handleClickOutside);\n            }\n        };\n    }, [showTextColorPalette, showBackgroundColorPalette, showSymbolPalette]);\n\n    if (!isOpen) {\n        return null;\n    }\n\n    const handleTouchMove = (e: React.TouchEvent) => {\n        // Î™®Îã¨ ÎÇ¥Î∂ÄÏùò Ïä§ÌÅ¨Î°§ Í∞ÄÎä•Ìïú ÏòÅÏó≠ÏóêÏÑúÎßå Ïä§ÌÅ¨Î°§ ÌóàÏö©\n        const target = e.target as HTMLElement;\n        const isScrollableArea = target.closest('[contenteditable=\"true\"]') || \n                                 target.closest('.custom-scrollbar') ||\n                                 target.closest('[style*=\"overflow\"]') ||\n                                 target.closest('.memo-content-area');\n        \n        // Ïä§ÌÅ¨Î°§ Í∞ÄÎä•Ìïú ÏòÅÏó≠Ïù¥ ÏïÑÎãàÎ©¥ Í∏∞Î≥∏ ÎèôÏûë Î∞©ÏßÄ\n        if (!isScrollableArea) {\n            e.preventDefault();\n        }\n    };\n\n    return (\n        <div \n            className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-[80] p-4 pt-safe\" \n            onClick={onClose}\n            onTouchMove={handleTouchMove}\n        >\n            <div \n                ref={modalRef}\n                className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in-up flex flex-col my-4 custom-scrollbar\" \n                onClick={(e) => e.stopPropagation()}\n                style={{ \n                    maxHeight: '90vh', \n                    height: 'auto',\n                    minHeight: 'auto'\n                }}\n            >\n                <button \n                    onClick={onClose} \n                    className=\"absolute top-4 right-4 text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-gray-100 transition-colors\"\n                >\n                    <XIcon className=\"w-6 h-6\" />\n                </button>\n                \n                <div className=\"flex-shrink-0 mb-2\">\n                    <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-1\">\n                        <span className=\"text-blue-600 dark:text-blue-400\">{crewName}</span>Îãò Î©îÎ™®\n                    </h2>\n                </div>\n                \n                <div className=\"flex-1 min-h-0 flex flex-col\">\n                    {/* Ìà¥Î∞î */}\n                    {isEditing && (\n                        <div className=\"flex-shrink-0 border border-gray-300 dark:border-gray-600 rounded-t-lg bg-gray-50 dark:bg-gray-700 p-2 flex flex-wrap gap-1\">\n                            {/* Ìè∞Ìä∏ ÌÅ¨Í∏∞ */}\n                            <select\n                                onChange={(e) => changeFontSize(e.target.value)}\n                                defaultValue=\"14\"\n                                className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\"\n                                title=\"Ìè∞Ìä∏ ÌÅ¨Í∏∞\"\n                            >\n                                <option value=\"8\">8pt</option>\n                                <option value=\"9\">9pt</option>\n                                <option value=\"10\">10pt</option>\n                                <option value=\"11\">11pt</option>\n                                <option value=\"12\">12pt</option>\n                                <option value=\"14\">14pt</option>\n                                <option value=\"16\">16pt</option>\n                                <option value=\"18\">18pt</option>\n                                <option value=\"20\">20pt</option>\n                                <option value=\"24\">24pt</option>\n                            </select>\n                            \n                            {/* ÌÖçÏä§Ìä∏ ÏÉâÏÉÅ */}\n                            <div className=\"relative color-palette-container\">\n                                <button\n                                    onMouseDown={(e) => e.preventDefault()}\n                                    onClick={() => setShowTextColorPalette(!showTextColorPalette)}\n                                    className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600\"\n                                    title=\"ÌÖçÏä§Ìä∏ ÏÉâÏÉÅ\"\n                                >\n                                    A\n                                </button>\n                                \n                                {showTextColorPalette && (\n                                    <div className=\"absolute top-full left-0 mt-2 p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl\" style={{ zIndex: 9999, width: '140px' }}>\n                                        <div className=\"grid grid-cols-5 gap-2 justify-items-center\">\n                                            {['#000000', '#FFFFFF', '#FF0000', '#00AA00', '#0066FF', '#FF6600', '#9900FF', '#00AAAA', '#FFAA00', '#AA00AA'].map((color) => (\n                                                <button\n                                                    key={color}\n                                                    onMouseDown={(e) => e.preventDefault()}\n                                                    onClick={() => {\n                                                        changeTextColor(color);\n                                                        setShowTextColorPalette(false);\n                                                    }}\n                                                    className=\"w-6 h-6 border border-gray-300 dark:border-gray-600 rounded cursor-pointer hover:scale-110 active:scale-95 transition-transform\"\n                                                    style={{ backgroundColor: color }}\n                                                    title={`ÌÖçÏä§Ìä∏ ÏÉâÏÉÅ: ${color}`}\n                                                />\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            \n                            {/* Î∞∞Í≤Ω ÏÉâÏÉÅ */}\n                            <div className=\"relative color-palette-container\">\n                                <button\n                                    onMouseDown={(e) => e.preventDefault()}\n                                    onClick={() => setShowBackgroundColorPalette(!showBackgroundColorPalette)}\n                                    className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600\"\n                                    title=\"Î∞∞Í≤Ω ÏÉâÏÉÅ\"\n                                >\n                                    üé®\n                                </button>\n                                \n                                {showBackgroundColorPalette && (\n                                    <div className=\"absolute top-full left-0 mt-2 p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl\" style={{ zIndex: 9999, width: '140px' }}>\n                                        <div className=\"grid grid-cols-5 gap-2 justify-items-center\">\n                                            {['transparent', '#FFE6E6', '#E6F3FF', '#E6FFE6', '#FFF0E6', '#F0E6FF', '#E6FFFF', '#FFFFE6', '#FFE6F0', '#E6E6E6'].map((color) => (\n                                                <button\n                                                    key={color}\n                                                    onMouseDown={(e) => e.preventDefault()}\n                                                    onClick={() => {\n                                                        changeBackgroundColor(color);\n                                                        setShowBackgroundColorPalette(false);\n                                                    }}\n                                                    className=\"w-6 h-6 border border-gray-300 dark:border-gray-600 rounded cursor-pointer hover:scale-110 active:scale-95 transition-transform\"\n                                                    style={{ backgroundColor: color }}\n                                                    title={color === 'transparent' ? 'Î∞∞Í≤Ω ÏóÜÏùå' : `Î∞∞Í≤Ω ÏÉâÏÉÅ: ${color}`}\n                                                />\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            \n                            <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\"></div>\n                            \n                            {/* Î≥ºÎìú */}\n                            <button\n                                onMouseDown={(e) => e.preventDefault()}\n                                onClick={applyBold}\n                                className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 font-bold\"\n                                title=\"ÍµµÍ≤å\"\n                            >\n                                B\n                            </button>\n                            \n                            {/* Ïù¥ÌÉ§Î¶≠ */}\n                            <button\n                                onMouseDown={(e) => e.preventDefault()}\n                                onClick={applyItalic}\n                                className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 italic\"\n                                title=\"Í∏∞Ïö∏ÏûÑ\"\n                            >\n                                I\n                            </button>\n                            \n                            {/* Î∞ëÏ§Ñ */}\n                            <button\n                                onMouseDown={(e) => e.preventDefault()}\n                                onClick={applyUnderline}\n                                className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600 underline\"\n                                title=\"Î∞ëÏ§Ñ\"\n                            >\n                                U\n                            </button>\n                            \n                            <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\"></div>\n                            \n                            {/* ÌäπÏàòÎ¨∏Ïûê */}\n                            <div className=\"relative symbol-palette-container\">\n                                <button\n                                    onMouseDown={(e) => e.preventDefault()}\n                                    onClick={() => setShowSymbolPalette(!showSymbolPalette)}\n                                    className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600\"\n                                    title=\"ÌäπÏàòÎ¨∏Ïûê\"\n                                >\n                                    Œ©\n                                </button>\n                                \n                                {showSymbolPalette && (\n                                    <div className=\"absolute top-full left-0 mt-2 p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-xl\" style={{ zIndex: 9999, width: '140px' }}>\n                                        <div className=\"grid grid-cols-5 gap-2 justify-items-center\">\n                                            {['‚Üê', '‚Üí', '‚Üë', '‚Üì', '‚Üµ', '‚óè', '‚ñ†', '‚ñ≤', '‚ñº', '‚óÜ'].map((symbol) => (\n                                                <button\n                                                    key={symbol}\n                                                    onMouseDown={(e) => e.preventDefault()}\n                                                    onClick={() => {\n                                                        insertSymbol(symbol);\n                                                        setShowSymbolPalette(false);\n                                                    }}\n                                                    className=\"w-6 h-6 border border-gray-300 dark:border-gray-600 rounded cursor-pointer hover:scale-110 active:scale-95 transition-transform text-gray-900 dark:text-gray-100 font-bold\"\n                                                    style={{ fontSize: '13px' }}\n                                                    title={`ÌäπÏàòÎ¨∏Ïûê: ${symbol}`}\n                                                >\n                                                    {symbol}\n                                                </button>\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            \n                            {/* Î™©Î°ù */}\n                            <button\n                                onMouseDown={(e) => e.preventDefault()}\n                                onClick={() => insertList(false)}\n                                className=\"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-600\"\n                                title=\"Î™©Î°ù\"\n                            >\n                                ‚Ä¢\n                            </button>\n                        </div>\n                    )}\n                    \n                    {/* ÌÖçÏä§Ìä∏ ÏòÅÏó≠ */}\n                    <div className=\"flex-1 min-h-0 flex flex-col\">\n                        {isEditing ? (\n                            <div\n                        ref={textareaRef}\n                                contentEditable={true}\n                                suppressContentEditableWarning={true}\n                                onInput={handleTextChange}\n                                onKeyDown={handleKeyDown}\n                                onPaste={(e) => {\n                                    if (!textareaRef.current) return;\n                                    e.preventDefault();\n                                    const plain = e.clipboardData.getData('text/plain');\n                                    const normalized = plain.replace(/\\r/g, '').split('\\n').map((l, i, arr) => {\n                                        const next = i + 1 < arr.length ? arr[i + 1] : '';\n                                        const isBlankNext = next.trim().length === 0;\n                                        const isBulletNext = /^\\s*(?:‚Ä¢|-|\\d+\\.|\\d+\\))/u.test(next);\n                                        if (i < arr.length - 1) {\n                                            if (l.trim().length === 0) return '';\n                                            if (isBlankNext || isBulletNext) return l + '\\n';\n                                            return l + ' ';\n                                        }\n                                        return l;\n                                    }).join('\\n').replace(/ +/g, ' ').replace(/\\n{2,}/g, '\\n');\n                                    const html = normalized\n                                        .replace(/&/g, '&amp;')\n                                        .replace(/</g, '&lt;')\n                                        .replace(/>/g, '&gt;')\n                                        .replace(/\\n/g, '<br>');\n                                    document.execCommand('insertHTML', false, html);\n                                }}\n                                onTouchStart={(e) => e.stopPropagation()}\n                                onTouchMove={(e) => e.stopPropagation()}\n                                onWheel={(e) => e.stopPropagation()}\n                                onCompositionStart={handleCompositionStart}\n                                onCompositionEnd={handleCompositionEnd}\n                                data-placeholder=\"Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\n                                className=\"memo-content-area w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg resize-none transition-colors custom-scrollbar flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 rounded-t-none\"\n                                style={{ \n                                    minHeight: '150px',\n                                    maxHeight: 'calc(90vh - 130px)',\n                                    height: 'auto',\n                                    overflowY: 'auto',\n                                    overflowX: 'hidden',\n                                    WebkitOverflowScrolling: 'touch',\n                                    touchAction: 'pan-y',\n                                    whiteSpace: 'pre-wrap',\n                                    wordBreak: 'break-word',\n                                    cursor: 'text',\n                                    userSelect: 'text'\n                                }}\n                            />\n                        ) : (\n                            <div\n                                className=\"memo-content-area w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg custom-scrollbar flex-1 bg-white dark:bg-gray-800 text-black dark:text-white\"\n                                style={{ \n                                    minHeight: '150px',\n                                    maxHeight: 'calc(90vh - 130px)',\n                                    height: 'auto',\n                                    overflowY: 'auto',\n                                    overflowX: 'hidden',\n                                    WebkitOverflowScrolling: 'touch',\n                                    touchAction: 'pan-y',\n                                    whiteSpace: 'pre-wrap',\n                                    wordBreak: 'break-word',\n                                    cursor: 'default',\n                                    userSelect: 'text',\n                                    // Î™©Î°ù Ìï≠Î™©Ïùò ÏûêÎèô Ï§ÑÎ∞îÍøà Îì§Ïó¨Ïì∞Í∏∞\n                                    textIndent: '0',\n                                    paddingLeft: '0'\n                                }}\n                                css={`\n                                    /* Î™©Î°ù Ìï≠Î™©Ïùò ÏûêÎèô Ï§ÑÎ∞îÍøà Îì§Ïó¨Ïì∞Í∏∞ */\n                                    .memo-content-area {\n                                        text-indent: 0;\n                                        padding-left: 0;\n                                        line-height: 1.5;\n                                    }\n                                    \n                                    /* Î™©Î°ù Ìï≠Î™©Ïù¥ ÏûêÎèôÏúºÎ°ú Ï§ÑÎ∞îÍøàÎê† Îïå Îì§Ïó¨Ïì∞Í∏∞ */\n                                    .memo-content-area {\n                                        /* ‚Ä¢ Í∏∞Ìò∏ Îã§Ïùå ÏúÑÏπòÍπåÏßÄ Îì§Ïó¨Ïì∞Í∏∞ */\n                                        text-indent: -2em;\n                                        padding-left: 2em;\n                                        hanging-punctuation: first;\n                                    }\n                                    \n                                    /* Ï≤´ Î≤àÏß∏ Ï§ÑÏùÄ Îì§Ïó¨Ïì∞Í∏∞ ÌïòÏßÄ ÏïäÏùå */\n                                    .memo-content-area::first-line {\n                                        text-indent: 0;\n                                    }\n                                    \n                                    /* Î™©Î°ù Ìï≠Î™©ÏóêÎßå Ï†ÅÏö© */\n                                    .memo-content-area:has(> *:first-child:is([data-bullet])) {\n                                        text-indent: -2em;\n                                        padding-left: 2em;\n                                    }\n                                `}\n                                dangerouslySetInnerHTML={{ \n                                    __html: memo && memo.length > 0 \n                                        ? memo \n                                        : '<div class=\"text-gray-400 dark:text-gray-500 italic\">Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...</div>'\n                                }}\n                            />\n                        )}\n                        \n                        <div className=\"flex-shrink-0 text-right text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                            {(isEditing ? editLength : memo.length)}/{MAX_LENGTH.toLocaleString()}\n                        </div>\n                    </div>\n                </div>\n                \n                <div className=\"flex-shrink-0 flex justify-between mt-1 pt-1 border-t border-gray-200 dark:border-gray-600\">\n                    {isEditing ? (\n                        <>\n                            <button\n                                onClick={handleDelete}\n                                className=\"px-3 py-1.5 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                                disabled={isSaving || !memo.trim()}\n                            >\n                                ÏÇ≠Ï†ú\n                            </button>\n                            <div className=\"flex gap-2\">\n                                <button\n                                    onClick={handleCancelEdit}\n                                    className=\"px-3 py-1.5 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n                                    disabled={isSaving}\n                                >\n                                    Ï∑®ÏÜå\n                                </button>\n                                <button\n                                    onClick={handleSave}\n                                    className=\"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                                    disabled={isSaving}\n                                >\n                                    {isSaving ? 'Ï†ÄÏû• Ï§ë...' : 'Ï†ÄÏû•'}\n                                </button>\n                            </div>\n                        </>\n                    ) : (\n                        <div className=\"flex justify-center w-full\">\n                            <button\n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    handleEdit();\n                                }}\n                                className=\"px-4 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer\"\n                                type=\"button\"\n                            >\n                                Ìé∏Ïßë\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CrewMemoModal;\n"],"names":["CrewMemoModal","isOpen","onClose","crewName","initialMemo","onSave","memo","setMemo","useState","isComposing","setIsComposing","draftMemoRef","useRef","editLength","setEditLength","isSaving","setIsSaving","isEditing","setIsEditing","showTextColorPalette","setShowTextColorPalette","showBackgroundColorPalette","setShowBackgroundColorPalette","showSymbolPalette","setShowSymbolPalette","modalRef","textareaRef","MAX_LENGTH","useEffect","adjustTextareaHeight","el","node","range","sel","textarea","minHeight","scrollHeight","newHeight","handleTextChange","target","handleCompositionStart","handleCompositionEnd","handleKeyDown","insertList","ordered","selection","listText","textNode","changeFontSize","size","selectedText","span","changeTextColor","color","container","spanElement","currentElement","element","parent","changeBackgroundColor","bgColor","applyBold","strongElement","strong","applyItalic","emElement","em","applyUnderline","uElement","u","insertSymbol","symbol","handleSave","latest","handleEdit","handleCancelEdit","handleDelete","handleClickOutside","event","handleTouchMove","jsx","jsxs","XIcon","e","html","l","i","arr","next","isBlankNext","isBulletNext","Fragment"],"mappings":"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"}