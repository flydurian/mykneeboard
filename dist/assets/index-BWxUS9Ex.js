var kC=Object.defineProperty;var CC=(t,e,r)=>e in t?kC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ye=(t,e,r)=>CC(t,typeof e!="symbol"?e+"":e,r);import{initializeApp as NC}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getAnalytics as DC}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";import{getDatabase as IC}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";import{getAuth as RC}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();const OC={apiKey:"AIzaSyBqCk8phg_Bd8_3sz2Qnvy4WRRvH8Mf5k0",authDomain:"flightdashboard-159bc.firebaseapp.com",databaseURL:"https://flightdashboard-159bc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"flightdashboard-159bc",storageBucket:"flightdashboard-159bc.firebasestorage.app",messagingSenderId:"834175395337",appId:"1:834175395337:web:839e1d56796b621a97fad8",measurementId:"G-X2FMMSY232"},Cd=NC(OC),MC=DC(Cd),FC=IC(Cd),LC=RC(Cd);window.firebase={app:Cd,analytics:MC,database:FC,auth:LC};function RT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tm={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function PC(){if(k2)return Wl;k2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:o}}return Wl.Fragment=e,Wl.jsx=r,Wl.jsxs=r,Wl}var C2;function UC(){return C2||(C2=1,tm.exports=PC()),tm.exports}var p=UC(),rm={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function BC(){if(N2)return wt;N2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function b(M,K,C){this.props=M,this.context=K,this.refs=w,this.updater=C||T}b.prototype.isReactComponent={},b.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=b.prototype;function R(M,K,C){this.props=M,this.context=K,this.refs=w,this.updater=C||T}var S=R.prototype=new N;S.constructor=R,_(S,b.prototype),S.isPureReactComponent=!0;var U=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function D(M,K,C,z,V,Y){return C=Y.ref,{$$typeof:t,type:M,key:K,ref:C!==void 0?C:null,props:Y}}function q(M,K){return D(M.type,K,void 0,void 0,void 0,M.props)}function H(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function fe(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(C){return K[C]})}var ne=/\/+/g;function Q(M,K){return typeof M=="object"&&M!==null&&M.key!=null?fe(""+M.key):K.toString(36)}function ce(){}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ce,ce):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function xe(M,K,C,z,V){var Y=typeof M;(Y==="undefined"||Y==="boolean")&&(M=null);var ae=!1;if(M===null)ae=!0;else switch(Y){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(M.$$typeof){case t:case e:ae=!0;break;case m:return ae=M._init,xe(ae(M._payload),K,C,z,V)}}if(ae)return V=V(M),ae=z===""?"."+Q(M,0):z,U(V)?(C="",ae!=null&&(C=ae.replace(ne,"$&/")+"/"),xe(V,K,C,"",function(be){return be})):V!=null&&(H(V)&&(V=q(V,C+(V.key==null||M&&M.key===V.key?"":(""+V.key).replace(ne,"$&/")+"/")+ae)),K.push(V)),1;ae=0;var Te=z===""?".":z+":";if(U(M))for(var Ae=0;Ae<M.length;Ae++)z=M[Ae],Y=Te+Q(z,Ae),ae+=xe(z,K,C,Y,V);else if(Ae=v(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(z=M.next()).done;)z=z.value,Y=Te+Q(z,Ae++),ae+=xe(z,K,C,Y,V);else if(Y==="object"){if(typeof M.then=="function")return xe(Ce(M),K,C,z,V);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ae}function X(M,K,C){if(M==null)return M;var z=[],V=0;return xe(M,z,"","",function(Y){return K.call(C,Y,V++)}),z}function se(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(C){(M._status===0||M._status===-1)&&(M._status=1,M._result=C)},function(C){(M._status===0||M._status===-1)&&(M._status=2,M._result=C)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function J(){}return wt.Children={map:X,forEach:function(M,K,C){X(M,function(){K.apply(this,arguments)},C)},count:function(M){var K=0;return X(M,function(){K++}),K},toArray:function(M){return X(M,function(K){return K})||[]},only:function(M){if(!H(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},wt.Component=b,wt.Fragment=r,wt.Profiler=a,wt.PureComponent=R,wt.StrictMode=n,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return P.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cloneElement=function(M,K,C){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var z=_({},M.props),V=M.key,Y=void 0;if(K!=null)for(ae in K.ref!==void 0&&(Y=void 0),K.key!==void 0&&(V=""+K.key),K)!W.call(K,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&K.ref===void 0||(z[ae]=K[ae]);var ae=arguments.length-2;if(ae===1)z.children=C;else if(1<ae){for(var Te=Array(ae),Ae=0;Ae<ae;Ae++)Te[Ae]=arguments[Ae+2];z.children=Te}return D(M.type,V,void 0,void 0,Y,z)},wt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},wt.createElement=function(M,K,C){var z,V={},Y=null;if(K!=null)for(z in K.key!==void 0&&(Y=""+K.key),K)W.call(K,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(V[z]=K[z]);var ae=arguments.length-2;if(ae===1)V.children=C;else if(1<ae){for(var Te=Array(ae),Ae=0;Ae<ae;Ae++)Te[Ae]=arguments[Ae+2];V.children=Te}if(M&&M.defaultProps)for(z in ae=M.defaultProps,ae)V[z]===void 0&&(V[z]=ae[z]);return D(M,Y,void 0,void 0,null,V)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:u,render:M}},wt.isValidElement=H,wt.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:se}},wt.memo=function(M,K){return{$$typeof:h,type:M,compare:K===void 0?null:K}},wt.startTransition=function(M){var K=P.T,C={};P.T=C;try{var z=M(),V=P.S;V!==null&&V(C,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(J,Oe)}catch(Y){Oe(Y)}finally{P.T=K}},wt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},wt.use=function(M){return P.H.use(M)},wt.useActionState=function(M,K,C){return P.H.useActionState(M,K,C)},wt.useCallback=function(M,K){return P.H.useCallback(M,K)},wt.useContext=function(M){return P.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,K){return P.H.useDeferredValue(M,K)},wt.useEffect=function(M,K,C){var z=P.H;if(typeof C=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(M,K)},wt.useId=function(){return P.H.useId()},wt.useImperativeHandle=function(M,K,C){return P.H.useImperativeHandle(M,K,C)},wt.useInsertionEffect=function(M,K){return P.H.useInsertionEffect(M,K)},wt.useLayoutEffect=function(M,K){return P.H.useLayoutEffect(M,K)},wt.useMemo=function(M,K){return P.H.useMemo(M,K)},wt.useOptimistic=function(M,K){return P.H.useOptimistic(M,K)},wt.useReducer=function(M,K,C){return P.H.useReducer(M,K,C)},wt.useRef=function(M){return P.H.useRef(M)},wt.useState=function(M){return P.H.useState(M)},wt.useSyncExternalStore=function(M,K,C){return P.H.useSyncExternalStore(M,K,C)},wt.useTransition=function(){return P.H.useTransition()},wt.version="19.1.1",wt}var D2;function S1(){return D2||(D2=1,rm.exports=BC()),rm.exports}var ee=S1();const pa=RT(ee);var nm={exports:{}},$l={},am={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function jC(){return I2||(I2=1,(function(t){function e(X,se){var Oe=X.length;X.push(se);e:for(;0<Oe;){var J=Oe-1>>>1,M=X[J];if(0<a(M,se))X[J]=se,X[Oe]=M,Oe=J;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var se=X[0],Oe=X.pop();if(Oe!==se){X[0]=Oe;e:for(var J=0,M=X.length,K=M>>>1;J<K;){var C=2*(J+1)-1,z=X[C],V=C+1,Y=X[V];if(0>a(z,Oe))V<M&&0>a(Y,z)?(X[J]=Y,X[V]=Oe,J=V):(X[J]=z,X[C]=Oe,J=C);else if(V<M&&0>a(Y,Oe))X[J]=Y,X[V]=Oe,J=V;else break e}}return se}function a(X,se){var Oe=X.sortIndex-se.sortIndex;return Oe!==0?Oe:X.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,y=null,v=3,T=!1,_=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function U(X){for(var se=r(h);se!==null;){if(se.callback===null)n(h);else if(se.startTime<=X)n(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(h)}}function P(X){if(w=!1,U(X),!_)if(r(d)!==null)_=!0,W||(W=!0,Q());else{var se=r(h);se!==null&&xe(P,se.startTime-X)}}var W=!1,D=-1,q=5,H=-1;function fe(){return b?!0:!(t.unstable_now()-H<q)}function ne(){if(b=!1,W){var X=t.unstable_now();H=X;var se=!0;try{e:{_=!1,w&&(w=!1,R(D),D=-1),T=!0;var Oe=v;try{t:{for(U(X),y=r(d);y!==null&&!(y.expirationTime>X&&fe());){var J=y.callback;if(typeof J=="function"){y.callback=null,v=y.priorityLevel;var M=J(y.expirationTime<=X);if(X=t.unstable_now(),typeof M=="function"){y.callback=M,U(X),se=!0;break t}y===r(d)&&n(d),U(X)}else n(d);y=r(d)}if(y!==null)se=!0;else{var K=r(h);K!==null&&xe(P,K.startTime-X),se=!1}}break e}finally{y=null,v=Oe,T=!1}se=void 0}}finally{se?Q():W=!1}}}var Q;if(typeof S=="function")Q=function(){S(ne)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Ce=ce.port2;ce.port1.onmessage=ne,Q=function(){Ce.postMessage(null)}}else Q=function(){N(ne,0)};function xe(X,se){D=N(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var Oe=v;v=se;try{return X()}finally{v=Oe}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Oe=v;v=X;try{return se()}finally{v=Oe}},t.unstable_scheduleCallback=function(X,se,Oe){var J=t.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?J+Oe:J):Oe=J,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Oe+M,X={id:m++,callback:se,priorityLevel:X,startTime:Oe,expirationTime:M,sortIndex:-1},Oe>J?(X.sortIndex=Oe,e(h,X),r(d)===null&&X===r(h)&&(w?(R(D),D=-1):w=!0,xe(P,Oe-J))):(X.sortIndex=M,e(d,X),_||T||(_=!0,W||(W=!0,Q()))),X},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(X){var se=v;return function(){var Oe=v;v=se;try{return X.apply(this,arguments)}finally{v=Oe}}}})(sm)),sm}var R2;function HC(){return R2||(R2=1,am.exports=jC()),am.exports}var im={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function zC(){if(O2)return ln;O2=1;var t=S1();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ln.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},ln.flushSync=function(d){var h=c.T,m=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=h,n.p=m,n.d.f()}},ln.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},ln.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ln.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):m==="script"&&n.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ln.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},ln.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ln.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},ln.requestFormReset=function(d){n.d.r(d)},ln.unstable_batchedUpdates=function(d,h){return d(h)},ln.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var M2;function VC(){if(M2)return im.exports;M2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),im.exports=zC(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function GC(){if(F2)return $l;F2=1;var t=HC(),e=S1(),r=VC();function n(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(n(188))}function d(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(n(188));return i!==s?null:s}for(var l=s,f=i;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return u(g),s;if(x===f)return u(g),i;x=x.sibling}throw Error(n(188))}if(l.return!==f.return)l=g,f=x;else{for(var E=!1,k=g.child;k;){if(k===l){E=!0,l=g,f=x;break}if(k===f){E=!0,f=g,l=x;break}k=k.sibling}if(!E){for(k=x.child;k;){if(k===l){E=!0,l=x,f=g;break}if(k===f){E=!0,f=x,l=g;break}k=k.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:i}function h(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=h(s),i!==null)return i;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Symbol.for("react.client.reference");function Ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case W:return"SuspenseList";case H:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case S:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return i=s.displayName||null,i!==null?i:Ce(s.type)||"Memo";case q:i=s._payload,s=s._init;try{return Ce(s(i))}catch{}}return null}var xe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},J=[],M=-1;function K(s){return{current:s}}function C(s){0>M||(s.current=J[M],J[M]=null,M--)}function z(s,i){M++,J[M]=s.current,s.current=i}var V=K(null),Y=K(null),ae=K(null),Te=K(null);function Ae(s,i){switch(z(ae,i),z(Y,s),z(V,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?t2(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=t2(i),s=r2(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}C(V),z(V,s)}function be(){C(V),C(Y),C(ae)}function Se(s){s.memoizedState!==null&&z(Te,s);var i=V.current,l=r2(i,s.type);i!==l&&(z(Y,s),z(V,l))}function Je(s){Y.current===s&&(C(V),C(Y)),Te.current===s&&(C(Te),Hl._currentValue=Oe)}var j=Object.prototype.hasOwnProperty,Tt=t.unstable_scheduleCallback,ut=t.unstable_cancelCallback,pt=t.unstable_shouldYield,$e=t.unstable_requestPaint,we=t.unstable_now,ft=t.unstable_getCurrentPriorityLevel,De=t.unstable_ImmediatePriority,et=t.unstable_UserBlockingPriority,Ge=t.unstable_NormalPriority,Le=t.unstable_LowPriority,je=t.unstable_IdlePriority,Xe=t.log,ot=t.unstable_setDisableYieldValue,He=null,ht=null;function We(s){if(typeof Xe=="function"&&ot(s),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(He,s)}catch{}}var nt=Math.clz32?Math.clz32:Qr,Qe=Math.log,Qt=Math.LN2;function Qr(s){return s>>>=0,s===0?32:31-(Qe(s)/Qt|0)|0}var ye=256,Ie=4194304;function qe(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pe(s,i,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,x=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var k=f&134217727;return k!==0?(f=k&~x,f!==0?g=qe(f):(E&=k,E!==0?g=qe(E):l||(l=k&~s,l!==0&&(g=qe(l))))):(k=f&~x,k!==0?g=qe(k):E!==0?g=qe(E):l||(l=f&~s,l!==0&&(g=qe(l)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,l=i&-i,x>=l||x===32&&(l&4194048)!==0)?i:g}function Ue(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Ve(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var s=ye;return ye<<=1,(ye&4194048)===0&&(ye=256),s}function vt(){var s=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),s}function Ot(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function tt(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Lt(s,i,l,f,g,x){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,G=s.expirationTimes,oe=s.hiddenUpdates;for(l=E&~l;0<l;){var ve=31-nt(l),Ee=1<<ve;k[ve]=0,G[ve]=-1;var he=oe[ve];if(he!==null)for(oe[ve]=null,ve=0;ve<he.length;ve++){var me=he[ve];me!==null&&(me.lane&=-536870913)}l&=~Ee}f!==0&&Mt(s,f,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(E&~i))}function Mt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var f=31-nt(i);s.entangledLanes|=i,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function Un(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var f=31-nt(l),g=1<<f;g&i|s[f]&i&&(s[f]|=i),l&=~g}}function Pa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Zt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Io(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:w2(s.type))}function Zc(s,i){var l=se.p;try{return se.p=s,i()}finally{se.p=l}}var ea=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ea,Ir="__reactProps$"+ea,Ua="__reactContainer$"+ea,Ii="__reactEvents$"+ea,Ri="__reactListeners$"+ea,A="__reactHandles$"+ea,L="__reactResources$"+ea,I="__reactMarker$"+ea;function O(s){delete s[Dr],delete s[Ir],delete s[Ii],delete s[Ri],delete s[A]}function F(s){var i=s[Dr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ua]||l[Dr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=i2(s);s!==null;){if(l=s[Dr])return l;s=i2(s)}return i}s=l,l=s.parentNode}return null}function B(s){if(s=s[Dr]||s[Ua]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function le(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(n(33))}function pe(s){var i=s[L];return i||(i=s[L]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(s){s[I]=!0}var ue=new Set,ge={};function Ne(s,i){Me(s,i),Me(s+"Capture",i)}function Me(s,i){for(ge[s]=i,s=0;s<i.length;s++)ue.add(i[s])}var ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Re={},Be={};function dt(s){return j.call(Be,s)?!0:j.call(Re,s)?!1:ze.test(s)?Be[s]=!0:(Re[s]=!0,!1)}function Vt(s,i,l){if(dt(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Wt(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Jt(s,i,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+f)}}var ta,Ba;function Nn(s){if(ta===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ta=i&&i[1]||"",Ba=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+s+Ba}var Bn=!1;function as(s,i){if(!s||Bn)return"";Bn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var he=me}Reflect.construct(s,[],Ee)}else{try{Ee.call()}catch(me){he=me}s.call(Ee.prototype)}}else{try{throw Error()}catch(me){he=me}(Ee=s())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),E=x[0],k=x[1];if(E&&k){var G=E.split(`
`),oe=k.split(`
`);for(g=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(f===G.length||g===oe.length)for(f=G.length-1,g=oe.length-1;1<=f&&0<=g&&G[f]!==oe[g];)g--;for(;1<=f&&0<=g;f--,g--)if(G[f]!==oe[g]){if(f!==1||g!==1)do if(f--,g--,0>g||G[f]!==oe[g]){var ve=`
`+G[f].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=f&&0<=g);break}}}finally{Bn=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Nn(l):""}function jn(s){switch(s.tag){case 26:case 27:case 5:return Nn(s.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return as(s.type,!1);case 11:return as(s.type.render,!1);case 1:return as(s.type,!0);case 31:return Nn("Activity");default:return""}}function f0(s){try{var i="";do i+=jn(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function d0(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jd(s){var i=d0(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,x.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Ro(s){s._valueTracker||(s._valueTracker=Jd(s))}function ss(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return s&&(f=d0(s)?s.checked?"true":"false":s.value),s=f,s!==l?(i.setValue(s),!0):!1}function Oo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var eh=/[\n"\\]/g;function xn(s){return s.replace(eh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(s,i,l,f,g,x,E,k){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),i!=null?E==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),i!=null?ke(s,E,Dn(i)):l!=null?ke(s,E,Dn(l)):f!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Dn(k):s.removeAttribute("name")}function de(s,i,l,f,g,x,E,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),i!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,k||i===s.value||(s.value=i),s.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=k?s.checked:!!f,s.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function ke(s,i,l){i==="number"&&Oo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function mt(s,i,l,f){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Et(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function bt(s,i,l,f){if(i==null){if(f!=null){if(l!=null)throw Error(n(92));if(xe(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function At(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var yn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ra(s,i,l){var f=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":f?s.setProperty(i,l):typeof l!="number"||l===0||yn.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Fo(s,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&l[g]!==f&&ra(s,g,f)}else for(var x in i)i.hasOwnProperty(x)&&ra(s,x,i[x])}function Jc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function h0(s){return A4.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var th=null;function rh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Lo=null,Po=null;function nx(s){var i=B(s);if(i&&(s=i.stateNode)){var l=s[Ir]||null;e:switch(s=i.stateNode,i.type){case"input":if(Mo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==s&&f.form===s.form){var g=f[Ir]||null;if(!g)throw Error(n(90));Mo(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)f=l[i],f.form===s.form&&ss(f)}break e;case"textarea":Et(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&mt(s,!!l.multiple,i,!1)}}}var nh=!1;function ax(s,i,l){if(nh)return s(i,l);nh=!0;try{var f=s(i);return f}finally{if(nh=!1,(Lo!==null||Po!==null)&&(Z0(),Lo&&(i=Lo,s=Po,Po=Lo=null,nx(i),s)))for(i=0;i<s.length;i++)nx(s[i])}}function el(s,i){var l=s.stateNode;if(l===null)return null;var f=l[Ir]||null;if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=!1;if(is)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){ah=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{ah=!1}var Ls=null,sh=null,g0=null;function sx(){if(g0)return g0;var s,i=sh,l=i.length,f,g="value"in Ls?Ls.value:Ls.textContent,x=g.length;for(s=0;s<l&&i[s]===g[s];s++);var E=l-s;for(f=1;f<=E&&i[l-f]===g[x-f];f++);return g0=g.slice(s,1<f?1-f:void 0)}function m0(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function p0(){return!0}function ix(){return!1}function In(s){function i(l,f,g,x,E){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?p0:ix,this.isPropagationStopped=ix,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=p0)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=p0)},persist:function(){},isPersistent:p0}),i}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=In(Oi),rl=m({},Oi,{view:0,detail:0}),k4=In(rl),ih,oh,nl,y0=m({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nl&&(nl&&s.type==="mousemove"?(ih=s.screenX-nl.screenX,oh=s.screenY-nl.screenY):oh=ih=0,nl=s),ih)},movementY:function(s){return"movementY"in s?s.movementY:oh}}),ox=In(y0),C4=m({},y0,{dataTransfer:0}),N4=In(C4),D4=m({},rl,{relatedTarget:0}),ch=In(D4),I4=m({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),R4=In(I4),O4=m({},Oi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),M4=In(O4),F4=m({},Oi,{data:0}),cx=In(F4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B4(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=U4[s])?!!i[s]:!1}function lh(){return B4}var j4=m({},rl,{key:function(s){if(s.key){var i=L4[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=m0(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?P4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(s){return s.type==="keypress"?m0(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?m0(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),H4=In(j4),z4=m({},y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lx=In(z4),V4=m({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),G4=In(V4),Y4=m({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W4=In(Y4),$4=m({},y0,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),K4=In($4),q4=m({},Oi,{newState:0,oldState:0}),X4=In(q4),Q4=[9,13,27,32],uh=is&&"CompositionEvent"in window,al=null;is&&"documentMode"in document&&(al=document.documentMode);var Z4=is&&"TextEvent"in window&&!al,ux=is&&(!uh||al&&8<al&&11>=al),fx=" ",dx=!1;function hx(s,i){switch(s){case"keyup":return Q4.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function J4(s,i){switch(s){case"compositionend":return gx(i);case"keypress":return i.which!==32?null:(dx=!0,fx);case"textInput":return s=i.data,s===fx&&dx?null:s;default:return null}}function ek(s,i){if(Uo)return s==="compositionend"||!uh&&hx(s,i)?(s=sx(),g0=sh=Ls=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ux&&i.locale!=="ko"?null:i.data;default:return null}}var tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!tk[s.type]:i==="textarea"}function px(s,i,l,f){Lo?Po?Po.push(f):Po=[f]:Lo=f,i=af(i,"onChange"),0<i.length&&(l=new x0("onChange","change",null,l,f),s.push({event:l,listeners:i}))}var sl=null,il=null;function rk(s){Xv(s,0)}function v0(s){var i=le(s);if(ss(i))return s}function xx(s,i){if(s==="change")return i}var yx=!1;if(is){var fh;if(is){var dh="oninput"in document;if(!dh){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),dh=typeof vx.oninput=="function"}fh=dh}else fh=!1;yx=fh&&(!document.documentMode||9<document.documentMode)}function _x(){sl&&(sl.detachEvent("onpropertychange",wx),il=sl=null)}function wx(s){if(s.propertyName==="value"&&v0(il)){var i=[];px(i,il,s,rh(s)),ax(rk,i)}}function nk(s,i,l){s==="focusin"?(_x(),sl=i,il=l,sl.attachEvent("onpropertychange",wx)):s==="focusout"&&_x()}function ak(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return v0(il)}function sk(s,i){if(s==="click")return v0(i)}function ik(s,i){if(s==="input"||s==="change")return v0(i)}function ok(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Hn=typeof Object.is=="function"?Object.is:ok;function ol(s,i){if(Hn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!j.call(i,g)||!Hn(s[g],i[g]))return!1}return!0}function Tx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ex(s,i){var l=Tx(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=i&&f>=i)return{node:l,offset:i-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tx(l)}}function bx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?bx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Sx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Oo(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Oo(s.document)}return i}function hh(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var ck=is&&"documentMode"in document&&11>=document.documentMode,Bo=null,gh=null,cl=null,mh=!1;function Ax(s,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mh||Bo==null||Bo!==Oo(f)||(f=Bo,"selectionStart"in f&&hh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cl&&ol(cl,f)||(cl=f,f=af(gh,"onSelect"),0<f.length&&(i=new x0("onSelect","select",null,i,l),s.push({event:i,listeners:f}),i.target=Bo)))}function Mi(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var jo={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},ph={},kx={};is&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Fi(s){if(ph[s])return ph[s];if(!jo[s])return s;var i=jo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in kx)return ph[s]=i[l];return s}var Cx=Fi("animationend"),Nx=Fi("animationiteration"),Dx=Fi("animationstart"),lk=Fi("transitionrun"),uk=Fi("transitionstart"),fk=Fi("transitioncancel"),Ix=Fi("transitionend"),Rx=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function wa(s,i){Rx.set(s,i),Ne(i,[s])}var Ox=new WeakMap;function na(s,i){if(typeof s=="object"&&s!==null){var l=Ox.get(s);return l!==void 0?l:(i={value:s,source:i,stack:f0(i)},Ox.set(s,i),i)}return{value:s,source:i,stack:f0(i)}}var aa=[],Ho=0,yh=0;function _0(){for(var s=Ho,i=yh=Ho=0;i<s;){var l=aa[i];aa[i++]=null;var f=aa[i];aa[i++]=null;var g=aa[i];aa[i++]=null;var x=aa[i];if(aa[i++]=null,f!==null&&g!==null){var E=f.pending;E===null?g.next=g:(g.next=E.next,E.next=g),f.pending=g}x!==0&&Mx(l,g,x)}}function w0(s,i,l,f){aa[Ho++]=s,aa[Ho++]=i,aa[Ho++]=l,aa[Ho++]=f,yh|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function vh(s,i,l,f){return w0(s,i,l,f),T0(s)}function zo(s,i){return w0(s,null,null,i),T0(s)}function Mx(s,i,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var g=!1,x=s.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&i!==null&&(g=31-nt(l),s=x.hiddenUpdates,f=s[g],f===null?s[g]=[i]:f.push(i),i.lane=l|536870912),x):null}function T0(s){if(50<Ol)throw Ol=0,Sg=null,Error(n(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Vo={};function dk(s,i,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(s,i,l,f){return new dk(s,i,l,f)}function _h(s){return s=s.prototype,!(!s||!s.isReactComponent)}function os(s,i){var l=s.alternate;return l===null?(l=zn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Fx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function E0(s,i,l,f,g,x){var E=0;if(f=s,typeof s=="function")_h(s)&&(E=1);else if(typeof s=="string")E=gC(s,l,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case H:return s=zn(31,l,i,g),s.elementType=H,s.lanes=x,s;case _:return Li(l.children,g,x,i);case w:E=8,g|=24;break;case b:return s=zn(12,l,i,g|2),s.elementType=b,s.lanes=x,s;case P:return s=zn(13,l,i,g),s.elementType=P,s.lanes=x,s;case W:return s=zn(19,l,i,g),s.elementType=W,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case S:E=10;break e;case R:E=9;break e;case U:E=11;break e;case D:E=14;break e;case q:E=16,f=null;break e}E=29,l=Error(n(130,s===null?"null":typeof s,"")),f=null}return i=zn(E,l,i,g),i.elementType=s,i.type=f,i.lanes=x,i}function Li(s,i,l,f){return s=zn(7,s,f,i),s.lanes=l,s}function wh(s,i,l){return s=zn(6,s,null,i),s.lanes=l,s}function Th(s,i,l){return i=zn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Go=[],Yo=0,b0=null,S0=0,sa=[],ia=0,Pi=null,cs=1,ls="";function Ui(s,i){Go[Yo++]=S0,Go[Yo++]=b0,b0=s,S0=i}function Lx(s,i,l){sa[ia++]=cs,sa[ia++]=ls,sa[ia++]=Pi,Pi=s;var f=cs;s=ls;var g=32-nt(f)-1;f&=~(1<<g),l+=1;var x=32-nt(i)+g;if(30<x){var E=g-g%5;x=(f&(1<<E)-1).toString(32),f>>=E,g-=E,cs=1<<32-nt(i)+g|l<<g|f,ls=x+s}else cs=1<<x|l<<g|f,ls=s}function Eh(s){s.return!==null&&(Ui(s,1),Lx(s,1,0))}function bh(s){for(;s===b0;)b0=Go[--Yo],Go[Yo]=null,S0=Go[--Yo],Go[Yo]=null;for(;s===Pi;)Pi=sa[--ia],sa[ia]=null,ls=sa[--ia],sa[ia]=null,cs=sa[--ia],sa[ia]=null}var vn=null,pr=null,Gt=!1,Bi=null,ja=!1,Sh=Error(n(519));function ji(s){var i=Error(n(418,""));throw fl(na(i,s)),Sh}function Px(s){var i=s.stateNode,l=s.type,f=s.memoizedProps;switch(i[Dr]=s,i[Ir]=f,l){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(l=0;l<Fl.length;l++)It(Fl[l],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),de(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ro(i);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),bt(i,f.value,f.defaultValue,f.children),Ro(i)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||f.suppressHydrationWarning===!0||e2(i.textContent,l)?(f.popover!=null&&(It("beforetoggle",i),It("toggle",i)),f.onScroll!=null&&It("scroll",i),f.onScrollEnd!=null&&It("scrollend",i),f.onClick!=null&&(i.onclick=sf),i=!0):i=!1,i||ji(s)}function Ux(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:vn=vn.return}}function ll(s){if(s!==vn)return!1;if(!Gt)return Ux(s),Gt=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Hg(s.type,s.memoizedProps)),l=!l),l&&pr&&ji(s),Ux(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){pr=Ea(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}pr=null}}else i===27?(i=pr,Zs(s.type)?(s=Yg,Yg=null,pr=s):pr=i):pr=vn?Ea(s.stateNode.nextSibling):null;return!0}function ul(){pr=vn=null,Gt=!1}function Bx(){var s=Bi;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),Bi=null),s}function fl(s){Bi===null?Bi=[s]:Bi.push(s)}var Ah=K(null),Hi=null,us=null;function Ps(s,i,l){z(Ah,i._currentValue),i._currentValue=l}function fs(s){s._currentValue=Ah.current,C(Ah)}function kh(s,i,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===l)break;s=s.return}}function Ch(s,i,l,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var E=g.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=g;for(var G=0;G<i.length;G++)if(k.context===i[G]){x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),kh(x.return,l,s),f||(E=null);break e}x=k.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),kh(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function dl(s,i,l,f){s=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var k=g.type;Hn(g.pendingProps.value,E.value)||(s!==null?s.push(k):s=[k])}}else if(g===Te.current){if(E=g.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Hl):s=[Hl])}g=g.return}s!==null&&Ch(i,s,l,f),i.flags|=262144}function A0(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zi(s){Hi=s,us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return jx(Hi,s)}function k0(s,i){return Hi===null&&zi(s),jx(s,i)}function jx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},us===null){if(s===null)throw Error(n(308));us=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else us=us.next=i;return l}var hk=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},gk=t.unstable_scheduleCallback,mk=t.unstable_NormalPriority,Pr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new hk,data:new Map,refCount:0}}function hl(s){s.refCount--,s.refCount===0&&gk(mk,function(){s.controller.abort()})}var gl=null,Dh=0,Wo=0,$o=null;function pk(s,i){if(gl===null){var l=gl=[];Dh=0,Wo=Rg(),$o={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Dh++,i.then(Hx,Hx),i}function Hx(){if(--Dh===0&&gl!==null){$o!==null&&($o.status="fulfilled");var s=gl;gl=null,Wo=0,$o=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function xk(s,i){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var zx=X.S;X.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&pk(s,i),zx!==null&&zx(s,i)};var Vi=K(null);function Ih(){var s=Vi.current;return s!==null?s:or.pooledCache}function C0(s,i){i===null?z(Vi,Vi.current):z(Vi,i.pool)}function Vx(){var s=Ih();return s===null?null:{parent:Pr._currentValue,pool:s}}var ml=Error(n(460)),Gx=Error(n(474)),N0=Error(n(542)),Rh={then:function(){}};function Yx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function D0(){}function Wx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(D0,D0),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Kx(s),s;default:if(typeof i.status=="string")i.then(D0,D0);else{if(s=or,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=i,s.status="pending",s.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Kx(s),s}throw pl=i,ml}}var pl=null;function $x(){if(pl===null)throw Error(n(459));var s=pl;return pl=null,s}function Kx(s){if(s===ml||s===N0)throw Error(n(483))}var Us=!1;function Oh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function js(s,i,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Kt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=T0(s),Mx(s,null,l),i}return w0(s,f,i,l),T0(s)}function xl(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var f=i.lanes;f&=s.pendingLanes,l|=f,i.lanes=l,Un(s,l)}}function Fh(s,i){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=E:x=x.next=E,l=l.next}while(l!==null);x===null?g=x=i:x=x.next=i}else g=x=i;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Lh=!1;function yl(){if(Lh){var s=$o;if(s!==null)throw s}}function vl(s,i,l,f){Lh=!1;var g=s.updateQueue;Us=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var G=k,oe=G.next;G.next=null,E===null?x=oe:E.next=oe,E=G;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,k=ve.lastBaseUpdate,k!==E&&(k===null?ve.firstBaseUpdate=oe:k.next=oe,ve.lastBaseUpdate=G))}if(x!==null){var Ee=g.baseState;E=0,ve=oe=G=null,k=x;do{var he=k.lane&-536870913,me=he!==k.lane;if(me?(Pt&he)===he:(f&he)===he){he!==0&&he===Wo&&(Lh=!0),ve!==null&&(ve=ve.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ct=s,rt=k;he=i;var rr=l;switch(rt.tag){case 1:if(ct=rt.payload,typeof ct=="function"){Ee=ct.call(rr,Ee,he);break e}Ee=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=rt.payload,he=typeof ct=="function"?ct.call(rr,Ee,he):ct,he==null)break e;Ee=m({},Ee,he);break e;case 2:Us=!0}}he=k.callback,he!==null&&(s.flags|=64,me&&(s.flags|=8192),me=g.callbacks,me===null?g.callbacks=[he]:me.push(he))}else me={lane:he,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ve===null?(oe=ve=me,G=Ee):ve=ve.next=me,E|=he;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;me=k,k=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);ve===null&&(G=Ee),g.baseState=G,g.firstBaseUpdate=oe,g.lastBaseUpdate=ve,x===null&&(g.shared.lanes=0),Ks|=E,s.lanes=E,s.memoizedState=Ee}}function qx(s,i){if(typeof s!="function")throw Error(n(191,s));s.call(i)}function Xx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)qx(l[s],i)}var Ko=K(null),I0=K(0);function Qx(s,i){s=ys,z(I0,s),z(Ko,i),ys=s|i.baseLanes}function Ph(){z(I0,ys),z(Ko,Ko.current)}function Uh(){ys=I0.current,C(Ko),C(I0)}var Hs=0,St=null,er=null,Rr=null,R0=!1,qo=!1,Gi=!1,O0=0,_l=0,Xo=null,yk=0;function br(){throw Error(n(321))}function Bh(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Hn(s[l],i[l]))return!1;return!0}function jh(s,i,l,f,g,x){return Hs=x,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=s===null||s.memoizedState===null?My:Fy,Gi=!1,x=l(f,g),Gi=!1,qo&&(x=Jx(i,l,f,g)),Zx(s),x}function Zx(s){X.H=B0;var i=er!==null&&er.next!==null;if(Hs=0,Rr=er=St=null,R0=!1,_l=0,Xo=null,i)throw Error(n(300));s===null||Gr||(s=s.dependencies,s!==null&&A0(s)&&(Gr=!0))}function Jx(s,i,l,f){St=s;var g=0;do{if(qo&&(Xo=null),_l=0,qo=!1,25<=g)throw Error(n(301));if(g+=1,Rr=er=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=Sk,x=i(l,f)}while(qo);return x}function vk(){var s=X.H,i=s.useState()[0];return i=typeof i.then=="function"?wl(i):i,s=s.useState()[0],(er!==null?er.memoizedState:null)!==s&&(St.flags|=1024),i}function Hh(){var s=O0!==0;return O0=0,s}function zh(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Vh(s){if(R0){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}R0=!1}Hs=0,Rr=er=St=null,qo=!1,_l=O0=0,Xo=null}function Rn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?St.memoizedState=Rr=s:Rr=Rr.next=s,Rr}function Or(){if(er===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=er.next;var i=Rr===null?St.memoizedState:Rr.next;if(i!==null)Rr=i,er=s;else{if(s===null)throw St.alternate===null?Error(n(467)):Error(n(310));er=s,s={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},Rr===null?St.memoizedState=Rr=s:Rr=Rr.next=s}return Rr}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(s){var i=_l;return _l+=1,Xo===null&&(Xo=[]),s=Wx(Xo,s,i),i=St,(Rr===null?i.memoizedState:Rr.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?My:Fy),s}function M0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wl(s);if(s.$$typeof===S)return cn(s)}throw Error(n(438,String(s)))}function Yh(s){var i=null,l=St.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var f=St.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Gh(),St.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),f=0;f<s;f++)l[f]=fe;return i.index++,l}function ds(s,i){return typeof i=="function"?i(s):i}function F0(s){var i=Or();return Wh(i,er,s)}function Wh(s,i,l){var f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var g=s.baseQueue,x=f.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}i.baseQueue=g=x,f.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{i=g.next;var k=E=null,G=null,oe=i,ve=!1;do{var Ee=oe.lane&-536870913;if(Ee!==oe.lane?(Pt&Ee)===Ee:(Hs&Ee)===Ee){var he=oe.revertLane;if(he===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ee===Wo&&(ve=!0);else if((Hs&he)===he){oe=oe.next,he===Wo&&(ve=!0);continue}else Ee={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(k=G=Ee,E=x):G=G.next=Ee,St.lanes|=he,Ks|=he;Ee=oe.action,Gi&&l(x,Ee),x=oe.hasEagerState?oe.eagerState:l(x,Ee)}else he={lane:Ee,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(k=G=he,E=x):G=G.next=he,St.lanes|=Ee,Ks|=Ee;oe=oe.next}while(oe!==null&&oe!==i);if(G===null?E=x:G.next=k,!Hn(x,s.memoizedState)&&(Gr=!0,ve&&(l=$o,l!==null)))throw l;s.memoizedState=x,s.baseState=E,s.baseQueue=G,f.lastRenderedState=x}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function $h(s){var i=Or(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,x=i.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do x=s(x,E.action),E=E.next;while(E!==g);Hn(x,i.memoizedState)||(Gr=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),l.lastRenderedState=x}return[x,f]}function ey(s,i,l){var f=St,g=Or(),x=Gt;if(x){if(l===void 0)throw Error(n(407));l=l()}else l=i();var E=!Hn((er||g).memoizedState,l);E&&(g.memoizedState=l,Gr=!0),g=g.queue;var k=ny.bind(null,f,g,s);if(Tl(2048,8,k,[s]),g.getSnapshot!==i||E||Rr!==null&&Rr.memoizedState.tag&1){if(f.flags|=2048,Qo(9,L0(),ry.bind(null,f,g,l,i),null),or===null)throw Error(n(349));x||(Hs&124)!==0||ty(f,i,l)}return l}function ty(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=St.updateQueue,i===null?(i=Gh(),St.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function ry(s,i,l,f){i.value=l,i.getSnapshot=f,ay(i)&&sy(s)}function ny(s,i,l){return l(function(){ay(i)&&sy(s)})}function ay(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Hn(s,l)}catch{return!0}}function sy(s){var i=zo(s,2);i!==null&&$n(i,s,2)}function Kh(s){var i=Rn();if(typeof s=="function"){var l=s;if(s=l(),Gi){We(!0);try{l()}finally{We(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},i}function iy(s,i,l,f){return s.baseState=l,Wh(s,er,typeof f=="function"?f:ds)}function _k(s,i,l,f,g){if(U0(s))throw Error(n(485));if(s=i.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};X.T!==null?l(!0):x.isTransition=!1,f(x),l=i.pending,l===null?(x.next=i.pending=x,oy(i,x)):(x.next=l.next,i.pending=l.next=x)}}function oy(s,i){var l=i.action,f=i.payload,g=s.state;if(i.isTransition){var x=X.T,E={};X.T=E;try{var k=l(g,f),G=X.S;G!==null&&G(E,k),cy(s,i,k)}catch(oe){qh(s,i,oe)}finally{X.T=x}}else try{x=l(g,f),cy(s,i,x)}catch(oe){qh(s,i,oe)}}function cy(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){ly(s,i,f)},function(f){return qh(s,i,f)}):ly(s,i,l)}function ly(s,i,l){i.status="fulfilled",i.value=l,uy(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,oy(s,l)))}function qh(s,i,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=l,uy(i),i=i.next;while(i!==f)}s.action=null}function uy(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function fy(s,i){return i}function dy(s,i){if(Gt){var l=or.formState;if(l!==null){e:{var f=St;if(Gt){if(pr){t:{for(var g=pr,x=ja;g.nodeType!==8;){if(!x){g=null;break t}if(g=Ea(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){pr=Ea(g.nextSibling),f=g.data==="F!";break e}}ji(f)}f=!1}f&&(i=l[0])}}return l=Rn(),l.memoizedState=l.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},l.queue=f,l=Iy.bind(null,St,f),f.dispatch=l,f=Kh(!1),x=eg.bind(null,St,!1,f.queue),f=Rn(),g={state:i,dispatch:null,action:s,pending:null},f.queue=g,l=_k.bind(null,St,g,x,l),g.dispatch=l,f.memoizedState=s,[i,l,!1]}function hy(s){var i=Or();return gy(i,er,s)}function gy(s,i,l){if(i=Wh(s,i,fy)[0],s=F0(ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=wl(i)}catch(E){throw E===ml?N0:E}else f=i;i=Or();var g=i.queue,x=g.dispatch;return l!==i.memoizedState&&(St.flags|=2048,Qo(9,L0(),wk.bind(null,g,l),null)),[f,x,s]}function wk(s,i){s.action=i}function my(s){var i=Or(),l=er;if(l!==null)return gy(i,l,s);Or(),i=i.memoizedState,l=Or();var f=l.queue.dispatch;return l.memoizedState=s,[i,f,!1]}function Qo(s,i,l,f){return s={tag:s,create:l,deps:f,inst:i,next:null},i=St.updateQueue,i===null&&(i=Gh(),St.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,i.lastEffect=s),s}function L0(){return{destroy:void 0,resource:void 0}}function py(){return Or().memoizedState}function P0(s,i,l,f){var g=Rn();f=f===void 0?null:f,St.flags|=s,g.memoizedState=Qo(1|i,L0(),l,f)}function Tl(s,i,l,f){var g=Or();f=f===void 0?null:f;var x=g.memoizedState.inst;er!==null&&f!==null&&Bh(f,er.memoizedState.deps)?g.memoizedState=Qo(i,x,l,f):(St.flags|=s,g.memoizedState=Qo(1|i,x,l,f))}function xy(s,i){P0(8390656,8,s,i)}function yy(s,i){Tl(2048,8,s,i)}function vy(s,i){return Tl(4,2,s,i)}function _y(s,i){return Tl(4,4,s,i)}function wy(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Ty(s,i,l){l=l!=null?l.concat([s]):null,Tl(4,4,wy.bind(null,i,s),l)}function Xh(){}function Ey(s,i){var l=Or();i=i===void 0?null:i;var f=l.memoizedState;return i!==null&&Bh(i,f[1])?f[0]:(l.memoizedState=[s,i],s)}function by(s,i){var l=Or();i=i===void 0?null:i;var f=l.memoizedState;if(i!==null&&Bh(i,f[1]))return f[0];if(f=s(),Gi){We(!0);try{s()}finally{We(!1)}}return l.memoizedState=[f,i],f}function Qh(s,i,l){return l===void 0||(Hs&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=kv(),St.lanes|=s,Ks|=s,l)}function Sy(s,i,l,f){return Hn(l,i)?l:Ko.current!==null?(s=Qh(s,l,f),Hn(s,i)||(Gr=!0),s):(Hs&42)===0?(Gr=!0,s.memoizedState=l):(s=kv(),St.lanes|=s,Ks|=s,i)}function Ay(s,i,l,f,g){var x=se.p;se.p=x!==0&&8>x?x:8;var E=X.T,k={};X.T=k,eg(s,!1,i,l);try{var G=g(),oe=X.S;if(oe!==null&&oe(k,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ve=xk(G,f);El(s,i,ve,Wn(s))}else El(s,i,f,Wn(s))}catch(Ee){El(s,i,{then:function(){},status:"rejected",reason:Ee},Wn())}finally{se.p=x,X.T=E}}function Tk(){}function Zh(s,i,l,f){if(s.tag!==5)throw Error(n(476));var g=ky(s).queue;Ay(s,g,i,Oe,l===null?Tk:function(){return Cy(s),l(f)})}function ky(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:Oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Cy(s){var i=ky(s).next.queue;El(s,i,{},Wn())}function Jh(){return cn(Hl)}function Ny(){return Or().memoizedState}function Dy(){return Or().memoizedState}function Ek(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Wn();s=Bs(l);var f=js(i,s,l);f!==null&&($n(f,i,l),xl(f,i,l)),i={cache:Nh()},s.payload=i;return}i=i.return}}function bk(s,i,l){var f=Wn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},U0(s)?Ry(i,l):(l=vh(s,i,l,f),l!==null&&($n(l,s,f),Oy(l,i,f)))}function Iy(s,i,l){var f=Wn();El(s,i,l,f)}function El(s,i,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(U0(s))Ry(i,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var E=i.lastRenderedState,k=x(E,l);if(g.hasEagerState=!0,g.eagerState=k,Hn(k,E))return w0(s,i,g,0),or===null&&_0(),!1}catch{}finally{}if(l=vh(s,i,g,f),l!==null)return $n(l,s,f),Oy(l,i,f),!0}return!1}function eg(s,i,l,f){if(f={lane:2,revertLane:Rg(),action:f,hasEagerState:!1,eagerState:null,next:null},U0(s)){if(i)throw Error(n(479))}else i=vh(s,l,f,2),i!==null&&$n(i,s,2)}function U0(s){var i=s.alternate;return s===St||i!==null&&i===St}function Ry(s,i){qo=R0=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Oy(s,i,l){if((l&4194048)!==0){var f=i.lanes;f&=s.pendingLanes,l|=f,i.lanes=l,Un(s,l)}}var B0={readContext:cn,use:M0,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br},My={readContext:cn,use:M0,useCallback:function(s,i){return Rn().memoizedState=[s,i===void 0?null:i],s},useContext:cn,useEffect:xy,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,P0(4194308,4,wy.bind(null,i,s),l)},useLayoutEffect:function(s,i){return P0(4194308,4,s,i)},useInsertionEffect:function(s,i){P0(4,2,s,i)},useMemo:function(s,i){var l=Rn();i=i===void 0?null:i;var f=s();if(Gi){We(!0);try{s()}finally{We(!1)}}return l.memoizedState=[f,i],f},useReducer:function(s,i,l){var f=Rn();if(l!==void 0){var g=l(i);if(Gi){We(!0);try{l(i)}finally{We(!1)}}}else g=i;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=bk.bind(null,St,s),[f.memoizedState,s]},useRef:function(s){var i=Rn();return s={current:s},i.memoizedState=s},useState:function(s){s=Kh(s);var i=s.queue,l=Iy.bind(null,St,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Xh,useDeferredValue:function(s,i){var l=Rn();return Qh(l,s,i)},useTransition:function(){var s=Kh(!1);return s=Ay.bind(null,St,s.queue,!0,!1),Rn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var f=St,g=Rn();if(Gt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),or===null)throw Error(n(349));(Pt&124)!==0||ty(f,i,l)}g.memoizedState=l;var x={value:l,getSnapshot:i};return g.queue=x,xy(ny.bind(null,f,x,s),[s]),f.flags|=2048,Qo(9,L0(),ry.bind(null,f,x,l,i),null),l},useId:function(){var s=Rn(),i=or.identifierPrefix;if(Gt){var l=ls,f=cs;l=(f&~(1<<32-nt(f)-1)).toString(32)+l,i="«"+i+"R"+l,l=O0++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=yk++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Jh,useFormState:dy,useActionState:dy,useOptimistic:function(s){var i=Rn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=eg.bind(null,St,!0,l),l.dispatch=i,[s,i]},useMemoCache:Yh,useCacheRefresh:function(){return Rn().memoizedState=Ek.bind(null,St)}},Fy={readContext:cn,use:M0,useCallback:Ey,useContext:cn,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:by,useReducer:F0,useRef:py,useState:function(){return F0(ds)},useDebugValue:Xh,useDeferredValue:function(s,i){var l=Or();return Sy(l,er.memoizedState,s,i)},useTransition:function(){var s=F0(ds)[0],i=Or().memoizedState;return[typeof s=="boolean"?s:wl(s),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:Jh,useFormState:hy,useActionState:hy,useOptimistic:function(s,i){var l=Or();return iy(l,er,s,i)},useMemoCache:Yh,useCacheRefresh:Dy},Sk={readContext:cn,use:M0,useCallback:Ey,useContext:cn,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:by,useReducer:$h,useRef:py,useState:function(){return $h(ds)},useDebugValue:Xh,useDeferredValue:function(s,i){var l=Or();return er===null?Qh(l,s,i):Sy(l,er.memoizedState,s,i)},useTransition:function(){var s=$h(ds)[0],i=Or().memoizedState;return[typeof s=="boolean"?s:wl(s),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:Jh,useFormState:my,useActionState:my,useOptimistic:function(s,i){var l=Or();return er!==null?iy(l,er,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:Dy},Zo=null,bl=0;function j0(s){var i=bl;return bl+=1,Zo===null&&(Zo=[]),Wx(Zo,s,i)}function Sl(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function H0(s,i){throw i.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Ly(s){var i=s._init;return i(s._payload)}function Py(s){function i(te,Z){if(s){var ie=te.deletions;ie===null?(te.deletions=[Z],te.flags|=16):ie.push(Z)}}function l(te,Z){if(!s)return null;for(;Z!==null;)i(te,Z),Z=Z.sibling;return null}function f(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function g(te,Z){return te=os(te,Z),te.index=0,te.sibling=null,te}function x(te,Z,ie){return te.index=ie,s?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Z?(te.flags|=67108866,Z):ie):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function E(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function k(te,Z,ie,_e){return Z===null||Z.tag!==6?(Z=wh(ie,te.mode,_e),Z.return=te,Z):(Z=g(Z,ie),Z.return=te,Z)}function G(te,Z,ie,_e){var Ke=ie.type;return Ke===_?ve(te,Z,ie.props.children,_e,ie.key):Z!==null&&(Z.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&Ly(Ke)===Z.type)?(Z=g(Z,ie.props),Sl(Z,ie),Z.return=te,Z):(Z=E0(ie.type,ie.key,ie.props,null,te.mode,_e),Sl(Z,ie),Z.return=te,Z)}function oe(te,Z,ie,_e){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=Th(ie,te.mode,_e),Z.return=te,Z):(Z=g(Z,ie.children||[]),Z.return=te,Z)}function ve(te,Z,ie,_e,Ke){return Z===null||Z.tag!==7?(Z=Li(ie,te.mode,_e,Ke),Z.return=te,Z):(Z=g(Z,ie),Z.return=te,Z)}function Ee(te,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=wh(""+Z,te.mode,ie),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return ie=E0(Z.type,Z.key,Z.props,null,te.mode,ie),Sl(ie,Z),ie.return=te,ie;case T:return Z=Th(Z,te.mode,ie),Z.return=te,Z;case q:var _e=Z._init;return Z=_e(Z._payload),Ee(te,Z,ie)}if(xe(Z)||Q(Z))return Z=Li(Z,te.mode,ie,null),Z.return=te,Z;if(typeof Z.then=="function")return Ee(te,j0(Z),ie);if(Z.$$typeof===S)return Ee(te,k0(te,Z),ie);H0(te,Z)}return null}function he(te,Z,ie,_e){var Ke=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ke!==null?null:k(te,Z,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===Ke?G(te,Z,ie,_e):null;case T:return ie.key===Ke?oe(te,Z,ie,_e):null;case q:return Ke=ie._init,ie=Ke(ie._payload),he(te,Z,ie,_e)}if(xe(ie)||Q(ie))return Ke!==null?null:ve(te,Z,ie,_e,null);if(typeof ie.then=="function")return he(te,Z,j0(ie),_e);if(ie.$$typeof===S)return he(te,Z,k0(te,ie),_e);H0(te,ie)}return null}function me(te,Z,ie,_e,Ke){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return te=te.get(ie)||null,k(Z,te,""+_e,Ke);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return te=te.get(_e.key===null?ie:_e.key)||null,G(Z,te,_e,Ke);case T:return te=te.get(_e.key===null?ie:_e.key)||null,oe(Z,te,_e,Ke);case q:var kt=_e._init;return _e=kt(_e._payload),me(te,Z,ie,_e,Ke)}if(xe(_e)||Q(_e))return te=te.get(ie)||null,ve(Z,te,_e,Ke,null);if(typeof _e.then=="function")return me(te,Z,ie,j0(_e),Ke);if(_e.$$typeof===S)return me(te,Z,ie,k0(Z,_e),Ke);H0(Z,_e)}return null}function ct(te,Z,ie,_e){for(var Ke=null,kt=null,Ze=Z,at=Z=0,Wr=null;Ze!==null&&at<ie.length;at++){Ze.index>at?(Wr=Ze,Ze=null):Wr=Ze.sibling;var Ht=he(te,Ze,ie[at],_e);if(Ht===null){Ze===null&&(Ze=Wr);break}s&&Ze&&Ht.alternate===null&&i(te,Ze),Z=x(Ht,Z,at),kt===null?Ke=Ht:kt.sibling=Ht,kt=Ht,Ze=Wr}if(at===ie.length)return l(te,Ze),Gt&&Ui(te,at),Ke;if(Ze===null){for(;at<ie.length;at++)Ze=Ee(te,ie[at],_e),Ze!==null&&(Z=x(Ze,Z,at),kt===null?Ke=Ze:kt.sibling=Ze,kt=Ze);return Gt&&Ui(te,at),Ke}for(Ze=f(Ze);at<ie.length;at++)Wr=me(Ze,te,at,ie[at],_e),Wr!==null&&(s&&Wr.alternate!==null&&Ze.delete(Wr.key===null?at:Wr.key),Z=x(Wr,Z,at),kt===null?Ke=Wr:kt.sibling=Wr,kt=Wr);return s&&Ze.forEach(function(ni){return i(te,ni)}),Gt&&Ui(te,at),Ke}function rt(te,Z,ie,_e){if(ie==null)throw Error(n(151));for(var Ke=null,kt=null,Ze=Z,at=Z=0,Wr=null,Ht=ie.next();Ze!==null&&!Ht.done;at++,Ht=ie.next()){Ze.index>at?(Wr=Ze,Ze=null):Wr=Ze.sibling;var ni=he(te,Ze,Ht.value,_e);if(ni===null){Ze===null&&(Ze=Wr);break}s&&Ze&&ni.alternate===null&&i(te,Ze),Z=x(ni,Z,at),kt===null?Ke=ni:kt.sibling=ni,kt=ni,Ze=Wr}if(Ht.done)return l(te,Ze),Gt&&Ui(te,at),Ke;if(Ze===null){for(;!Ht.done;at++,Ht=ie.next())Ht=Ee(te,Ht.value,_e),Ht!==null&&(Z=x(Ht,Z,at),kt===null?Ke=Ht:kt.sibling=Ht,kt=Ht);return Gt&&Ui(te,at),Ke}for(Ze=f(Ze);!Ht.done;at++,Ht=ie.next())Ht=me(Ze,te,at,Ht.value,_e),Ht!==null&&(s&&Ht.alternate!==null&&Ze.delete(Ht.key===null?at:Ht.key),Z=x(Ht,Z,at),kt===null?Ke=Ht:kt.sibling=Ht,kt=Ht);return s&&Ze.forEach(function(AC){return i(te,AC)}),Gt&&Ui(te,at),Ke}function rr(te,Z,ie,_e){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var Ke=ie.key;Z!==null;){if(Z.key===Ke){if(Ke=ie.type,Ke===_){if(Z.tag===7){l(te,Z.sibling),_e=g(Z,ie.props.children),_e.return=te,te=_e;break e}}else if(Z.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&Ly(Ke)===Z.type){l(te,Z.sibling),_e=g(Z,ie.props),Sl(_e,ie),_e.return=te,te=_e;break e}l(te,Z);break}else i(te,Z);Z=Z.sibling}ie.type===_?(_e=Li(ie.props.children,te.mode,_e,ie.key),_e.return=te,te=_e):(_e=E0(ie.type,ie.key,ie.props,null,te.mode,_e),Sl(_e,ie),_e.return=te,te=_e)}return E(te);case T:e:{for(Ke=ie.key;Z!==null;){if(Z.key===Ke)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){l(te,Z.sibling),_e=g(Z,ie.children||[]),_e.return=te,te=_e;break e}else{l(te,Z);break}else i(te,Z);Z=Z.sibling}_e=Th(ie,te.mode,_e),_e.return=te,te=_e}return E(te);case q:return Ke=ie._init,ie=Ke(ie._payload),rr(te,Z,ie,_e)}if(xe(ie))return ct(te,Z,ie,_e);if(Q(ie)){if(Ke=Q(ie),typeof Ke!="function")throw Error(n(150));return ie=Ke.call(ie),rt(te,Z,ie,_e)}if(typeof ie.then=="function")return rr(te,Z,j0(ie),_e);if(ie.$$typeof===S)return rr(te,Z,k0(te,ie),_e);H0(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Z!==null&&Z.tag===6?(l(te,Z.sibling),_e=g(Z,ie),_e.return=te,te=_e):(l(te,Z),_e=wh(ie,te.mode,_e),_e.return=te,te=_e),E(te)):l(te,Z)}return function(te,Z,ie,_e){try{bl=0;var Ke=rr(te,Z,ie,_e);return Zo=null,Ke}catch(Ze){if(Ze===ml||Ze===N0)throw Ze;var kt=zn(29,Ze,null,te.mode);return kt.lanes=_e,kt.return=te,kt}finally{}}}var Jo=Py(!0),Uy=Py(!1),oa=K(null),Ha=null;function zs(s){var i=s.alternate;z(Ur,Ur.current&1),z(oa,s),Ha===null&&(i===null||Ko.current!==null||i.memoizedState!==null)&&(Ha=s)}function By(s){if(s.tag===22){if(z(Ur,Ur.current),z(oa,s),Ha===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ha=s)}}else Vs()}function Vs(){z(Ur,Ur.current),z(oa,oa.current)}function hs(s){C(oa),Ha===s&&(Ha=null),C(Ur)}var Ur=K(0);function z0(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tg(s,i,l,f){i=s.memoizedState,l=l(f,i),l=l==null?i:m({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var rg={enqueueSetState:function(s,i,l){s=s._reactInternals;var f=Wn(),g=Bs(f);g.payload=i,l!=null&&(g.callback=l),i=js(s,g,f),i!==null&&($n(i,s,f),xl(i,s,f))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var f=Wn(),g=Bs(f);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=js(s,g,f),i!==null&&($n(i,s,f),xl(i,s,f))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Wn(),f=Bs(l);f.tag=2,i!=null&&(f.callback=i),i=js(s,f,l),i!==null&&($n(i,s,l),xl(i,s,l))}};function jy(s,i,l,f,g,x,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,E):i.prototype&&i.prototype.isPureReactComponent?!ol(l,f)||!ol(g,x):!0}function Hy(s,i,l,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==s&&rg.enqueueReplaceState(i,i.state,null)}function Yi(s,i){var l=i;if("ref"in i){l={};for(var f in i)f!=="ref"&&(l[f]=i[f])}if(s=s.defaultProps){l===i&&(l=m({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var V0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function zy(s){V0(s)}function Vy(s){console.error(s)}function Gy(s){V0(s)}function G0(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Yy(s,i,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ng(s,i,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){G0(s,i)},l}function Wy(s){return s=Bs(s),s.tag=3,s}function $y(s,i,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;s.payload=function(){return g(x)},s.callback=function(){Yy(i,l,f)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Yy(i,l,f),typeof g!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function Ak(s,i,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=l.alternate,i!==null&&dl(i,l,g,!0),l=oa.current,l!==null){switch(l.tag){case 13:return Ha===null?kg():l.alternate===null&&xr===0&&(xr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Rh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([f]):i.add(f),Ng(s,f,g)),!1;case 22:return l.flags|=65536,f===Rh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([f]):l.add(f)),Ng(s,f,g)),!1}throw Error(n(435,l.tag))}return Ng(s,f,g),kg(),!1}if(Gt)return i=oa.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==Sh&&(s=Error(n(422),{cause:f}),fl(na(s,l)))):(f!==Sh&&(i=Error(n(423),{cause:f}),fl(na(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=na(f,l),g=ng(s.stateNode,f,g),Fh(s,g),xr!==4&&(xr=2)),!1;var x=Error(n(520),{cause:f});if(x=na(x,l),Rl===null?Rl=[x]:Rl.push(x),xr!==4&&(xr=2),i===null)return!0;f=na(f,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=ng(l.stateNode,f,s),Fh(l,s),!1;case 1:if(i=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Wy(g),$y(g,s,l,f),Fh(l,g),!1}l=l.return}while(l!==null);return!1}var Ky=Error(n(461)),Gr=!1;function Zr(s,i,l,f){i.child=s===null?Uy(i,null,l,f):Jo(i,s.child,l,f)}function qy(s,i,l,f,g){l=l.render;var x=i.ref;if("ref"in f){var E={};for(var k in f)k!=="ref"&&(E[k]=f[k])}else E=f;return zi(i),f=jh(s,i,l,E,x,g),k=Hh(),s!==null&&!Gr?(zh(s,i,g),gs(s,i,g)):(Gt&&k&&Eh(i),i.flags|=1,Zr(s,i,f,g),i.child)}function Xy(s,i,l,f,g){if(s===null){var x=l.type;return typeof x=="function"&&!_h(x)&&x.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=x,Qy(s,i,x,f,g)):(s=E0(l.type,null,f,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,!fg(s,g)){var E=x.memoizedProps;if(l=l.compare,l=l!==null?l:ol,l(E,f)&&s.ref===i.ref)return gs(s,i,g)}return i.flags|=1,s=os(x,f),s.ref=i.ref,s.return=i,i.child=s}function Qy(s,i,l,f,g){if(s!==null){var x=s.memoizedProps;if(ol(x,f)&&s.ref===i.ref)if(Gr=!1,i.pendingProps=f=x,fg(s,g))(s.flags&131072)!==0&&(Gr=!0);else return i.lanes=s.lanes,gs(s,i,g)}return ag(s,i,l,f,g)}function Zy(s,i,l){var f=i.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,s!==null){for(g=i.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;i.childLanes=x&~f}else i.childLanes=0,i.child=null;return Jy(s,i,f,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&C0(i,x!==null?x.cachePool:null),x!==null?Qx(i,x):Ph(),By(i);else return i.lanes=i.childLanes=536870912,Jy(s,i,x!==null?x.baseLanes|l:l,l)}else x!==null?(C0(i,x.cachePool),Qx(i,x),Vs(),i.memoizedState=null):(s!==null&&C0(i,null),Ph(),Vs());return Zr(s,i,g,l),i.child}function Jy(s,i,l,f){var g=Ih();return g=g===null?null:{parent:Pr._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&C0(i,null),Ph(),By(i),s!==null&&dl(s,i,f,!0),null}function Y0(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function ag(s,i,l,f,g){return zi(i),l=jh(s,i,l,f,void 0,g),f=Hh(),s!==null&&!Gr?(zh(s,i,g),gs(s,i,g)):(Gt&&f&&Eh(i),i.flags|=1,Zr(s,i,l,g),i.child)}function ev(s,i,l,f,g,x){return zi(i),i.updateQueue=null,l=Jx(i,f,l,g),Zx(s),f=Hh(),s!==null&&!Gr?(zh(s,i,x),gs(s,i,x)):(Gt&&f&&Eh(i),i.flags|=1,Zr(s,i,l,x),i.child)}function tv(s,i,l,f,g){if(zi(i),i.stateNode===null){var x=Vo,E=l.contextType;typeof E=="object"&&E!==null&&(x=cn(E)),x=new l(f,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=rg,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=f,x.state=i.memoizedState,x.refs={},Oh(i),E=l.contextType,x.context=typeof E=="object"&&E!==null?cn(E):Vo,x.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(tg(i,l,E,f),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&rg.enqueueReplaceState(x,x.state,null),vl(i,f,x,g),yl(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(s===null){x=i.stateNode;var k=i.memoizedProps,G=Yi(l,k);x.props=G;var oe=x.context,ve=l.contextType;E=Vo,typeof ve=="object"&&ve!==null&&(E=cn(ve));var Ee=l.getDerivedStateFromProps;ve=typeof Ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,ve||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||oe!==E)&&Hy(i,x,f,E),Us=!1;var he=i.memoizedState;x.state=he,vl(i,f,x,g),yl(),oe=i.memoizedState,k||he!==oe||Us?(typeof Ee=="function"&&(tg(i,l,Ee,f),oe=i.memoizedState),(G=Us||jy(i,l,G,f,he,oe,E))?(ve||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=oe),x.props=f,x.state=oe,x.context=E,f=G):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{x=i.stateNode,Mh(s,i),E=i.memoizedProps,ve=Yi(l,E),x.props=ve,Ee=i.pendingProps,he=x.context,oe=l.contextType,G=Vo,typeof oe=="object"&&oe!==null&&(G=cn(oe)),k=l.getDerivedStateFromProps,(oe=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==Ee||he!==G)&&Hy(i,x,f,G),Us=!1,he=i.memoizedState,x.state=he,vl(i,f,x,g),yl();var me=i.memoizedState;E!==Ee||he!==me||Us||s!==null&&s.dependencies!==null&&A0(s.dependencies)?(typeof k=="function"&&(tg(i,l,k,f),me=i.memoizedState),(ve=Us||jy(i,l,ve,f,he,me,G)||s!==null&&s.dependencies!==null&&A0(s.dependencies))?(oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,me,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,me,G)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&he===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&he===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=me),x.props=f,x.state=me,x.context=G,f=ve):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&he===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&he===s.memoizedState||(i.flags|=1024),f=!1)}return x=f,Y0(s,i),f=(i.flags&128)!==0,x||f?(x=i.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,s!==null&&f?(i.child=Jo(i,s.child,null,g),i.child=Jo(i,null,l,g)):Zr(s,i,l,g),i.memoizedState=x.state,s=i.child):s=gs(s,i,g),s}function rv(s,i,l,f){return ul(),i.flags|=256,Zr(s,i,l,f),i.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(s){return{baseLanes:s,cachePool:Vx()}}function og(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=ca),s}function nv(s,i,l){var f=i.pendingProps,g=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=s!==null&&s.memoizedState===null?!1:(Ur.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,s===null){if(Gt){if(g?zs(i):Vs(),Gt){var k=pr,G;if(G=k){e:{for(G=k,k=ja;G.nodeType!==8;){if(!k){k=null;break e}if(G=Ea(G.nextSibling),G===null){k=null;break e}}k=G}k!==null?(i.memoizedState={dehydrated:k,treeContext:Pi!==null?{id:cs,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},G=zn(18,null,null,0),G.stateNode=k,G.return=i,i.child=G,vn=i,pr=null,G=!0):G=!1}G||ji(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Gg(k)?i.lanes=32:i.lanes=536870912,null;hs(i)}return k=f.children,f=f.fallback,g?(Vs(),g=i.mode,k=W0({mode:"hidden",children:k},g),f=Li(f,g,l,null),k.return=i,f.return=i,k.sibling=f,i.child=k,g=i.child,g.memoizedState=ig(l),g.childLanes=og(s,E,l),i.memoizedState=sg,f):(zs(i),cg(i,k))}if(G=s.memoizedState,G!==null&&(k=G.dehydrated,k!==null)){if(x)i.flags&256?(zs(i),i.flags&=-257,i=lg(s,i,l)):i.memoizedState!==null?(Vs(),i.child=s.child,i.flags|=128,i=null):(Vs(),g=f.fallback,k=i.mode,f=W0({mode:"visible",children:f.children},k),g=Li(g,k,l,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,Jo(i,s.child,null,l),f=i.child,f.memoizedState=ig(l),f.childLanes=og(s,E,l),i.memoizedState=sg,i=g);else if(zs(i),Gg(k)){if(E=k.nextSibling&&k.nextSibling.dataset,E)var oe=E.dgst;E=oe,f=Error(n(419)),f.stack="",f.digest=E,fl({value:f,source:null,stack:null}),i=lg(s,i,l)}else if(Gr||dl(s,i,l,!1),E=(l&s.childLanes)!==0,Gr||E){if(E=or,E!==null&&(f=l&-l,f=(f&42)!==0?1:Pa(f),f=(f&(E.suspendedLanes|l))!==0?0:f,f!==0&&f!==G.retryLane))throw G.retryLane=f,zo(s,f),$n(E,s,f),Ky;k.data==="$?"||kg(),i=lg(s,i,l)}else k.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,pr=Ea(k.nextSibling),vn=i,Gt=!0,Bi=null,ja=!1,s!==null&&(sa[ia++]=cs,sa[ia++]=ls,sa[ia++]=Pi,cs=s.id,ls=s.overflow,Pi=i),i=cg(i,f.children),i.flags|=4096);return i}return g?(Vs(),g=f.fallback,k=i.mode,G=s.child,oe=G.sibling,f=os(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,oe!==null?g=os(oe,g):(g=Li(g,k,l,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,k=s.child.memoizedState,k===null?k=ig(l):(G=k.cachePool,G!==null?(oe=Pr._currentValue,G=G.parent!==oe?{parent:oe,pool:oe}:G):G=Vx(),k={baseLanes:k.baseLanes|l,cachePool:G}),g.memoizedState=k,g.childLanes=og(s,E,l),i.memoizedState=sg,f):(zs(i),l=s.child,s=l.sibling,l=os(l,{mode:"visible",children:f.children}),l.return=i,l.sibling=null,s!==null&&(E=i.deletions,E===null?(i.deletions=[s],i.flags|=16):E.push(s)),i.child=l,i.memoizedState=null,l)}function cg(s,i){return i=W0({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function W0(s,i){return s=zn(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function lg(s,i,l){return Jo(i,s.child,null,l),s=cg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function av(s,i,l){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),kh(s.return,i,l)}function ug(s,i,l,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function sv(s,i,l){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(Zr(s,i,f.children,l),f=Ur.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&av(s,l,i);else if(s.tag===19)av(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(z(Ur,f),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&z0(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),ug(i,!1,g,l,x);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&z0(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}ug(i,!0,l,null,x);break;case"together":ug(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ks|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(dl(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,l=os(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=os(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function fg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&A0(s)))}function kk(s,i,l){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),Ps(i,Pr,s.memoizedState.cache),ul();break;case 27:case 5:Se(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(zs(i),i.flags|=128,null):(l&i.child.childLanes)!==0?nv(s,i,l):(zs(i),s=gs(s,i,l),s!==null?s.sibling:null);zs(i);break;case 19:var g=(s.flags&128)!==0;if(f=(l&i.childLanes)!==0,f||(dl(s,i,l,!1),f=(l&i.childLanes)!==0),g){if(f)return sv(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(Ur,Ur.current),f)break;return null;case 22:case 23:return i.lanes=0,Zy(s,i,l);case 24:Ps(i,Pr,s.memoizedState.cache)}return gs(s,i,l)}function iv(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Gr=!0;else{if(!fg(s,l)&&(i.flags&128)===0)return Gr=!1,kk(s,i,l);Gr=(s.flags&131072)!==0}else Gr=!1,Gt&&(i.flags&1048576)!==0&&Lx(i,S0,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")_h(f)?(s=Yi(f,s),i.tag=1,i=tv(null,i,f,s,l)):(i.tag=0,i=ag(null,i,f,s,l));else{if(f!=null){if(g=f.$$typeof,g===U){i.tag=11,i=qy(null,i,f,s,l);break e}else if(g===D){i.tag=14,i=Xy(null,i,f,s,l);break e}}throw i=Ce(f)||f,Error(n(306,i,""))}}return i;case 0:return ag(s,i,i.type,i.pendingProps,l);case 1:return f=i.type,g=Yi(f,i.pendingProps),tv(s,i,f,g,l);case 3:e:{if(Ae(i,i.stateNode.containerInfo),s===null)throw Error(n(387));f=i.pendingProps;var x=i.memoizedState;g=x.element,Mh(s,i),vl(i,f,null,l);var E=i.memoizedState;if(f=E.cache,Ps(i,Pr,f),f!==x.cache&&Ch(i,[Pr],l,!0),yl(),f=E.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=rv(s,i,f,l);break e}else if(f!==g){g=na(Error(n(424)),i),fl(g),i=rv(s,i,f,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pr=Ea(s.firstChild),vn=i,Gt=!0,Bi=null,ja=!0,l=Uy(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ul(),f===g){i=gs(s,i,l);break e}Zr(s,i,f,l)}i=i.child}return i;case 26:return Y0(s,i),s===null?(l=u2(i.type,null,i.pendingProps,null))?i.memoizedState=l:Gt||(l=i.type,s=i.pendingProps,f=of(ae.current).createElement(l),f[Dr]=i,f[Ir]=s,en(f,l,s),re(f),i.stateNode=f):i.memoizedState=u2(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Se(i),s===null&&Gt&&(f=i.stateNode=o2(i.type,i.pendingProps,ae.current),vn=i,ja=!0,g=pr,Zs(i.type)?(Yg=g,pr=Ea(f.firstChild)):pr=g),Zr(s,i,i.pendingProps.children,l),Y0(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Gt&&((g=f=pr)&&(f=tC(f,i.type,i.pendingProps,ja),f!==null?(i.stateNode=f,vn=i,pr=Ea(f.firstChild),ja=!1,g=!0):g=!1),g||ji(i)),Se(i),g=i.type,x=i.pendingProps,E=s!==null?s.memoizedProps:null,f=x.children,Hg(g,x)?f=null:E!==null&&Hg(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=jh(s,i,vk,null,null,l),Hl._currentValue=g),Y0(s,i),Zr(s,i,f,l),i.child;case 6:return s===null&&Gt&&((s=l=pr)&&(l=rC(l,i.pendingProps,ja),l!==null?(i.stateNode=l,vn=i,pr=null,s=!0):s=!1),s||ji(i)),null;case 13:return nv(s,i,l);case 4:return Ae(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Jo(i,null,f,l):Zr(s,i,f,l),i.child;case 11:return qy(s,i,i.type,i.pendingProps,l);case 7:return Zr(s,i,i.pendingProps,l),i.child;case 8:return Zr(s,i,i.pendingProps.children,l),i.child;case 12:return Zr(s,i,i.pendingProps.children,l),i.child;case 10:return f=i.pendingProps,Ps(i,i.type,f.value),Zr(s,i,f.children,l),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,zi(i),g=cn(g),f=f(g),i.flags|=1,Zr(s,i,f,l),i.child;case 14:return Xy(s,i,i.type,i.pendingProps,l);case 15:return Qy(s,i,i.type,i.pendingProps,l);case 19:return sv(s,i,l);case 31:return f=i.pendingProps,l=i.mode,f={mode:f.mode,children:f.children},s===null?(l=W0(f,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=os(s.child,f),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Zy(s,i,l);case 24:return zi(i),f=cn(Pr),s===null?(g=Ih(),g===null&&(g=or,x=Nh(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),i.memoizedState={parent:f,cache:g},Oh(i),Ps(i,Pr,g)):((s.lanes&l)!==0&&(Mh(s,i),vl(i,null,null,l),yl()),g=s.memoizedState,x=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ps(i,Pr,f)):(f=x.cache,Ps(i,Pr,f),f!==g.cache&&Ch(i,[Pr],l,!0))),Zr(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function ms(s){s.flags|=4}function ov(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!m2(i)){if(i=oa.current,i!==null&&((Pt&4194048)===Pt?Ha!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==Ha))throw pl=Rh,Gx;s.flags|=8192}}function $0(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?vt():536870912,s.lanes|=i,nc|=i)}function Al(s,i){if(!Gt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function gr(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,i}function Ck(s,i,l){var f=i.pendingProps;switch(bh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(i),null;case 1:return gr(i),null;case 3:return l=i.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),fs(Pr),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ll(i)?ms(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bx())),gr(i),null;case 26:return l=i.memoizedState,s===null?(ms(i),l!==null?(gr(i),ov(i,l)):(gr(i),i.flags&=-16777217)):l?l!==s.memoizedState?(ms(i),gr(i),ov(i,l)):(gr(i),i.flags&=-16777217):(s.memoizedProps!==f&&ms(i),gr(i),i.flags&=-16777217),null;case 27:Je(i),l=ae.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==f&&ms(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return gr(i),null}s=V.current,ll(i)?Px(i):(s=o2(g,f,l),i.stateNode=s,ms(i))}return gr(i),null;case 5:if(Je(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==f&&ms(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return gr(i),null}if(s=V.current,ll(i))Px(i);else{switch(g=of(ae.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}s[Dr]=i,s[Ir]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(en(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ms(i)}}return gr(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==f&&ms(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(s=ae.current,ll(i)){if(s=i.stateNode,l=i.memoizedProps,f=null,g=vn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[Dr]=i,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||e2(s.nodeValue,l)),s||ji(i)}else s=of(s).createTextNode(f),s[Dr]=i,i.stateNode=s}return gr(i),null;case 13:if(f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ll(i),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Dr]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gr(i),g=!1}else g=Bx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(hs(i),i):(hs(i),null)}if(hs(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),$0(i,i.updateQueue),gr(i),null;case 4:return be(),s===null&&Lg(i.stateNode.containerInfo),gr(i),null;case 10:return fs(i.type),gr(i),null;case 19:if(C(Ur),g=i.memoizedState,g===null)return gr(i),null;if(f=(i.flags&128)!==0,x=g.rendering,x===null)if(f)Al(g,!1);else{if(xr!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=z0(s),x!==null){for(i.flags|=128,Al(g,!1),s=x.updateQueue,i.updateQueue=s,$0(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Fx(l,s),l=l.sibling;return z(Ur,Ur.current&1|2),i.child}s=s.sibling}g.tail!==null&&we()>X0&&(i.flags|=128,f=!0,Al(g,!1),i.lanes=4194304)}else{if(!f)if(s=z0(x),s!==null){if(i.flags|=128,f=!0,s=s.updateQueue,i.updateQueue=s,$0(i,s),Al(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Gt)return gr(i),null}else 2*we()-g.renderingStartTime>X0&&l!==536870912&&(i.flags|=128,f=!0,Al(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(s=g.last,s!==null?s.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=we(),i.sibling=null,s=Ur.current,z(Ur,f?s&1|2:s&1),i):(gr(i),null);case 22:case 23:return hs(i),Uh(),f=i.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(l&536870912)!==0&&(i.flags&128)===0&&(gr(i),i.subtreeFlags&6&&(i.flags|=8192)):gr(i),l=i.updateQueue,l!==null&&$0(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==l&&(i.flags|=2048),s!==null&&C(Vi),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),fs(Pr),gr(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function Nk(s,i){switch(bh(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return fs(Pr),be(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Je(i),null;case 13:if(hs(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ul()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return C(Ur),null;case 4:return be(),null;case 10:return fs(i.type),null;case 22:case 23:return hs(i),Uh(),s!==null&&C(Vi),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return fs(Pr),null;case 25:return null;default:return null}}function cv(s,i){switch(bh(i),i.tag){case 3:fs(Pr),be();break;case 26:case 27:case 5:Je(i);break;case 4:be();break;case 13:hs(i);break;case 19:C(Ur);break;case 10:fs(i.type);break;case 22:case 23:hs(i),Uh(),s!==null&&C(Vi);break;case 24:fs(Pr)}}function kl(s,i){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&s)===s){f=void 0;var x=l.create,E=l.inst;f=x(),E.destroy=f}l=l.next}while(l!==g)}}catch(k){sr(i,i.return,k)}}function Gs(s,i,l){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){var E=f.inst,k=E.destroy;if(k!==void 0){E.destroy=void 0,g=i;var G=l,oe=k;try{oe()}catch(ve){sr(g,G,ve)}}}f=f.next}while(f!==x)}}catch(ve){sr(i,i.return,ve)}}function lv(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Xx(i,l)}catch(f){sr(s,s.return,f)}}}function uv(s,i,l){l.props=Yi(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){sr(s,i,f)}}function Cl(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(g){sr(s,i,g)}}function za(s,i){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){sr(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){sr(s,i,g)}else l.current=null}function fv(s){var i=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){sr(s,s.return,g)}}function dg(s,i,l){try{var f=s.stateNode;Xk(f,s.type,l,i),f[Ir]=i}catch(g){sr(s,s.return,g)}}function dv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zs(s.type)||s.tag===4}function hg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gg(s,i,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=sf));else if(f!==4&&(f===27&&Zs(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(gg(s,i,l),s=s.sibling;s!==null;)gg(s,i,l),s=s.sibling}function K0(s,i,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(f!==4&&(f===27&&Zs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(K0(s,i,l),s=s.sibling;s!==null;)K0(s,i,l),s=s.sibling}function hv(s){var i=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);en(i,f,l),i[Dr]=s,i[Ir]=l}catch(x){sr(s,s.return,x)}}var ps=!1,Sr=!1,mg=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Yr=null;function Dk(s,i){if(s=s.containerInfo,Bg=hf,s=Sx(s),hh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var E=0,k=-1,G=-1,oe=0,ve=0,Ee=s,he=null;t:for(;;){for(var me;Ee!==l||g!==0&&Ee.nodeType!==3||(k=E+g),Ee!==x||f!==0&&Ee.nodeType!==3||(G=E+f),Ee.nodeType===3&&(E+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)he=Ee,Ee=me;for(;;){if(Ee===s)break t;if(he===l&&++oe===g&&(k=E),he===x&&++ve===f&&(G=E),(me=Ee.nextSibling)!==null)break;Ee=he,he=Ee.parentNode}Ee=me}l=k===-1||G===-1?null:{start:k,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(jg={focusedElem:s,selectionRange:l},hf=!1,Yr=i;Yr!==null;)if(i=Yr,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,Yr=s;else for(;Yr!==null;){switch(i=Yr,x=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=i,g=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var ct=Yi(l.type,g,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(ct,x),f.__reactInternalSnapshotBeforeUpdate=s}catch(rt){sr(l,l.return,rt)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Vg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Vg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=i.sibling,s!==null){s.return=i.return,Yr=s;break}Yr=i.return}}function mv(s,i,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ys(s,l),f&4&&kl(5,l);break;case 1:if(Ys(s,l),f&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(E){sr(l,l.return,E)}else{var g=Yi(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(E){sr(l,l.return,E)}}f&64&&lv(l),f&512&&Cl(l,l.return);break;case 3:if(Ys(s,l),f&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Xx(s,i)}catch(E){sr(l,l.return,E)}}break;case 27:i===null&&f&4&&hv(l);case 26:case 5:Ys(s,l),i===null&&f&4&&fv(l),f&512&&Cl(l,l.return);break;case 12:Ys(s,l);break;case 13:Ys(s,l),f&4&&yv(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Bk.bind(null,l),nC(s,l))));break;case 22:if(f=l.memoizedState!==null||ps,!f){i=i!==null&&i.memoizedState!==null||Sr,g=ps;var x=Sr;ps=f,(Sr=i)&&!x?Ws(s,l,(l.subtreeFlags&8772)!==0):Ys(s,l),ps=g,Sr=x}break;case 30:break;default:Ys(s,l)}}function pv(s){var i=s.alternate;i!==null&&(s.alternate=null,pv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&O(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dr=null,On=!1;function xs(s,i,l){for(l=l.child;l!==null;)xv(s,i,l),l=l.sibling}function xv(s,i,l){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(He,l)}catch{}switch(l.tag){case 26:Sr||za(l,i),xs(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Sr||za(l,i);var f=dr,g=On;Zs(l.type)&&(dr=l.stateNode,On=!1),xs(s,i,l),Pl(l.stateNode),dr=f,On=g;break;case 5:Sr||za(l,i);case 6:if(f=dr,g=On,dr=null,xs(s,i,l),dr=f,On=g,dr!==null)if(On)try{(dr.nodeType===9?dr.body:dr.nodeName==="HTML"?dr.ownerDocument.body:dr).removeChild(l.stateNode)}catch(x){sr(l,i,x)}else try{dr.removeChild(l.stateNode)}catch(x){sr(l,i,x)}break;case 18:dr!==null&&(On?(s=dr,s2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Yl(s)):s2(dr,l.stateNode));break;case 4:f=dr,g=On,dr=l.stateNode.containerInfo,On=!0,xs(s,i,l),dr=f,On=g;break;case 0:case 11:case 14:case 15:Sr||Gs(2,l,i),Sr||Gs(4,l,i),xs(s,i,l);break;case 1:Sr||(za(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"&&uv(l,i,f)),xs(s,i,l);break;case 21:xs(s,i,l);break;case 22:Sr=(f=Sr)||l.memoizedState!==null,xs(s,i,l),Sr=f;break;default:xs(s,i,l)}}function yv(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yl(s)}catch(l){sr(i,i.return,l)}}function Ik(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new gv),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new gv),i;default:throw Error(n(435,s.tag))}}function pg(s,i){var l=Ik(s);i.forEach(function(f){var g=jk.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}function Vn(s,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],x=s,E=i,k=E;e:for(;k!==null;){switch(k.tag){case 27:if(Zs(k.type)){dr=k.stateNode,On=!1;break e}break;case 5:dr=k.stateNode,On=!1;break e;case 3:case 4:dr=k.stateNode.containerInfo,On=!0;break e}k=k.return}if(dr===null)throw Error(n(160));xv(x,E,g),dr=null,On=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vv(i,s),i=i.sibling}var Ta=null;function vv(s,i){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(i,s),Gn(s),f&4&&(Gs(3,s,s.return),kl(3,s),Gs(5,s,s.return));break;case 1:Vn(i,s),Gn(s),f&512&&(Sr||l===null||za(l,l.return)),f&64&&ps&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ta;if(Vn(i,s),Gn(s),f&512&&(Sr||l===null||za(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[I]||x[Dr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),en(x,f,l),x[Dr]=s,re(x),f=x;break e;case"link":var E=h2("link","href",g).get(f+(l.href||""));if(E){for(var k=0;k<E.length;k++)if(x=E[k],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(k,1);break t}}x=g.createElement(f),en(x,f,l),g.head.appendChild(x);break;case"meta":if(E=h2("meta","content",g).get(f+(l.content||""))){for(k=0;k<E.length;k++)if(x=E[k],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(k,1);break t}}x=g.createElement(f),en(x,f,l),g.head.appendChild(x);break;default:throw Error(n(468,f))}x[Dr]=s,re(x),f=x}s.stateNode=f}else g2(g,s.type,s.stateNode);else s.stateNode=d2(g,f,s.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?g2(g,s.type,s.stateNode):d2(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&dg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Vn(i,s),Gn(s),f&512&&(Sr||l===null||za(l,l.return)),l!==null&&f&4&&dg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Vn(i,s),Gn(s),f&512&&(Sr||l===null||za(l,l.return)),s.flags&32){g=s.stateNode;try{At(g,"")}catch(me){sr(s,s.return,me)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,dg(s,g,l!==null?l.memoizedProps:g)),f&1024&&(mg=!0);break;case 6:if(Vn(i,s),Gn(s),f&4){if(s.stateNode===null)throw Error(n(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(me){sr(s,s.return,me)}}break;case 3:if(uf=null,g=Ta,Ta=cf(i.containerInfo),Vn(i,s),Ta=g,Gn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Yl(i.containerInfo)}catch(me){sr(s,s.return,me)}mg&&(mg=!1,_v(s));break;case 4:f=Ta,Ta=cf(s.stateNode.containerInfo),Vn(i,s),Gn(s),Ta=f;break;case 12:Vn(i,s),Gn(s);break;case 13:Vn(i,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tg=we()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,pg(s,f)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,oe=ps,ve=Sr;if(ps=oe||g,Sr=ve||G,Vn(i,s),Sr=ve,ps=oe,Gn(s),f&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||ps||Sr||Wi(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(x=G.stateNode,g)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{k=G.stateNode;var Ee=G.memoizedProps.style,he=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;k.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(me){sr(G,G.return,me)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(me){sr(G,G.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,pg(s,l))));break;case 19:Vn(i,s),Gn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,pg(s,f)));break;case 30:break;case 21:break;default:Vn(i,s),Gn(s)}}function Gn(s){var i=s.flags;if(i&2){try{for(var l,f=s.return;f!==null;){if(dv(f)){l=f;break}f=f.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var g=l.stateNode,x=hg(s);K0(s,x,g);break;case 5:var E=l.stateNode;l.flags&32&&(At(E,""),l.flags&=-33);var k=hg(s);K0(s,k,E);break;case 3:case 4:var G=l.stateNode.containerInfo,oe=hg(s);gg(s,oe,G);break;default:throw Error(n(161))}}catch(ve){sr(s,s.return,ve)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function _v(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;_v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Ys(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(s,i.alternate,i),i=i.sibling}function Wi(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Gs(4,i,i.return),Wi(i);break;case 1:za(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&uv(i,i.return,l),Wi(i);break;case 27:Pl(i.stateNode);case 26:case 5:za(i,i.return),Wi(i);break;case 22:i.memoizedState===null&&Wi(i);break;case 30:Wi(i);break;default:Wi(i)}s=s.sibling}}function Ws(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=s,x=i,E=x.flags;switch(x.tag){case 0:case 11:case 15:Ws(g,x,l),kl(4,x);break;case 1:if(Ws(g,x,l),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){sr(f,f.return,oe)}if(f=x,g=f.updateQueue,g!==null){var k=f.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)qx(G[g],k)}catch(oe){sr(f,f.return,oe)}}l&&E&64&&lv(x),Cl(x,x.return);break;case 27:hv(x);case 26:case 5:Ws(g,x,l),l&&f===null&&E&4&&fv(x),Cl(x,x.return);break;case 12:Ws(g,x,l);break;case 13:Ws(g,x,l),l&&E&4&&yv(g,x);break;case 22:x.memoizedState===null&&Ws(g,x,l),Cl(x,x.return);break;case 30:break;default:Ws(g,x,l)}i=i.sibling}}function xg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&hl(l))}function yg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&hl(s))}function Va(s,i,l,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wv(s,i,l,f),i=i.sibling}function wv(s,i,l,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Va(s,i,l,f),g&2048&&kl(9,i);break;case 1:Va(s,i,l,f);break;case 3:Va(s,i,l,f),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&hl(s)));break;case 12:if(g&2048){Va(s,i,l,f),s=i.stateNode;try{var x=i.memoizedProps,E=x.id,k=x.onPostCommit;typeof k=="function"&&k(E,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){sr(i,i.return,G)}}else Va(s,i,l,f);break;case 13:Va(s,i,l,f);break;case 23:break;case 22:x=i.stateNode,E=i.alternate,i.memoizedState!==null?x._visibility&2?Va(s,i,l,f):Nl(s,i):x._visibility&2?Va(s,i,l,f):(x._visibility|=2,ec(s,i,l,f,(i.subtreeFlags&10256)!==0)),g&2048&&xg(E,i);break;case 24:Va(s,i,l,f),g&2048&&yg(i.alternate,i);break;default:Va(s,i,l,f)}}function ec(s,i,l,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=s,E=i,k=l,G=f,oe=E.flags;switch(E.tag){case 0:case 11:case 15:ec(x,E,k,G,g),kl(8,E);break;case 23:break;case 22:var ve=E.stateNode;E.memoizedState!==null?ve._visibility&2?ec(x,E,k,G,g):Nl(x,E):(ve._visibility|=2,ec(x,E,k,G,g)),g&&oe&2048&&xg(E.alternate,E);break;case 24:ec(x,E,k,G,g),g&&oe&2048&&yg(E.alternate,E);break;default:ec(x,E,k,G,g)}i=i.sibling}}function Nl(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,f=i,g=f.flags;switch(f.tag){case 22:Nl(l,f),g&2048&&xg(f.alternate,f);break;case 24:Nl(l,f),g&2048&&yg(f.alternate,f);break;default:Nl(l,f)}i=i.sibling}}var Dl=8192;function tc(s){if(s.subtreeFlags&Dl)for(s=s.child;s!==null;)Tv(s),s=s.sibling}function Tv(s){switch(s.tag){case 26:tc(s),s.flags&Dl&&s.memoizedState!==null&&pC(Ta,s.memoizedState,s.memoizedProps);break;case 5:tc(s);break;case 3:case 4:var i=Ta;Ta=cf(s.stateNode.containerInfo),tc(s),Ta=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,tc(s),Dl=i):tc(s));break;default:tc(s)}}function Ev(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function Il(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];Yr=f,Sv(f,s)}Ev(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bv(s),s=s.sibling}function bv(s){switch(s.tag){case 0:case 11:case 15:Il(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:Il(s);break;case 12:Il(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,q0(s)):Il(s);break;default:Il(s)}}function q0(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];Yr=f,Sv(f,s)}Ev(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Gs(8,i,i.return),q0(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,q0(i));break;default:q0(i)}s=s.sibling}}function Sv(s,i){for(;Yr!==null;){var l=Yr;switch(l.tag){case 0:case 11:case 15:Gs(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:hl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Yr=f;else e:for(l=s;Yr!==null;){f=Yr;var g=f.sibling,x=f.return;if(pv(f),f===l){Yr=null;break e}if(g!==null){g.return=x,Yr=g;break e}Yr=x}}}var Rk={getCacheForType:function(s){var i=cn(Pr),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},Ok=typeof WeakMap=="function"?WeakMap:Map,Kt=0,or=null,Dt=null,Pt=0,qt=0,Yn=null,$s=!1,rc=!1,vg=!1,ys=0,xr=0,Ks=0,$i=0,_g=0,ca=0,nc=0,Rl=null,Mn=null,wg=!1,Tg=0,X0=1/0,Q0=null,qs=null,Jr=0,Xs=null,ac=null,sc=0,Eg=0,bg=null,Av=null,Ol=0,Sg=null;function Wn(){if((Kt&2)!==0&&Pt!==0)return Pt&-Pt;if(X.T!==null){var s=Wo;return s!==0?s:Rg()}return Io()}function kv(){ca===0&&(ca=(Pt&536870912)===0||Gt?gt():536870912);var s=oa.current;return s!==null&&(s.flags|=32),ca}function $n(s,i,l){(s===or&&(qt===2||qt===9)||s.cancelPendingCommit!==null)&&(ic(s,0),Qs(s,Pt,ca,!1)),tt(s,l),((Kt&2)===0||s!==or)&&(s===or&&((Kt&2)===0&&($i|=l),xr===4&&Qs(s,Pt,ca,!1)),Ga(s))}function Cv(s,i,l){if((Kt&6)!==0)throw Error(n(327));var f=!l&&(i&124)===0&&(i&s.expiredLanes)===0||Ue(s,i),g=f?Lk(s,i):Cg(s,i,!0),x=f;do{if(g===0){rc&&!f&&Qs(s,i,0,!1);break}else{if(l=s.current.alternate,x&&!Mk(l)){g=Cg(s,i,!1),x=!1;continue}if(g===2){if(x=i,s.errorRecoveryDisabledLanes&x)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var k=s;g=Rl;var G=k.current.memoizedState.isDehydrated;if(G&&(ic(k,E).flags|=256),E=Cg(k,E,!1),E!==2){if(vg&&!G){k.errorRecoveryDisabledLanes|=x,$i|=x,g=4;break e}x=Mn,Mn=g,x!==null&&(Mn===null?Mn=x:Mn.push.apply(Mn,x))}g=E}if(x=!1,g!==2)continue}}if(g===1){ic(s,0),Qs(s,i,0,!0);break}e:{switch(f=s,x=g,x){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Qs(f,i,ca,!$s);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(g=Tg+300-we(),10<g)){if(Qs(f,i,ca,!$s),Pe(f,0,!0)!==0)break e;f.timeoutHandle=n2(Nv.bind(null,f,l,Mn,Q0,wg,i,ca,$i,nc,$s,x,2,-0,0),g);break e}Nv(f,l,Mn,Q0,wg,i,ca,$i,nc,$s,x,0,-0,0)}}break}while(!0);Ga(s)}function Nv(s,i,l,f,g,x,E,k,G,oe,ve,Ee,he,me){if(s.timeoutHandle=-1,Ee=i.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:mC},Tv(i),Ee=xC(),Ee!==null)){s.cancelPendingCommit=Ee(Lv.bind(null,s,i,x,l,f,g,E,k,G,ve,1,he,me)),Qs(s,x,E,!oe);return}Lv(s,i,x,l,f,g,E,k,G)}function Mk(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!Hn(x(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(s,i,l,f){i&=~_g,i&=~$i,s.suspendedLanes|=i,s.pingedLanes&=~i,f&&(s.warmLanes|=i),f=s.expirationTimes;for(var g=i;0<g;){var x=31-nt(g),E=1<<x;f[x]=-1,g&=~E}l!==0&&Mt(s,l,i)}function Z0(){return(Kt&6)===0?(Ml(0),!1):!0}function Ag(){if(Dt!==null){if(qt===0)var s=Dt.return;else s=Dt,us=Hi=null,Vh(s),Zo=null,bl=0,s=Dt;for(;s!==null;)cv(s.alternate,s),s=s.return;Dt=null}}function ic(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Zk(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ag(),or=s,Dt=l=os(s.current,null),Pt=i,qt=0,Yn=null,$s=!1,rc=Ue(s,i),vg=!1,nc=ca=_g=$i=Ks=xr=0,Mn=Rl=null,wg=!1,(i&8)!==0&&(i|=i&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=i;0<f;){var g=31-nt(f),x=1<<g;i|=s[g],f&=~x}return ys=i,_0(),l}function Dv(s,i){St=null,X.H=B0,i===ml||i===N0?(i=$x(),qt=3):i===Gx?(i=$x(),qt=4):qt=i===Ky?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Dt===null&&(xr=1,G0(s,na(i,s.current)))}function Iv(){var s=X.H;return X.H=B0,s===null?B0:s}function Rv(){var s=X.A;return X.A=Rk,s}function kg(){xr=4,$s||(Pt&4194048)!==Pt&&oa.current!==null||(rc=!0),(Ks&134217727)===0&&($i&134217727)===0||or===null||Qs(or,Pt,ca,!1)}function Cg(s,i,l){var f=Kt;Kt|=2;var g=Iv(),x=Rv();(or!==s||Pt!==i)&&(Q0=null,ic(s,i)),i=!1;var E=xr;e:do try{if(qt!==0&&Dt!==null){var k=Dt,G=Yn;switch(qt){case 8:Ag(),E=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(i=!0);var oe=qt;if(qt=0,Yn=null,oc(s,k,G,oe),l&&rc){E=0;break e}break;default:oe=qt,qt=0,Yn=null,oc(s,k,G,oe)}}Fk(),E=xr;break}catch(ve){Dv(s,ve)}while(!0);return i&&s.shellSuspendCounter++,us=Hi=null,Kt=f,X.H=g,X.A=x,Dt===null&&(or=null,Pt=0,_0()),E}function Fk(){for(;Dt!==null;)Ov(Dt)}function Lk(s,i){var l=Kt;Kt|=2;var f=Iv(),g=Rv();or!==s||Pt!==i?(Q0=null,X0=we()+500,ic(s,i)):rc=Ue(s,i);e:do try{if(qt!==0&&Dt!==null){i=Dt;var x=Yn;t:switch(qt){case 1:qt=0,Yn=null,oc(s,i,x,1);break;case 2:case 9:if(Yx(x)){qt=0,Yn=null,Mv(i);break}i=function(){qt!==2&&qt!==9||or!==s||(qt=7),Ga(s)},x.then(i,i);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:Yx(x)?(qt=0,Yn=null,Mv(i)):(qt=0,Yn=null,oc(s,i,x,7));break;case 5:var E=null;switch(Dt.tag){case 26:E=Dt.memoizedState;case 5:case 27:var k=Dt;if(!E||m2(E)){qt=0,Yn=null;var G=k.sibling;if(G!==null)Dt=G;else{var oe=k.return;oe!==null?(Dt=oe,J0(oe)):Dt=null}break t}}qt=0,Yn=null,oc(s,i,x,5);break;case 6:qt=0,Yn=null,oc(s,i,x,6);break;case 8:Ag(),xr=6;break e;default:throw Error(n(462))}}Pk();break}catch(ve){Dv(s,ve)}while(!0);return us=Hi=null,X.H=f,X.A=g,Kt=l,Dt!==null?0:(or=null,Pt=0,_0(),xr)}function Pk(){for(;Dt!==null&&!pt();)Ov(Dt)}function Ov(s){var i=iv(s.alternate,s,ys);s.memoizedProps=s.pendingProps,i===null?J0(s):Dt=i}function Mv(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=ev(l,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=ev(l,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Vh(i);default:cv(l,i),i=Dt=Fx(i,ys),i=iv(l,i,ys)}s.memoizedProps=s.pendingProps,i===null?J0(s):Dt=i}function oc(s,i,l,f){us=Hi=null,Vh(i),Zo=null,bl=0;var g=i.return;try{if(Ak(s,g,i,l,Pt)){xr=1,G0(s,na(l,s.current)),Dt=null;return}}catch(x){if(g!==null)throw Dt=g,x;xr=1,G0(s,na(l,s.current)),Dt=null;return}i.flags&32768?(Gt||f===1?s=!0:rc||(Pt&536870912)!==0?s=!1:($s=s=!0,(f===2||f===9||f===3||f===6)&&(f=oa.current,f!==null&&f.tag===13&&(f.flags|=16384))),Fv(i,s)):J0(i)}function J0(s){var i=s;do{if((i.flags&32768)!==0){Fv(i,$s);return}s=i.return;var l=Ck(i.alternate,i,ys);if(l!==null){Dt=l;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=s}while(i!==null);xr===0&&(xr=5)}function Fv(s,i){do{var l=Nk(s.alternate,s);if(l!==null){l.flags&=32767,Dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=l}while(s!==null);xr=6,Dt=null}function Lv(s,i,l,f,g,x,E,k,G){s.cancelPendingCommit=null;do ef();while(Jr!==0);if((Kt&6)!==0)throw Error(n(327));if(i!==null){if(i===s.current)throw Error(n(177));if(x=i.lanes|i.childLanes,x|=yh,Lt(s,l,x,E,k,G),s===or&&(Dt=or=null,Pt=0),ac=i,Xs=s,sc=l,Eg=x,bg=g,Av=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Hk(Ge,function(){return Hv(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=X.T,X.T=null,g=se.p,se.p=2,E=Kt,Kt|=4;try{Dk(s,i,l)}finally{Kt=E,se.p=g,X.T=f}}Jr=1,Pv(),Uv(),Bv()}}function Pv(){if(Jr===1){Jr=0;var s=Xs,i=ac,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var f=se.p;se.p=2;var g=Kt;Kt|=4;try{vv(i,s);var x=jg,E=Sx(s.containerInfo),k=x.focusedElem,G=x.selectionRange;if(E!==k&&k&&k.ownerDocument&&bx(k.ownerDocument.documentElement,k)){if(G!==null&&hh(k)){var oe=G.start,ve=G.end;if(ve===void 0&&(ve=oe),"selectionStart"in k)k.selectionStart=oe,k.selectionEnd=Math.min(ve,k.value.length);else{var Ee=k.ownerDocument||document,he=Ee&&Ee.defaultView||window;if(he.getSelection){var me=he.getSelection(),ct=k.textContent.length,rt=Math.min(G.start,ct),rr=G.end===void 0?rt:Math.min(G.end,ct);!me.extend&&rt>rr&&(E=rr,rr=rt,rt=E);var te=Ex(k,rt),Z=Ex(k,rr);if(te&&Z&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var ie=Ee.createRange();ie.setStart(te.node,te.offset),me.removeAllRanges(),rt>rr?(me.addRange(ie),me.extend(Z.node,Z.offset)):(ie.setEnd(Z.node,Z.offset),me.addRange(ie))}}}}for(Ee=[],me=k;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Ee.length;k++){var _e=Ee[k];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}hf=!!Bg,jg=Bg=null}finally{Kt=g,se.p=f,X.T=l}}s.current=i,Jr=2}}function Uv(){if(Jr===2){Jr=0;var s=Xs,i=ac,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var f=se.p;se.p=2;var g=Kt;Kt|=4;try{mv(s,i.alternate,i)}finally{Kt=g,se.p=f,X.T=l}}Jr=3}}function Bv(){if(Jr===4||Jr===3){Jr=0,$e();var s=Xs,i=ac,l=sc,f=Av;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jr=5:(Jr=0,ac=Xs=null,jv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(qs=null),Zt(l),i=i.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(He,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=X.T,g=se.p,se.p=2,X.T=null;try{for(var x=s.onRecoverableError,E=0;E<f.length;E++){var k=f[E];x(k.value,{componentStack:k.stack})}}finally{X.T=i,se.p=g}}(sc&3)!==0&&ef(),Ga(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Sg?Ol++:(Ol=0,Sg=s):Ol=0,Ml(0)}}function jv(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,hl(i)))}function ef(s){return Pv(),Uv(),Bv(),Hv()}function Hv(){if(Jr!==5)return!1;var s=Xs,i=Eg;Eg=0;var l=Zt(sc),f=X.T,g=se.p;try{se.p=32>l?32:l,X.T=null,l=bg,bg=null;var x=Xs,E=sc;if(Jr=0,ac=Xs=null,sc=0,(Kt&6)!==0)throw Error(n(331));var k=Kt;if(Kt|=4,bv(x.current),wv(x,x.current,E,l),Kt=k,Ml(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(He,x)}catch{}return!0}finally{se.p=g,X.T=f,jv(s,i)}}function zv(s,i,l){i=na(l,i),i=ng(s.stateNode,i,2),s=js(s,i,2),s!==null&&(tt(s,2),Ga(s))}function sr(s,i,l){if(s.tag===3)zv(s,s,l);else for(;i!==null;){if(i.tag===3){zv(i,s,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))){s=na(l,s),l=Wy(2),f=js(i,l,2),f!==null&&($y(l,f,i,s),tt(f,2),Ga(f));break}}i=i.return}}function Ng(s,i,l){var f=s.pingCache;if(f===null){f=s.pingCache=new Ok;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(l)||(vg=!0,g.add(l),s=Uk.bind(null,s,i,l),i.then(s,s))}function Uk(s,i,l){var f=s.pingCache;f!==null&&f.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,or===s&&(Pt&l)===l&&(xr===4||xr===3&&(Pt&62914560)===Pt&&300>we()-Tg?(Kt&2)===0&&ic(s,0):_g|=l,nc===Pt&&(nc=0)),Ga(s)}function Vv(s,i){i===0&&(i=vt()),s=zo(s,i),s!==null&&(tt(s,i),Ga(s))}function Bk(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Vv(s,l)}function jk(s,i){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(i),Vv(s,l)}function Hk(s,i){return Tt(s,i)}var tf=null,cc=null,Dg=!1,rf=!1,Ig=!1,Ki=0;function Ga(s){s!==cc&&s.next===null&&(cc===null?tf=cc=s:cc=cc.next=s),rf=!0,Dg||(Dg=!0,Vk())}function Ml(s,i){if(!Ig&&rf){Ig=!0;do for(var l=!1,f=tf;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var E=f.suspendedLanes,k=f.pingedLanes;x=(1<<31-nt(42|s)+1)-1,x&=g&~(E&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,$v(f,x))}else x=Pt,x=Pe(f,f===or?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Ue(f,x)||(l=!0,$v(f,x));f=f.next}while(l);Ig=!1}}function zk(){Gv()}function Gv(){rf=Dg=!1;var s=0;Ki!==0&&(Qk()&&(s=Ki),Ki=0);for(var i=we(),l=null,f=tf;f!==null;){var g=f.next,x=Yv(f,i);x===0?(f.next=null,l===null?tf=g:l.next=g,g===null&&(cc=l)):(l=f,(s!==0||(x&3)!==0)&&(rf=!0)),f=g}Ml(s)}function Yv(s,i){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var E=31-nt(x),k=1<<E,G=g[E];G===-1?((k&l)===0||(k&f)!==0)&&(g[E]=Ve(k,i)):G<=i&&(s.expiredLanes|=k),x&=~k}if(i=or,l=Pt,l=Pe(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===i&&(qt===2||qt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&ut(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ue(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(f!==null&&ut(f),Zt(l)){case 2:case 8:l=et;break;case 32:l=Ge;break;case 268435456:l=je;break;default:l=Ge}return f=Wv.bind(null,s),l=Tt(l,f),s.callbackPriority=i,s.callbackNode=l,i}return f!==null&&f!==null&&ut(f),s.callbackPriority=2,s.callbackNode=null,2}function Wv(s,i){if(Jr!==0&&Jr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(ef()&&s.callbackNode!==l)return null;var f=Pt;return f=Pe(s,s===or?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(Cv(s,f,i),Yv(s,we()),s.callbackNode!=null&&s.callbackNode===l?Wv.bind(null,s):null)}function $v(s,i){if(ef())return null;Cv(s,i,!0)}function Vk(){Jk(function(){(Kt&6)!==0?Tt(De,zk):Gv()})}function Rg(){return Ki===0&&(Ki=gt()),Ki}function Kv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:h0(""+s)}function qv(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function Gk(s,i,l,f,g){if(i==="submit"&&l&&l.stateNode===g){var x=Kv((g[Ir]||null).action),E=f.submitter;E&&(i=(i=E[Ir]||null)?Kv(i.formAction):E.getAttribute("formAction"),i!==null&&(x=i,E=null));var k=new x0("action","action",null,f,g);s.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ki!==0){var G=E?qv(g,E):new FormData(g);Zh(l,{pending:!0,data:G,method:g.method,action:x},null,G)}}else typeof x=="function"&&(k.preventDefault(),G=E?qv(g,E):new FormData(g),Zh(l,{pending:!0,data:G,method:g.method,action:x},x,G))},currentTarget:g}]})}}for(var Og=0;Og<xh.length;Og++){var Mg=xh[Og],Yk=Mg.toLowerCase(),Wk=Mg[0].toUpperCase()+Mg.slice(1);wa(Yk,"on"+Wk)}wa(Cx,"onAnimationEnd"),wa(Nx,"onAnimationIteration"),wa(Dx,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(lk,"onTransitionRun"),wa(uk,"onTransitionStart"),wa(fk,"onTransitionCancel"),wa(Ix,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Xv(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var E=f.length-1;0<=E;E--){var k=f[E],G=k.instance,oe=k.currentTarget;if(k=k.listener,G!==x&&g.isPropagationStopped())break e;x=k,g.currentTarget=oe;try{x(g)}catch(ve){V0(ve)}g.currentTarget=null,x=G}else for(E=0;E<f.length;E++){if(k=f[E],G=k.instance,oe=k.currentTarget,k=k.listener,G!==x&&g.isPropagationStopped())break e;x=k,g.currentTarget=oe;try{x(g)}catch(ve){V0(ve)}g.currentTarget=null,x=G}}}}function It(s,i){var l=i[Ii];l===void 0&&(l=i[Ii]=new Set);var f=s+"__bubble";l.has(f)||(Qv(i,s,2,!1),l.add(f))}function Fg(s,i,l){var f=0;i&&(f|=4),Qv(l,s,f,i)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Lg(s){if(!s[nf]){s[nf]=!0,ue.forEach(function(l){l!=="selectionchange"&&($k.has(l)||Fg(l,!1,s),Fg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[nf]||(i[nf]=!0,Fg("selectionchange",!1,i))}}function Qv(s,i,l,f){switch(w2(i)){case 2:var g=_C;break;case 8:g=wC;break;default:g=Xg}l=g.bind(null,i,l,s),g=void 0,!ah||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Pg(s,i,l,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var k=f.stateNode.containerInfo;if(k===g)break;if(E===4)for(E=f.return;E!==null;){var G=E.tag;if((G===3||G===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;k!==null;){if(E=F(k),E===null)return;if(G=E.tag,G===5||G===6||G===26||G===27){f=x=E;continue e}k=k.parentNode}}f=f.return}ax(function(){var oe=x,ve=rh(l),Ee=[];e:{var he=Rx.get(s);if(he!==void 0){var me=x0,ct=s;switch(s){case"keypress":if(m0(l)===0)break e;case"keydown":case"keyup":me=H4;break;case"focusin":ct="focus",me=ch;break;case"focusout":ct="blur",me=ch;break;case"beforeblur":case"afterblur":me=ch;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=N4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=G4;break;case Cx:case Nx:case Dx:me=R4;break;case Ix:me=W4;break;case"scroll":case"scrollend":me=k4;break;case"wheel":me=K4;break;case"copy":case"cut":case"paste":me=M4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=lx;break;case"toggle":case"beforetoggle":me=X4}var rt=(i&4)!==0,rr=!rt&&(s==="scroll"||s==="scrollend"),te=rt?he!==null?he+"Capture":null:he;rt=[];for(var Z=oe,ie;Z!==null;){var _e=Z;if(ie=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ie===null||te===null||(_e=el(Z,te),_e!=null&&rt.push(Ll(Z,_e,ie))),rr)break;Z=Z.return}0<rt.length&&(he=new me(he,ct,null,l,ve),Ee.push({event:he,listeners:rt}))}}if((i&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",he&&l!==th&&(ct=l.relatedTarget||l.fromElement)&&(F(ct)||ct[Ua]))break e;if((me||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,me?(ct=l.relatedTarget||l.toElement,me=oe,ct=ct?F(ct):null,ct!==null&&(rr=o(ct),rt=ct.tag,ct!==rr||rt!==5&&rt!==27&&rt!==6)&&(ct=null)):(me=null,ct=oe),me!==ct)){if(rt=ox,_e="onMouseLeave",te="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(rt=lx,_e="onPointerLeave",te="onPointerEnter",Z="pointer"),rr=me==null?he:le(me),ie=ct==null?he:le(ct),he=new rt(_e,Z+"leave",me,l,ve),he.target=rr,he.relatedTarget=ie,_e=null,F(ve)===oe&&(rt=new rt(te,Z+"enter",ct,l,ve),rt.target=ie,rt.relatedTarget=rr,_e=rt),rr=_e,me&&ct)t:{for(rt=me,te=ct,Z=0,ie=rt;ie;ie=lc(ie))Z++;for(ie=0,_e=te;_e;_e=lc(_e))ie++;for(;0<Z-ie;)rt=lc(rt),Z--;for(;0<ie-Z;)te=lc(te),ie--;for(;Z--;){if(rt===te||te!==null&&rt===te.alternate)break t;rt=lc(rt),te=lc(te)}rt=null}else rt=null;me!==null&&Zv(Ee,he,me,rt,!1),ct!==null&&rr!==null&&Zv(Ee,rr,ct,rt,!0)}}e:{if(he=oe?le(oe):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var Ke=xx;else if(mx(he))if(yx)Ke=ik;else{Ke=ak;var kt=nk}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?oe&&Jc(oe.elementType)&&(Ke=xx):Ke=sk;if(Ke&&(Ke=Ke(s,oe))){px(Ee,Ke,l,ve);break e}kt&&kt(s,he,oe),s==="focusout"&&oe&&he.type==="number"&&oe.memoizedProps.value!=null&&ke(he,"number",he.value)}switch(kt=oe?le(oe):window,s){case"focusin":(mx(kt)||kt.contentEditable==="true")&&(Bo=kt,gh=oe,cl=null);break;case"focusout":cl=gh=Bo=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Ax(Ee,l,ve);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":Ax(Ee,l,ve)}var Ze;if(uh)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Uo?hx(s,l)&&(at="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(at="onCompositionStart");at&&(ux&&l.locale!=="ko"&&(Uo||at!=="onCompositionStart"?at==="onCompositionEnd"&&Uo&&(Ze=sx()):(Ls=ve,sh="value"in Ls?Ls.value:Ls.textContent,Uo=!0)),kt=af(oe,at),0<kt.length&&(at=new cx(at,s,null,l,ve),Ee.push({event:at,listeners:kt}),Ze?at.data=Ze:(Ze=gx(l),Ze!==null&&(at.data=Ze)))),(Ze=Z4?J4(s,l):ek(s,l))&&(at=af(oe,"onBeforeInput"),0<at.length&&(kt=new cx("onBeforeInput","beforeinput",null,l,ve),Ee.push({event:kt,listeners:at}),kt.data=Ze)),Gk(Ee,s,oe,l,ve)}Xv(Ee,i)})}function Ll(s,i,l){return{instance:s,listener:i,currentTarget:l}}function af(s,i){for(var l=i+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=el(s,l),g!=null&&f.unshift(Ll(s,g,x)),g=el(s,i),g!=null&&f.push(Ll(s,g,x))),s.tag===3)return f;s=s.return}return[]}function lc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zv(s,i,l,f,g){for(var x=i._reactName,E=[];l!==null&&l!==f;){var k=l,G=k.alternate,oe=k.stateNode;if(k=k.tag,G!==null&&G===f)break;k!==5&&k!==26&&k!==27||oe===null||(G=oe,g?(oe=el(l,x),oe!=null&&E.unshift(Ll(l,oe,G))):g||(oe=el(l,x),oe!=null&&E.push(Ll(l,oe,G)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var Kk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function Jv(s){return(typeof s=="string"?s:""+s).replace(Kk,`
`).replace(qk,"")}function e2(s,i){return i=Jv(i),Jv(s)===i}function sf(){}function tr(s,i,l,f,g,x){switch(l){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||At(s,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&At(s,""+f);break;case"className":Wt(s,"class",f);break;case"tabIndex":Wt(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(s,l,f);break;case"style":Fo(s,f,x);break;case"data":if(i!=="object"){Wt(s,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=h0(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(i!=="input"&&tr(s,i,"name",g.name,g,null),tr(s,i,"formEncType",g.formEncType,g,null),tr(s,i,"formMethod",g.formMethod,g,null),tr(s,i,"formTarget",g.formTarget,g,null)):(tr(s,i,"encType",g.encType,g,null),tr(s,i,"method",g.method,g,null),tr(s,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=h0(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=sf);break;case"onScroll":f!=null&&It("scroll",s);break;case"onScrollEnd":f!=null&&It("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=h0(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":It("beforetoggle",s),It("toggle",s),Vt(s,"popover",f);break;case"xlinkActuate":Jt(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Jt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Jt(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Jt(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Jt(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Jt(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Jt(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Vt(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=S4.get(l)||l,Vt(s,l,f))}}function Ug(s,i,l,f,g,x){switch(l){case"style":Fo(s,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=l}}break;case"children":typeof f=="string"?At(s,f):(typeof f=="number"||typeof f=="bigint")&&At(s,""+f);break;case"onScroll":f!=null&&It("scroll",s);break;case"onScrollEnd":f!=null&&It("scrollend",s);break;case"onClick":f!=null&&(s.onclick=sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ge.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),x=s[Ir]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(i,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,f,g);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Vt(s,l,f)}}}function en(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",s),It("load",s);var f=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var E=l[x];if(E!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:tr(s,i,x,E,l,null)}}g&&tr(s,i,"srcSet",l.srcSet,l,null),f&&tr(s,i,"src",l.src,l,null);return;case"input":It("invalid",s);var k=x=E=g=null,G=null,oe=null;for(f in l)if(l.hasOwnProperty(f)){var ve=l[f];if(ve!=null)switch(f){case"name":g=ve;break;case"type":E=ve;break;case"checked":G=ve;break;case"defaultChecked":oe=ve;break;case"value":x=ve;break;case"defaultValue":k=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,i));break;default:tr(s,i,f,ve,l,null)}}de(s,x,k,G,oe,E,g,!1),Ro(s);return;case"select":It("invalid",s),f=E=x=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":x=k;break;case"defaultValue":E=k;break;case"multiple":f=k;default:tr(s,i,g,k,l,null)}i=x,l=E,s.multiple=!!f,i!=null?mt(s,!!f,i,!1):l!=null&&mt(s,!!f,l,!0);return;case"textarea":It("invalid",s),x=g=f=null;for(E in l)if(l.hasOwnProperty(E)&&(k=l[E],k!=null))switch(E){case"value":f=k;break;case"defaultValue":g=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:tr(s,i,E,k,l,null)}bt(s,f,g,x),Ro(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:tr(s,i,G,f,l,null)}return;case"dialog":It("beforetoggle",s),It("toggle",s),It("cancel",s),It("close",s);break;case"iframe":case"object":It("load",s);break;case"video":case"audio":for(f=0;f<Fl.length;f++)It(Fl[f],s);break;case"image":It("error",s),It("load",s);break;case"details":It("toggle",s);break;case"embed":case"source":case"link":It("error",s),It("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(f=l[oe],f!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:tr(s,i,oe,f,l,null)}return;default:if(Jc(i)){for(ve in l)l.hasOwnProperty(ve)&&(f=l[ve],f!==void 0&&Ug(s,i,ve,f,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(f=l[k],f!=null&&tr(s,i,k,f,l,null))}function Xk(s,i,l,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,E=null,k=null,G=null,oe=null,ve=null;for(me in l){var Ee=l[me];if(l.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=Ee;default:f.hasOwnProperty(me)||tr(s,i,me,null,f,Ee)}}for(var he in f){var me=f[he];if(Ee=l[he],f.hasOwnProperty(he)&&(me!=null||Ee!=null))switch(he){case"type":x=me;break;case"name":g=me;break;case"checked":oe=me;break;case"defaultChecked":ve=me;break;case"value":E=me;break;case"defaultValue":k=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,i));break;default:me!==Ee&&tr(s,i,he,me,f,Ee)}}Mo(s,E,k,G,oe,ve,x,g);return;case"select":me=E=k=he=null;for(x in l)if(G=l[x],l.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":me=G;default:f.hasOwnProperty(x)||tr(s,i,x,null,f,G)}for(g in f)if(x=f[g],G=l[g],f.hasOwnProperty(g)&&(x!=null||G!=null))switch(g){case"value":he=x;break;case"defaultValue":k=x;break;case"multiple":E=x;default:x!==G&&tr(s,i,g,x,f,G)}i=k,l=E,f=me,he!=null?mt(s,!!l,he,!1):!!f!=!!l&&(i!=null?mt(s,!!l,i,!0):mt(s,!!l,l?[]:"",!1));return;case"textarea":me=he=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:tr(s,i,k,null,f,g)}for(E in f)if(g=f[E],x=l[E],f.hasOwnProperty(E)&&(g!=null||x!=null))switch(E){case"value":he=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==x&&tr(s,i,E,g,f,x)}Et(s,he,me);return;case"option":for(var ct in l)if(he=l[ct],l.hasOwnProperty(ct)&&he!=null&&!f.hasOwnProperty(ct))switch(ct){case"selected":s.selected=!1;break;default:tr(s,i,ct,null,f,he)}for(G in f)if(he=f[G],me=l[G],f.hasOwnProperty(G)&&he!==me&&(he!=null||me!=null))switch(G){case"selected":s.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:tr(s,i,G,he,f,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in l)he=l[rt],l.hasOwnProperty(rt)&&he!=null&&!f.hasOwnProperty(rt)&&tr(s,i,rt,null,f,he);for(oe in f)if(he=f[oe],me=l[oe],f.hasOwnProperty(oe)&&he!==me&&(he!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,i));break;default:tr(s,i,oe,he,f,me)}return;default:if(Jc(i)){for(var rr in l)he=l[rr],l.hasOwnProperty(rr)&&he!==void 0&&!f.hasOwnProperty(rr)&&Ug(s,i,rr,void 0,f,he);for(ve in f)he=f[ve],me=l[ve],!f.hasOwnProperty(ve)||he===me||he===void 0&&me===void 0||Ug(s,i,ve,he,f,me);return}}for(var te in l)he=l[te],l.hasOwnProperty(te)&&he!=null&&!f.hasOwnProperty(te)&&tr(s,i,te,null,f,he);for(Ee in f)he=f[Ee],me=l[Ee],!f.hasOwnProperty(Ee)||he===me||he==null&&me==null||tr(s,i,Ee,he,f,me)}var Bg=null,jg=null;function of(s){return s.nodeType===9?s:s.ownerDocument}function t2(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r2(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Hg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zg=null;function Qk(){var s=window.event;return s&&s.type==="popstate"?s===zg?!1:(zg=s,!0):(zg=null,!1)}var n2=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,a2=typeof Promise=="function"?Promise:void 0,Jk=typeof queueMicrotask=="function"?queueMicrotask:typeof a2<"u"?function(s){return a2.resolve(null).then(s).catch(eC)}:n2;function eC(s){setTimeout(function(){throw s})}function Zs(s){return s==="head"}function s2(s,i){var l=i,f=0,g=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var E=s.ownerDocument;if(l&1&&Pl(E.documentElement),l&2&&Pl(E.body),l&4)for(l=E.head,Pl(l),E=l.firstChild;E;){var k=E.nextSibling,G=E.nodeName;E[I]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=k}}if(g===0){s.removeChild(x),Yl(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);Yl(i)}function Vg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vg(l),O(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function tC(s,i,l,f){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[I])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Ea(s.nextSibling),s===null)break}return null}function rC(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ea(s.nextSibling),s===null))return null;return s}function Gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function nC(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var f=function(){i(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Ea(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var Yg=null;function i2(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function o2(s,i,l){switch(i=of(l),s){case"html":if(s=i.documentElement,!s)throw Error(n(452));return s;case"head":if(s=i.head,!s)throw Error(n(453));return s;case"body":if(s=i.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Pl(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);O(s)}var la=new Map,c2=new Set;function cf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var vs=se.d;se.d={f:aC,r:sC,D:iC,C:oC,L:cC,m:lC,X:fC,S:uC,M:dC};function aC(){var s=vs.f(),i=Z0();return s||i}function sC(s){var i=B(s);i!==null&&i.tag===5&&i.type==="form"?Cy(i):vs.r(s)}var uc=typeof document>"u"?null:document;function l2(s,i,l){var f=uc;if(f&&typeof i=="string"&&i){var g=xn(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),c2.has(g)||(c2.add(g),s={rel:s,crossOrigin:l,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),en(i,"link",s),re(i),f.head.appendChild(i)))}}function iC(s){vs.D(s),l2("dns-prefetch",s,null)}function oC(s,i){vs.C(s,i),l2("preconnect",s,i)}function cC(s,i,l){vs.L(s,i,l);var f=uc;if(f&&s&&i){var g='link[rel="preload"][as="'+xn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+xn(l.imageSizes)+'"]')):g+='[href="'+xn(s)+'"]';var x=g;switch(i){case"style":x=fc(s);break;case"script":x=dc(s)}la.has(x)||(s=m({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),la.set(x,s),f.querySelector(g)!==null||i==="style"&&f.querySelector(Ul(x))||i==="script"&&f.querySelector(Bl(x))||(i=f.createElement("link"),en(i,"link",s),re(i),f.head.appendChild(i)))}}function lC(s,i){vs.m(s,i);var l=uc;if(l&&s){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+xn(f)+'"][href="'+xn(s)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=dc(s)}if(!la.has(x)&&(s=m({rel:"modulepreload",href:s},i),la.set(x,s),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bl(x)))return}f=l.createElement("link"),en(f,"link",s),re(f),l.head.appendChild(f)}}}function uC(s,i,l){vs.S(s,i,l);var f=uc;if(f&&s){var g=pe(f).hoistableStyles,x=fc(s);i=i||"default";var E=g.get(x);if(!E){var k={loading:0,preload:null};if(E=f.querySelector(Ul(x)))k.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":i},l),(l=la.get(x))&&Wg(s,l);var G=E=f.createElement("link");re(G),en(G,"link",s),G._p=new Promise(function(oe,ve){G.onload=oe,G.onerror=ve}),G.addEventListener("load",function(){k.loading|=1}),G.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lf(E,i,f)}E={type:"stylesheet",instance:E,count:1,state:k},g.set(x,E)}}}function fC(s,i){vs.X(s,i);var l=uc;if(l&&s){var f=pe(l).hoistableScripts,g=dc(s),x=f.get(g);x||(x=l.querySelector(Bl(g)),x||(s=m({src:s,async:!0},i),(i=la.get(g))&&$g(s,i),x=l.createElement("script"),re(x),en(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function dC(s,i){vs.M(s,i);var l=uc;if(l&&s){var f=pe(l).hoistableScripts,g=dc(s),x=f.get(g);x||(x=l.querySelector(Bl(g)),x||(s=m({src:s,async:!0,type:"module"},i),(i=la.get(g))&&$g(s,i),x=l.createElement("script"),re(x),en(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function u2(s,i,l,f){var g=(g=ae.current)?cf(g):null;if(!g)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fc(l.href),l=pe(g).hoistableStyles,f=l.get(i),f||(f={type:"style",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=fc(l.href);var x=pe(g).hoistableStyles,E=x.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,E),(x=g.querySelector(Ul(s)))&&!x._p&&(E.instance=x,E.state.loading=5),la.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},la.set(s,l),x||hC(g,s,l,E.state))),i&&f===null)throw Error(n(528,""));return E}if(i&&f!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=dc(l),l=pe(g).hoistableScripts,f=l.get(i),f||(f={type:"script",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function fc(s){return'href="'+xn(s)+'"'}function Ul(s){return'link[rel="stylesheet"]['+s+"]"}function f2(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function hC(s,i,l,f){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=s.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),en(i,"link",l),re(i),s.head.appendChild(i))}function dc(s){return'[src="'+xn(s)+'"]'}function Bl(s){return"script[async]"+s}function d2(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var f=s.querySelector('style[data-href~="'+xn(l.href)+'"]');if(f)return i.instance=f,re(f),f;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),re(f),en(f,"style",g),lf(f,l.precedence,s),i.instance=f;case"stylesheet":g=fc(l.href);var x=s.querySelector(Ul(g));if(x)return i.state.loading|=4,i.instance=x,re(x),x;f=f2(l),(g=la.get(g))&&Wg(f,g),x=(s.ownerDocument||s).createElement("link"),re(x);var E=x;return E._p=new Promise(function(k,G){E.onload=k,E.onerror=G}),en(x,"link",f),i.state.loading|=4,lf(x,l.precedence,s),i.instance=x;case"script":return x=dc(l.src),(g=s.querySelector(Bl(x)))?(i.instance=g,re(g),g):(f=l,(g=la.get(x))&&(f=m({},l),$g(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),re(g),en(g,"link",f),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,lf(f,l.precedence,s));return i.instance}function lf(s,i,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,E=0;E<f.length;E++){var k=f[E];if(k.dataset.precedence===i)x=k;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Wg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function $g(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var uf=null;function h2(s,i,l){if(uf===null){var f=new Map,g=uf=new Map;g.set(l,f)}else g=uf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var x=l[g];if(!(x[I]||x[Dr]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(i)||"";E=s+E;var k=f.get(E);k?k.push(x):f.set(E,[x])}}return f}function g2(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function gC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jl=null;function mC(){}function pC(s,i,l){if(jl===null)throw Error(n(475));var f=jl;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=fc(l.href),x=s.querySelector(Ul(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=ff.bind(f),s.then(f,f)),i.state.loading|=4,i.instance=x,re(x);return}x=s.ownerDocument||s,l=f2(l),(g=la.get(g))&&Wg(l,g),x=x.createElement("link"),re(x);var E=x;E._p=new Promise(function(k,G){E.onload=k,E.onerror=G}),en(x,"link",l),i.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=ff.bind(f),s.addEventListener("load",i),s.addEventListener("error",i))}}function xC(){if(jl===null)throw Error(n(475));var s=jl;return s.stylesheets&&s.count===0&&Kg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Kg(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function ff(){if(this.count--,this.count===0){if(this.stylesheets)Kg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var df=null;function Kg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,df=new Map,i.forEach(yC,s),df=null,ff.call(s))}function yC(s,i){if(!(i.state.loading&4)){var l=df.get(s);if(l)var f=l.get(null);else{l=new Map,df.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var E=g[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),f=E)}f&&l.set(null,f)}g=i.instance,E=g.getAttribute("data-precedence"),x=l.get(E)||f,x===f&&l.set(null,g),l.set(E,g),this.count++,f=ff.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var Hl={$$typeof:S,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function vC(s,i,l,f,g,x,E,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function p2(s,i,l,f,g,x,E,k,G,oe,ve,Ee){return s=new vC(s,i,l,E,k,G,oe,Ee),i=1,x===!0&&(i|=24),x=zn(3,null,null,i),s.current=x,x.stateNode=s,i=Nh(),i.refCount++,s.pooledCache=i,i.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:i},Oh(x),s}function x2(s){return s?(s=Vo,s):Vo}function y2(s,i,l,f,g,x){g=x2(g),f.context===null?f.context=g:f.pendingContext=g,f=Bs(i),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=js(s,f,i),l!==null&&($n(l,s,i),xl(l,s,i))}function v2(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function qg(s,i){v2(s,i),(s=s.alternate)&&v2(s,i)}function _2(s){if(s.tag===13){var i=zo(s,67108864);i!==null&&$n(i,s,67108864),qg(s,67108864)}}var hf=!0;function _C(s,i,l,f){var g=X.T;X.T=null;var x=se.p;try{se.p=2,Xg(s,i,l,f)}finally{se.p=x,X.T=g}}function wC(s,i,l,f){var g=X.T;X.T=null;var x=se.p;try{se.p=8,Xg(s,i,l,f)}finally{se.p=x,X.T=g}}function Xg(s,i,l,f){if(hf){var g=Qg(f);if(g===null)Pg(s,i,f,gf,l),T2(s,f);else if(EC(g,s,i,l,f))f.stopPropagation();else if(T2(s,f),i&4&&-1<TC.indexOf(s)){for(;g!==null;){var x=B(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=qe(x.pendingLanes);if(E!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;E;){var G=1<<31-nt(E);k.entanglements[1]|=G,E&=~G}Ga(x),(Kt&6)===0&&(X0=we()+500,Ml(0))}}break;case 13:k=zo(x,2),k!==null&&$n(k,x,2),Z0(),qg(x,2)}if(x=Qg(f),x===null&&Pg(s,i,f,gf,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Pg(s,i,f,null,l)}}function Qg(s){return s=rh(s),Zg(s)}var gf=null;function Zg(s){if(gf=null,s=F(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return gf=s,null}function w2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case De:return 2;case et:return 8;case Ge:case Le:return 32;case je:return 268435456;default:return 32}default:return 32}}var Jg=!1,Js=null,ei=null,ti=null,zl=new Map,Vl=new Map,ri=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T2(s,i){switch(s){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Gl(s,i,l,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=B(i),i!==null&&_2(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function EC(s,i,l,f,g){switch(i){case"focusin":return Js=Gl(Js,s,i,l,f,g),!0;case"dragenter":return ei=Gl(ei,s,i,l,f,g),!0;case"mouseover":return ti=Gl(ti,s,i,l,f,g),!0;case"pointerover":var x=g.pointerId;return zl.set(x,Gl(zl.get(x)||null,s,i,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Vl.set(x,Gl(Vl.get(x)||null,s,i,l,f,g)),!0}return!1}function E2(s){var i=F(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Zc(s.priority,function(){if(l.tag===13){var f=Wn();f=Pa(f);var g=zo(l,f);g!==null&&$n(g,l,f),qg(l,f)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Qg(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);th=f,l.target.dispatchEvent(f),th=null}else return i=B(l),i!==null&&_2(i),s.blockedOn=l,!1;i.shift()}return!0}function b2(s,i,l){mf(s)&&l.delete(i)}function bC(){Jg=!1,Js!==null&&mf(Js)&&(Js=null),ei!==null&&mf(ei)&&(ei=null),ti!==null&&mf(ti)&&(ti=null),zl.forEach(b2),Vl.forEach(b2)}function pf(s,i){s.blockedOn===i&&(s.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bC)))}var xf=null;function S2(s){xf!==s&&(xf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xf===s&&(xf=null);for(var i=0;i<s.length;i+=3){var l=s[i],f=s[i+1],g=s[i+2];if(typeof f!="function"){if(Zg(f||l)===null)continue;break}var x=B(l);x!==null&&(s.splice(i,3),i-=3,Zh(x,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Yl(s){function i(G){return pf(G,s)}Js!==null&&pf(Js,s),ei!==null&&pf(ei,s),ti!==null&&pf(ti,s),zl.forEach(i),Vl.forEach(i);for(var l=0;l<ri.length;l++){var f=ri[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ri.length&&(l=ri[0],l.blockedOn===null);)E2(l),l.blockedOn===null&&ri.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],E=g[Ir]||null;if(typeof x=="function")E||S2(l);else if(E){var k=null;if(x&&x.hasAttribute("formAction")){if(g=x,E=x[Ir]||null)k=E.formAction;else if(Zg(g)!==null)continue}else k=E.action;typeof k=="function"?l[f+1]=k:(l.splice(f,3),f-=3),S2(l)}}}function em(s){this._internalRoot=s}yf.prototype.render=em.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,f=Wn();y2(l,f,s,i,null,null)},yf.prototype.unmount=em.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;y2(s.current,2,null,s,null,null),Z0(),i[Ua]=null}};function yf(s){this._internalRoot=s}yf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Io();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ri.length&&i!==0&&i<ri[l].priority;l++);ri.splice(l,0,s),l===0&&E2(s)}};var A2=e.version;if(A2!=="19.1.1")throw Error(n(527,A2,"19.1.1"));se.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(i),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var SC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{He=vf.inject(SC),ht=vf}catch{}}return $l.createRoot=function(s,i){if(!a(s))throw Error(n(299));var l=!1,f="",g=zy,x=Vy,E=Gy,k=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=p2(s,1,!1,null,null,l,f,g,x,E,k,null),s[Ua]=i.current,Lg(s),new em(i)},$l.hydrateRoot=function(s,i,l){if(!a(s))throw Error(n(299));var f=!1,g="",x=zy,E=Vy,k=Gy,G=null,oe=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(oe=l.formState)),i=p2(s,1,!0,i,l??null,f,g,x,E,k,G,oe),i.context=x2(null),l=i.current,f=Wn(),f=Pa(f),g=Bs(f),g.callback=null,js(l,g,f),l=f,i.current.lanes=l,tt(i,l),Ga(i),s[Ua]=i.current,Lg(s),new yf(i)},$l.version="19.1.1",$l}var L2;function YC(){if(L2)return nm.exports;L2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nm.exports=GC(),nm.exports}var WC=YC();const $C=RT(WC),KC=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .custom-scrollbar.scrolling::-webkit-scrollbar-thumb {
    opacity: 1;
    background: rgba(255, 255, 255, 0.4);
  }
  
  .custom-scrollbar:not(.scrolling)::-webkit-scrollbar-thumb {
    opacity: 0;
  }
`,qC=[{id:"2set",label:"2SET"},{id:"3pilot",label:"3PILOT"}],XC=[{id:"2교대",label:"2SET 2교대"},{id:"1교대",label:"2SET 1교대"}],QC=[{id:"CASE1"},{id:"CASE2"}],ir=t=>{if(!t)return 0;const e=t.padStart(4,"0"),r=parseInt(e.slice(0,2),10)||0,n=parseInt(e.slice(2,4),10)||0;return r*60+n},Nd=t=>{t<0&&(t=0);const e=Math.floor(t/60),r=Math.round(t%60);return`${String(e).padStart(2,"0")}${String(r).padStart(2,"0")}`},tn=t=>{if(!t)return"0분";if(t<0)return`${tn(Math.abs(t))}`;const e=Math.floor(t/60),r=Math.round(t%60);return e>0&&r>0?`${e}시간 ${r}분`:e>0?`${e}시간`:`${r}분`},xt=t=>{if(!t)return"00:00";const e=t.padStart(4,"0");return`${e.slice(0,2)}:${e.slice(2,4)}`},$t=(t,e)=>{let r=t+e*60;return r=(r%1440+1440)%1440,Nd(r)},Kn=t=>{let e=t;return e=(e%1440+1440)%1440,Nd(e)},ZC=t=>{t<0&&(t=0);const e=Math.floor(t/60),r=Math.round(t%60);return e>0&&r>0?`${e}h${String(r).padStart(2,"0")}m`:e>0?`${e}h`:`${r}m`},JC=ee.memo(t=>p.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:[p.jsx("rect",{width:"16",height:"20",x:"4",y:"2",rx:"2"}),p.jsx("line",{x1:"8",x2:"16",y1:"6",y2:"6"}),p.jsx("line",{x1:"16",x2:"16",y1:"14",y2:"18"}),p.jsx("line",{x1:"16",x2:"16",y1:"10",y2:"10"}),p.jsx("line",{x1:"10",x2:"10",y1:"10",y2:"18"})]}));ee.memo(t=>p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]}));ee.memo(t=>p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:p.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1.5-1.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}));const Kl=ee.memo(({label:t,value:e,onClick:r,warning:n,isDark:a})=>p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${a?"text-gray-100":"text-gray-700"}`,children:t}),p.jsx("div",{className:`w-full px-3 py-2 border rounded-lg text-center font-mono text-lg cursor-pointer flex items-center justify-center min-h-[44px] ${a?"bg-gray-700 border-gray-600 hover:bg-gray-600 text-gray-100":"bg-white border-gray-300 hover:bg-gray-50 text-gray-900"} ${n?"border-red-500":""}`,onClick:r,role:"button",children:e}),n&&p.jsx("p",{className:"text-xs text-red-500 mt-1 text-center",children:n})]})),P2=ee.memo(({label:t,value:e,isDark:r})=>p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${r?"text-gray-100":"text-gray-700"}`,children:t}),p.jsx("div",{className:`w-full px-3 py-2 border rounded-lg text-center font-mono text-lg flex items-center justify-center min-h-[44px] cursor-not-allowed ${r?"bg-gray-900/50 border-gray-700 text-gray-400":"bg-gray-100 border-gray-300 text-gray-500"}`,children:e})]})),e3=t=>{if(t<=0||t===void 0||t===null)return"0h00m";const e=Math.floor(t/60),r=Math.round(t%60);return e===0?`${r}m`:r===0?`${e}h`:`${e}h${String(r).padStart(2,"0")}m`},_f=ee.memo(({segments:t,timePoints:e,progress:r=0,isDark:n})=>{const a=t.reduce((o,c)=>o+c.duration,0);return a<=0?p.jsx("div",{className:`p-6 rounded-lg ${n?"bg-gray-800":"bg-gray-100"} text-white font-sans w-full`,children:p.jsx("div",{className:"text-center text-gray-400",children:"비행 시간을 입력해주세요"})}):p.jsxs("div",{className:`px-1 py-2 rounded-lg ${n?"bg-gray-800":"bg-gray-100"} text-white font-sans w-full`,children:[p.jsx("div",{className:"relative h-12",children:p.jsx("div",{className:"w-full h-8 bg-gray-700 rounded-full flex overflow-hidden shadow-inner animate-breathing border-2 border-blue-400/50",children:t.map((o,c)=>{const u=t.slice(0,c).reduce((v,T)=>v+T.duration,0),d=r*a;let h;const m=r>=1;m||d<u?h=o.duration:d>=u+o.duration?h=0:h=u+o.duration-d;const y=d>=u+o.duration;return p.jsx("div",{className:`${o.color} h-full relative flex items-center justify-center shrink-0 transition-opacity duration-500 ${y&&!m?"opacity-30":"opacity-100"}`,style:{width:`${o.duration/a*100}%`},children:p.jsx("span",{className:`text-white font-bold z-10 ${o.duration/a*100<15?"text-xs":o.duration/a*100<25?"text-sm":"text-base"} sm:text-sm md:text-base`,style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:e3(h)})},c)})})}),p.jsx("div",{className:`relative mt-2 h-20 text-xs ${n?"text-gray-400":"text-gray-600"}`,children:e.map((o,c)=>{let u=0;c===0?u=t[0].duration/a*100:c===1?u=t.slice(0,2).reduce((m,y)=>m+y.duration,0)/a*100:c===2?u=t.slice(0,3).reduce((m,y)=>m+y.duration,0)/a*100:c===3&&(u=t.slice(0,4).reduce((m,y)=>m+y.duration,0)/a*100);const d=(()=>{if(t.length===0||a===0)return!1;const h=t.slice(0,c).reduce((v,T)=>v+T.duration,0),m=h/a,y=(h+t[c].duration)/a;return r===0&&c===0?!0:r>m&&r<=y})();return p.jsxs("div",{className:"absolute -translate-x-1/2",style:{left:`${u}%`},children:[p.jsx("div",{className:`w-px h-2 mx-auto ${d?"bg-blue-400 animate-pulse":"bg-gray-600"}`}),p.jsxs("div",{className:`mt-2 p-2 rounded-md text-center whitespace-nowrap border-2 ${d?(n?"border-white":"border-black")+" shadow-lg":"border-transparent"}`,style:d?{boxShadow:n?"0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.4), 0 0 30px rgba(255, 255, 255, 0.2)":"0 0 10px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 0, 0, 0.2)"}:{},children:[p.jsx("p",{className:`font-bold ${n?"text-white":"text-gray-900"}`,children:o.zulu}),p.jsx("p",{className:n?"text-gray-400":"text-gray-500",children:o.local}),p.jsx("p",{className:n?"text-gray-400":"text-gray-500",children:o.korea})]})]},c)})})]})}),t3={activeTab:"2set",twoSetMode:"2교대",flightTime:"1420",flightTime3Pilot:"1420",departureTime:"0200",crz1Time:"0330",afterTakeoff:"0200",afterTakeoff1교대:"0200",afterTakeoff3Pilot:"0100",beforeLanding:"0100",beforeLanding1교대:"0100",timeZone:-4,threePilotCase:"CASE1"},r3=t=>{try{const e=localStorage.getItem("pilotRestCalculatorState");if(e){const r=JSON.parse(e);return delete r.activeAlarms,{...t,...r}}}catch(e){console.error("Failed to parse state from localStorage. Using default state.",e)}return t},n3=(t,e)=>{switch(e.type){case"UPDATE_STATE":return{...t,...e.payload};case"SET_TIME":{const r=e.payload.value.replace(/\D/g,"").slice(0,4);return{...t,[e.payload.field]:r}}case"ADJUST_FLIGHT_TIME_3PILOT":{if(t.activeTab!=="3pilot")return t;const r=ir(t.flightTime3Pilot);if(r===0||r%3===0)return t;const n=Math.ceil(r/3)*3;return{...t,flightTime3Pilot:Nd(n)}}default:return t}},a3=({isDark:t})=>{const[e,r]=ee.useReducer(n3,t3,r3),{activeTab:n,twoSetMode:a,flightTime:o,flightTime3Pilot:c,departureTime:u,crz1Time:d,afterTakeoff:h,afterTakeoff1교대:m,afterTakeoff3Pilot:y,beforeLanding:v,beforeLanding1교대:T,timeZone:_,threePilotCase:w}=e,[b,N]=ee.useState(new Date),[R,S]=ee.useState(!0),[U,P]=ee.useState(!1),[W,D]=ee.useState(!1),[q,H]=ee.useState(!1),[fe,ne]=ee.useState(!1),Q=ee.useRef(null),ce=ee.useRef(null),Ce=ee.useRef(null),xe=ee.useRef(null),X=ee.useRef(null),se=ee.useRef(null),Oe=ee.useRef(null),J=ee.useRef(null),[M,K]=ee.useState(_),[C,z]=ee.useState(d),[V,Y]=ee.useState(()=>n==="2set"&&a==="1교대"?m:n==="3pilot"?y:h),[ae,Te]=ee.useState(v),[Ae,be]=ee.useState(!1),[Se,Je]=ee.useState(!1),[j,Tt]=ee.useState(!1),[ut,pt]=ee.useState(!1);ee.useEffect(()=>{const ye=setInterval(()=>{N(new Date)},1e3);return()=>clearInterval(ye)},[]),ee.useEffect(()=>{try{localStorage.setItem("pilotRestCalculatorState",JSON.stringify(e))}catch(ye){console.error("Could not save state to local storage",ye)}},[e]),ee.useEffect(()=>{const ye=document.createElement("style");return ye.textContent=KC,document.head.appendChild(ye),()=>{document.head.removeChild(ye)}},[]);const $e=ee.useMemo(()=>ir(n==="3pilot"?c:o),[o,c,n]),we=ee.useMemo(()=>ir(o),[o]),ft=ee.useMemo(()=>ir(c),[c]),De=ee.useRef(we);ee.useEffect(()=>{if(n==="2set"&&a==="2교대"&&we>0&&De.current!==we){const Ie=Math.floor(we/2)/2,qe=Math.ceil(Ie/5)*5;ir(d)!==qe&&r({type:"UPDATE_STATE",payload:{crz1Time:Nd(qe)}}),De.current=we}},[we,n,a,d]);const{crz1Minutes:et,crz2Minutes:Ge}=ee.useMemo(()=>{if(n!=="2set"||a!=="2교대"||we<=0)return{crz1Minutes:0,crz2Minutes:0};const ye=Math.floor(we/2),Ie=ir(d),qe=Math.max(0,ye-Ie);return{crz1Minutes:Ie,crz2Minutes:qe}},[we,n,a,d]),Le=ee.useMemo(()=>ir(u),[u]),je=ee.useMemo(()=>{if(n==="2set"&&a==="2교대"){const ye=ir(h),Ie=ir(v),qe=ye>0?ye:0,Pe=Ie>0?Ie:0,Ue=et>0?et:0,Ve=Ge>0?Ge:0,gt=Math.max(0,we-qe-Ue-Ve-Pe),vt=[{label:"이륙 후",duration:qe,color:"bg-blue-500"},{label:"CRZ 1",duration:Ue,color:"bg-teal-700"},{label:"MID",duration:gt,color:"bg-orange-500"},{label:"CRZ 2",duration:Ve,color:"bg-cyan-500"},{label:"착륙 전",duration:Pe,color:"bg-lime-500"}],Ot=[];let tt=Le;return tt+=qe,Ot.push({label:"이륙 후",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),tt+=Ue,Ot.push({label:"CRZ 1",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),tt+=gt,Ot.push({label:"MID",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),tt+=Ve,Ot.push({label:"CRZ 2",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),{segments:vt,timePoints:Ot}}else if(n==="2set"&&a==="1교대"){const ye=ir(m),Ie=Math.floor(we/2),qe=Math.max(0,Ie-ye),Pe=we-ye-qe,Ue=ye>0?ye:0,Ve=qe>0?qe:0,gt=Math.max(0,Pe),vt=[{label:"이륙 후",duration:Ue,color:"bg-blue-500"},{label:"CRZ",duration:gt,color:"bg-teal-700"},{label:"착륙 전",duration:Ve,color:"bg-lime-500"}],Ot=[];let tt=Le;return tt+=Ue,Ot.push({label:"이륙 후",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),tt+=gt,Ot.push({label:"CRZ",zulu:xt(Kn(tt))+"Z",local:xt($t(tt,_))+"L",korea:xt($t(tt,9))+"K"}),{segments:vt,timePoints:Ot}}return{segments:[],timePoints:[]}},[n,a,$e,h,m,y,v,T,d,u,_,et,Ge]),Xe=ee.useMemo(()=>{if(n!=="3pilot")return{segments:[],timePoints:[]};const ye=ir(y),Ie=Math.floor(ft/3),qe=[{label:"이륙 후 + 휴식",duration:ye+Ie,color:"bg-blue-500"},{label:"휴식",duration:Ie,color:"bg-orange-500"},{label:"세번째",duration:Math.max(0,$e-(ye+Ie)-Ie),color:"bg-blue-500"}],Pe=[];let Ue=Le;return Ue+=ye+Ie,Pe.push({label:"첫번째",zulu:xt(Kn(Ue))+"Z",local:xt($t(Ue,_))+"L",korea:xt($t(Ue,9))+"K"}),Ue+=Ie,Pe.push({label:"두번째",zulu:xt(Kn(Ue))+"Z",local:xt($t(Ue,_))+"L",korea:xt($t(Ue,9))+"K"}),{segments:qe,timePoints:Pe}},[n,$e,y,u,_]),ot=ee.useMemo(()=>{if(n!=="3pilot")return{segments:[],timePoints:[]};const ye=ir(y),Ie=Math.floor(ft/3),qe=Math.max(0,ft-ye-Ie),Pe=[{label:"이륙 후",duration:ye,color:"bg-blue-500"},{label:"휴식",duration:Ie,color:"bg-orange-500"},{label:"잔여시간",duration:qe,color:"bg-blue-500"}],Ue=[];let Ve=Le;return Ve+=ye,Ue.push({label:"이륙 후",zulu:xt(Kn(Ve))+"Z",local:xt($t(Ve,_))+"L",korea:xt($t(Ve,9))+"K"}),Ve+=Ie,Ue.push({label:"휴식",zulu:xt(Kn(Ve))+"Z",local:xt($t(Ve,_))+"L",korea:xt($t(Ve,9))+"K"}),{segments:Pe,timePoints:Ue}},[n,$e,y,u,_]),He=ee.useMemo(()=>{if(n!=="3pilot")return{segments:[],timePoints:[]};const ye=ir(y),Ie=ft-Math.floor(ft/3),qe=Math.max(0,ft-ye-Ie),Pe=[{label:"이륙 후",duration:ye,color:"bg-orange-500"},{label:"편조별 근무",duration:Ie,color:"bg-green-500"},{label:"잔여시간",duration:qe,color:"bg-orange-500"}],Ue=[];let Ve=Le;return Ve+=ye,Ue.push({label:"이륙 후",zulu:xt(Kn(Ve))+"Z",local:xt($t(Ve,_))+"L",korea:xt($t(Ve,9))+"K"}),Ve+=Ie,Ue.push({label:"편조별 근무",zulu:xt(Kn(Ve))+"Z",local:xt($t(Ve,_))+"L",korea:xt($t(Ve,9))+"K"}),{segments:Pe,timePoints:Ue}},[n,$e,y,u,_]),ht=ee.useMemo(()=>{if($e<=0||$e===void 0||$e===null)return 0;const ye=new Date,Ie=ye.getUTCHours(),qe=ye.getUTCMinutes();let Pe=Ie*60+qe;const Ue=Le||0,Ve=Ue+$e;if(Ve>1440&&Pe<Ue&&(Pe+=1440),Pe<Ue)return 0;if(Pe>Ve)return 1;{const gt=Pe-Ue;return Math.min(1,Math.max(0,gt/$e))}},[$e,Le,b]),We=ee.useCallback(ye=>Ie=>{r({type:"SET_TIME",payload:{field:ye,value:Ie.target.value}})},[r]),nt=ee.useCallback(()=>{if(Q.current){const ye=Q.current.scrollTop,Ie=48,Pe=(128-Ie)/2,Ue=ye+Pe,Ve=Math.round(Ue/Ie),gt=Array.from({length:26},(Lt,Mt)=>Mt-11),Ot=Ve-2,tt=gt[Math.max(0,Math.min(gt.length-1,Ot))];K(tt),be(!0),clearTimeout(X.current),X.current=setTimeout(()=>{var Mt;const Lt=Ve*Ie-Pe;(Mt=Q.current)==null||Mt.scrollTo({top:Lt,behavior:"smooth"}),r({type:"UPDATE_STATE",payload:{timeZone:tt}}),setTimeout(()=>{be(!1)},300)},150)}},[]),Qe=ee.useCallback(()=>{if(ce.current){const ye=ce.current.scrollTop,Ie=48,Pe=(128-Ie)/2,Ue=ye+Pe,Ve=Math.round(Ue/Ie),gt=[];for(let Lt=1;Lt<=6;Lt++)for(let Mt=0;Mt<60;Mt+=5){const Un=`${String(Lt).padStart(2,"0")}${String(Mt).padStart(2,"0")}`;gt.push(Un)}const Ot=Ve-2,tt=gt[Math.max(0,Math.min(gt.length-1,Ot))];z(tt),Je(!0),clearTimeout(se.current),se.current=setTimeout(()=>{var Mt;const Lt=Ve*Ie-Pe;(Mt=ce.current)==null||Mt.scrollTo({top:Lt,behavior:"smooth"}),r({type:"UPDATE_STATE",payload:{crz1Time:tt}}),setTimeout(()=>{Je(!1)},300)},150)}},[]);ee.useEffect(()=>{if(U&&Q.current){const Ie=Array.from({length:26},(gt,vt)=>vt-11).indexOf(_),qe=48,Ue=(128-qe)/2,Ve=2;if(Ie!==-1){const vt=(Ie+Ve)*qe-Ue;Q.current.scrollTop=vt,K(_)}}},[U,_]),ee.useEffect(()=>{if(W&&ce.current){const ye=[];for(let gt=1;gt<=6;gt++)for(let vt=0;vt<60;vt+=5){const Ot=`${String(gt).padStart(2,"0")}${String(vt).padStart(2,"0")}`;ye.push(Ot)}const Ie=ye.indexOf(d),qe=48,Ue=(128-qe)/2,Ve=2;if(Ie!==-1){const vt=(Ie+Ve)*qe-Ue;ce.current.scrollTop=vt,z(d)}}},[W,d]);const Qt=ee.useCallback(()=>{if(Ce.current){const ye=Ce.current.scrollTop,Ie=48,Pe=(128-Ie)/2,Ue=ye+Pe,Ve=Math.round(Ue/Ie),gt=[];for(let Lt=0;Lt<=6;Lt++)for(let Mt=0;Mt<60;Mt+=5){if(Lt===0&&Mt<30)continue;const Un=`${String(Lt).padStart(2,"0")}${String(Mt).padStart(2,"0")}`;gt.push(Un)}const Ot=Ve-2,tt=gt[Math.max(0,Math.min(gt.length-1,Ot))];Y(tt),Tt(!0),clearTimeout(Oe.current),Oe.current=setTimeout(()=>{var Mt;const Lt=Ve*Ie-Pe;(Mt=Ce.current)==null||Mt.scrollTo({top:Lt,behavior:"smooth"}),r(n==="2set"&&a==="1교대"?{type:"UPDATE_STATE",payload:{afterTakeoff1교대:tt}}:n==="3pilot"?{type:"UPDATE_STATE",payload:{afterTakeoff3Pilot:tt}}:{type:"UPDATE_STATE",payload:{afterTakeoff:tt}}),setTimeout(()=>{Tt(!1)},300)},150)}},[]),Qr=ee.useCallback(()=>{if(xe.current){const ye=xe.current.scrollTop,Ie=48,Pe=(128-Ie)/2,Ue=ye+Pe,Ve=Math.round(Ue/Ie),gt=[];for(let Lt=0;Lt<=3;Lt++)for(let Mt=0;Mt<60;Mt+=5){if(Lt===0&&Mt<30)continue;const Un=`${String(Lt).padStart(2,"0")}${String(Mt).padStart(2,"0")}`;gt.push(Un)}const Ot=Ve-2,tt=gt[Math.max(0,Math.min(gt.length-1,Ot))];Te(tt),pt(!0),clearTimeout(J.current),J.current=setTimeout(()=>{var Mt;const Lt=Ve*Ie-Pe;(Mt=xe.current)==null||Mt.scrollTo({top:Lt,behavior:"smooth"}),r({type:"UPDATE_STATE",payload:{beforeLanding:tt}}),setTimeout(()=>{pt(!1)},300)},150)}},[]);return ee.useEffect(()=>{if(q&&Ce.current){const ye=[];for(let vt=0;vt<=6;vt++)for(let Ot=0;Ot<60;Ot+=5){if(vt===0&&Ot<30)continue;const tt=`${String(vt).padStart(2,"0")}${String(Ot).padStart(2,"0")}`;ye.push(tt)}let Ie;n==="2set"&&a==="1교대"?Ie=m:n==="3pilot"?Ie=y:Ie=h;const qe=ye.indexOf(Ie),Pe=48,Ve=(128-Pe)/2,gt=2;if(qe!==-1){const Ot=(qe+gt)*Pe-Ve;Ce.current.scrollTop=Ot,Y(Ie)}}},[q,h,m,y,n,a]),ee.useEffect(()=>{if(fe&&xe.current){const ye=[];for(let gt=0;gt<=3;gt++)for(let vt=0;vt<60;vt+=5){if(gt===0&&vt<30)continue;const Ot=`${String(gt).padStart(2,"0")}${String(vt).padStart(2,"0")}`;ye.push(Ot)}const Ie=ye.indexOf(v),qe=48,Ue=(128-qe)/2,Ve=2;if(Ie!==-1){const vt=(Ie+Ve)*qe-Ue;xe.current.scrollTop=vt,Te(v)}}},[fe,v]),p.jsx("div",{className:`transition-colors duration-500 ${t?"text-gray-100":"text-gray-900"}`,children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:`rounded-2xl shadow-lg p-6 ${t?"bg-gray-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-700 dark:text-gray-300",children:"비행 타임라인"}),$e>0&&p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"총 비행시간"}),p.jsx("div",{className:"text-2xl font-mono font-bold text-green-400",children:ZC($e)})]})]}),p.jsxs("div",{className:`flex justify-between items-center p-4 rounded-lg mb-4 cursor-pointer transition-colors ${t?"bg-gray-700/60 hover:bg-gray-700/80":"bg-gray-100 hover:bg-gray-200"}`,onClick:()=>S(!1),children:[p.jsxs("div",{className:"text-left text-sm font-mono",children:[p.jsx("p",{className:`font-semibold ${t?"text-gray-300":"text-gray-700"}`,children:"이륙"}),p.jsxs("p",{className:`font-bold ${t?"text-white":"text-gray-900"}`,children:[xt(u)," UTC"]}),p.jsxs("p",{className:`${t?"text-gray-400":"text-gray-600"}`,children:[xt($t(Le,_)),"L / ",xt($t(Le,9)),"K"]})]}),p.jsxs("div",{className:`text-center font-mono text-sm font-bold ${t?"text-gray-400":"text-gray-600"}`,children:["(",_>=0?"+":"",_,")"]}),p.jsxs("div",{className:"text-right text-sm font-mono",children:[p.jsx("p",{className:`font-semibold ${t?"text-gray-300":"text-gray-700"}`,children:"착륙"}),p.jsxs("p",{className:`font-bold ${t?"text-white":"text-gray-900"}`,children:[xt(Kn(Le+$e))," UTC"]}),p.jsxs("p",{className:`${t?"text-gray-400":"text-gray-600"}`,children:[xt($t(Le+$e,_)),"L / ",xt($t(Le+$e,9)),"K"]})]})]}),n==="2set"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`flex border-b mb-6 ${t?"border-gray-700":"border-gray-300"}`,children:XC.map(ye=>p.jsx("button",{onClick:()=>r({type:"UPDATE_STATE",payload:{twoSetMode:ye.id}}),className:`flex-1 text-center py-2 px-4 font-semibold -mb-px border-b-2 transition-colors duration-200 ${a===ye.id?"border-blue-500 text-blue-400":t?"border-transparent text-gray-500 hover:text-gray-300":"border-transparent text-gray-600 hover:text-gray-800"}`,children:ye.label},ye.id))}),p.jsx(_f,{segments:je.segments,timePoints:je.timePoints,progress:ht,isDark:t})]}),n==="3pilot"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`flex border-b mb-6 ${t?"border-gray-700":"border-gray-300"}`,children:QC.map(ye=>p.jsx("button",{onClick:()=>r({type:"UPDATE_STATE",payload:{threePilotCase:ye.id}}),className:`flex-1 text-center py-2 px-4 font-semibold -mb-px border-b-2 transition-colors duration-200 ${w===ye.id?"border-blue-500 text-blue-400":t?"border-transparent text-gray-500 hover:text-gray-300":"border-transparent text-gray-600 hover:text-gray-800"}`,children:ye.id},ye.id))}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"PIC"}),p.jsx(_f,{segments:w==="CASE2"?ot.segments:Xe.segments,timePoints:w==="CASE2"?ot.timePoints:Xe.timePoints,progress:ht,isDark:t})]}),p.jsxs("div",{children:[p.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"FO"}),p.jsx(_f,{segments:w==="CASE2"?Xe.segments:ot.segments,timePoints:w==="CASE2"?Xe.timePoints:ot.timePoints,progress:ht,isDark:t})]}),p.jsxs("div",{children:[p.jsx("h4",{className:`text-lg font-semibold mb-2 ${t?"text-gray-200":"text-gray-800"}`,children:"CRZ"}),p.jsx(_f,{segments:He.segments,timePoints:He.timePoints,progress:ht,isDark:t})]})]})]})]}),!R&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-300",children:p.jsx("div",{className:`rounded-xl shadow-2xl max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full m-4 max-h-[90vh] overflow-y-auto ${t?"bg-gray-800":"bg-white"}`,children:p.jsxs("div",{className:"p-6 sm:p-8 relative",children:[p.jsx("button",{onClick:()=>S(!0),className:`absolute top-4 right-4 transition-colors z-10 ${t?"text-gray-500 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),U&&p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-300",onClick:()=>P(!1),children:p.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full m-2 p-3 ${t?"bg-gray-800":"bg-white"}`,onClick:ye=>ye.stopPropagation(),children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Time Zone 선택"})}),p.jsx("div",{className:"flex justify-center mb-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-1 w-full",children:[p.jsx("div",{className:"text-center flex-shrink-0",children:p.jsx("span",{className:`text-s font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"UTC"})}),p.jsx("div",{className:`p-1 rounded-lg shadow-lg flex-grow min-w-0 ${t?"bg-gray-800":"bg-gray-100"}`,style:{minWidth:"60px"},children:p.jsxs("div",{className:"relative h-32 overflow-hidden",children:[p.jsx("div",{className:"absolute top-1/2 left-0 w-full h-12 -translate-y-1/2 bg-white/5 rounded-lg border-y border-white/10 z-10 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)",width:"calc(100% - 2px)"}}),p.jsx("div",{className:`absolute top-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-b from-gray-800 to-transparent":"bg-gradient-to-b from-gray-100 to-transparent"}`}),p.jsx("div",{className:`absolute bottom-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-t from-gray-800 to-transparent":"bg-gradient-to-t from-gray-100 to-transparent"}`}),p.jsx("div",{ref:Q,onScroll:nt,className:`h-full overflow-y-scroll scroll-snap-y-mandatory snap-center custom-scrollbar ${Ae?"scrolling":""}`,style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent",msOverflowStyle:"none"},children:(()=>{const ye=Array.from({length:26},(Pe,Ue)=>Ue-11),Ie=Array(2).fill(null);return[...Ie,...ye,...Ie].map((Pe,Ue)=>{const Ve=Pe===M;return p.jsx("div",{className:`h-12 flex items-center justify-center font-mono text-center cursor-pointer snap-start transition-all duration-200 ${Ve?t?"text-white text-xl":"text-gray-900 text-xl":t?"text-gray-500 text-base":"text-gray-600 text-base"}`,children:Pe!==null?Pe>0?`+${Pe}`:Pe:""},Ue)})})()})]})})]})}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("button",{onClick:()=>P(!1),className:`px-4 py-2 rounded-lg transition-colors text-sm ${t?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"취소"}),p.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"완료"})]})]})}),W&&p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-300",onClick:()=>D(!1),children:p.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full m-2 p-3 ${t?"bg-gray-800":"bg-white"}`,onClick:ye=>ye.stopPropagation(),children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"CRZ 1 시간 선택"})}),p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:`p-1 rounded-lg shadow-lg w-full ${t?"bg-gray-800":"bg-gray-100"}`,children:p.jsxs("div",{className:"relative h-32 overflow-hidden",children:[p.jsx("div",{className:"absolute top-1/2 left-0 w-full h-12 -translate-y-1/2 bg-white/5 rounded-lg border-y border-white/10 z-10 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)",width:"calc(100% - 2px)"}}),p.jsx("div",{className:`absolute top-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-b from-gray-800 to-transparent":"bg-gradient-to-b from-gray-100 to-transparent"}`}),p.jsx("div",{className:`absolute bottom-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-t from-gray-800 to-transparent":"bg-gradient-to-t from-gray-100 to-transparent"}`}),p.jsx("div",{ref:ce,onScroll:Qe,className:`h-full overflow-y-scroll scroll-snap-y-mandatory snap-center custom-scrollbar ${Se?"scrolling":""}`,style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent",msOverflowStyle:"none"},children:(()=>{const ye=[];for(let Pe=1;Pe<=6;Pe++)for(let Ue=0;Ue<60;Ue+=5){const Ve=`${String(Pe).padStart(2,"0")}${String(Ue).padStart(2,"0")}`;ye.push(Ve)}const Ie=Array(2).fill(null);return[...Ie,...ye,...Ie].map((Pe,Ue)=>{const Ve=Pe===C;return p.jsx("div",{className:`h-12 flex items-center justify-center font-mono text-center cursor-pointer snap-start transition-all duration-200 ${Ve?t?"text-white text-xl":"text-gray-900 text-xl":t?"text-gray-500 text-base":"text-gray-600 text-base"}`,children:Pe!==null?tn(ir(Pe)):""},Ue)})})()})]})})}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("button",{onClick:()=>D(!1),className:`px-4 py-2 rounded-lg transition-colors text-sm ${t?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"취소"}),p.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"완료"})]})]})}),q&&p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-300",onClick:()=>H(!1),children:p.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full m-2 p-3 ${t?"bg-gray-800":"bg-white"}`,onClick:ye=>ye.stopPropagation(),children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"이륙 후 시간 선택"})}),p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:`p-1 rounded-lg shadow-lg w-full ${t?"bg-gray-800":"bg-gray-100"}`,children:p.jsxs("div",{className:"relative h-32 overflow-hidden",children:[p.jsx("div",{className:"absolute top-1/2 left-0 w-full h-12 -translate-y-1/2 bg-white/5 rounded-lg border-y border-white/10 z-10 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)",width:"calc(100% - 2px)"}}),p.jsx("div",{className:`absolute top-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-b from-gray-800 to-transparent":"bg-gradient-to-b from-gray-100 to-transparent"}`}),p.jsx("div",{className:`absolute bottom-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-t from-gray-800 to-transparent":"bg-gradient-to-t from-gray-100 to-transparent"}`}),p.jsx("div",{ref:Ce,onScroll:Qt,className:`h-full overflow-y-scroll scroll-snap-y-mandatory snap-center custom-scrollbar ${j?"scrolling":""}`,style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent",msOverflowStyle:"none"},children:(()=>{const ye=[];for(let Pe=0;Pe<=6;Pe++)for(let Ue=0;Ue<60;Ue+=5){if(Pe===0&&Ue<30)continue;const Ve=`${String(Pe).padStart(2,"0")}${String(Ue).padStart(2,"0")}`;ye.push(Ve)}const Ie=Array(2).fill(null);return[...Ie,...ye,...Ie].map((Pe,Ue)=>{const Ve=Pe===V;return p.jsx("div",{className:`h-12 flex items-center justify-center font-mono text-center cursor-pointer snap-start transition-all duration-200 ${Ve?t?"text-white text-xl":"text-gray-900 text-xl":t?"text-gray-500 text-base":"text-gray-600 text-base"}`,children:Pe!==null?tn(ir(Pe)):""},Ue)})})()})]})})}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("button",{onClick:()=>H(!1),className:`px-4 py-2 rounded-lg transition-colors text-sm ${t?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"취소"}),p.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"완료"})]})]})}),fe&&p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-300",onClick:()=>ne(!1),children:p.jsxs("div",{className:`rounded-xl shadow-2xl max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full m-2 p-3 ${t?"bg-gray-800":"bg-white"}`,onClick:ye=>ye.stopPropagation(),children:[p.jsx("div",{className:"text-center mb-4",children:p.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"착륙 전 시간 선택"})}),p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:`p-1 rounded-lg shadow-lg w-full ${t?"bg-gray-800":"bg-gray-100"}`,children:p.jsxs("div",{className:"relative h-32 overflow-hidden",children:[p.jsx("div",{className:"absolute top-1/2 left-0 w-full h-12 -translate-y-1/2 bg-white/5 rounded-lg border-y border-white/10 z-10 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)",width:"calc(100% - 2px)"}}),p.jsx("div",{className:`absolute top-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-b from-gray-800 to-transparent":"bg-gradient-to-b from-gray-100 to-transparent"}`}),p.jsx("div",{className:`absolute bottom-0 left-0 w-full h-10 z-20 pointer-events-none ${t?"bg-gradient-to-t from-gray-800 to-transparent":"bg-gradient-to-t from-gray-100 to-transparent"}`}),p.jsx("div",{ref:xe,onScroll:Qr,className:`h-full overflow-y-scroll scroll-snap-y-mandatory snap-center custom-scrollbar ${ut?"scrolling":""}`,style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent",msOverflowStyle:"none"},children:(()=>{const ye=[];for(let Pe=0;Pe<=3;Pe++)for(let Ue=0;Ue<60;Ue+=5){if(Pe===0&&Ue<30)continue;const Ve=`${String(Pe).padStart(2,"0")}${String(Ue).padStart(2,"0")}`;ye.push(Ve)}const Ie=Array(2).fill(null);return[...Ie,...ye,...Ie].map((Pe,Ue)=>{const Ve=Pe===ae;return p.jsx("div",{className:`h-12 flex items-center justify-center font-mono text-center cursor-pointer snap-start transition-all duration-200 ${Ve?t?"text-white text-xl":"text-gray-900 text-xl":t?"text-gray-500 text-base":"text-gray-600 text-base"}`,children:Pe!==null?tn(ir(Pe)):""},Ue)})})()})]})})}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("button",{onClick:()=>ne(!1),className:`px-4 py-2 rounded-lg transition-colors text-sm ${t?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"취소"}),p.jsx("button",{onClick:()=>ne(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"완료"})]})]})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[p.jsx(JC,{className:"mr-2 text-blue-500"})," 비행 정보 입력"]}),p.jsx("div",{className:`flex border-b mb-6 ${t?"border-gray-700":"border-gray-300"}`,children:qC.map(ye=>p.jsx("button",{onClick:()=>r({type:"UPDATE_STATE",payload:{activeTab:ye.id}}),className:`flex-1 text-center py-2 px-4 font-semibold -mb-px border-b-2 transition-colors duration-200 ${n===ye.id?"border-blue-500 text-blue-400":t?"border-transparent text-gray-500 hover:text-gray-300":"border-transparent text-gray-600 hover:text-gray-800"}`,children:ye.label},ye.id))}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"flightTime",className:`block text-sm font-medium mb-1 ${t?"text-gray-100":"text-gray-700"}`,children:"총 비행시간 (HHMM)"}),p.jsx("input",{id:"flightTime",type:"text",inputMode:"numeric",value:n==="3pilot"?c:o,onChange:We(n==="3pilot"?"flightTime3Pilot":"flightTime"),className:`w-full px-3 py-2 border rounded-lg text-center font-mono text-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"}`,maxLength:4}),p.jsx("div",{className:`text-center text-sm mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:(()=>{if(n==="3pilot"){if(ft<=0)return null;const ye=ft-Math.floor(ft/3);return`편조별 근무: ${tn(ye)} / 휴식: ${tn(Math.floor(ft/3))}`}else return we<=0?null:n==="2set"&&a==="2교대"?`편조별: ${tn(Math.floor(we/2))}`:`편조별: ${tn(Math.floor(we/2))}`})()})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"departureTime",className:`block text-sm font-medium mb-1 ${t?"text-gray-100":"text-gray-700"}`,children:"이륙시간 (UTC)"}),p.jsx("input",{id:"departureTime",type:"text",inputMode:"numeric",value:u,onChange:We("departureTime"),className:`w-full px-3 py-2 border rounded-lg text-center font-mono text-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900"}`,maxLength:4})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-100":"text-gray-700"}`,children:"Time Zone"}),p.jsxs("div",{className:`w-full px-3 py-2 border rounded-lg text-center font-mono text-lg flex items-center justify-center min-h-[44px] cursor-pointer transition-colors ${t?"bg-gray-700 border-gray-600 hover:bg-gray-600 text-gray-100":"bg-white border-gray-300 hover:bg-gray-50 text-gray-900"}`,onClick:()=>P(!0),children:["UTC ",_>=0?"+":"",_]})]})]}),p.jsxs("div",{className:`text-center text-sm mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:[xt($t(ir(u),_)),"L / ",xt($t(ir(u),9)),"K"]})]}),n==="2set"&&a==="2교대"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[p.jsx(Kl,{label:"이륙 후",value:tn(ir(h)),onClick:()=>H(!0),isDark:t}),p.jsx(Kl,{label:"착륙 전",value:tn(ir(v)),onClick:()=>ne(!0),isDark:t})]}),p.jsxs("div",{className:`text-center text-sm mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:["MID: ",(()=>{if(we<=0)return"0분";const ye=ir(h),Ie=ir(v),qe=Math.max(0,we-ye-et-Ge-Ie);return tn(qe)})()]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-x-4 col-span-2",children:[p.jsx(Kl,{label:"CRZ 1",value:tn(ir(d)),onClick:()=>D(!0),isDark:t}),p.jsx(P2,{label:"CRZ 2",value:tn(Ge),isDark:t})]})]}),n==="2set"&&a==="1교대"&&p.jsx(p.Fragment,{children:p.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[p.jsx(Kl,{label:"이륙 후",value:tn(ir(m)),onClick:()=>H(!0),isDark:t}),p.jsx(P2,{label:"착륙 전",value:(()=>{if(we<=0)return"0분";const ye=ir(m),Ie=Math.floor(we/2),qe=Math.max(0,Ie-ye);return tn(qe)})(),isDark:t})]}),p.jsxs("div",{className:`text-center text-sm mt-1 ${t?"text-gray-400":"text-gray-600"}`,children:["CRZ: ",(()=>{if(we<=0)return"0분";const ye=ir(m),Ie=Math.floor(we/2),qe=Math.max(0,Ie-ye),Pe=Math.max(0,we-ye-qe);return tn(Pe)})()]})]})}),n==="3pilot"&&p.jsx(Kl,{label:"이륙 후",value:tn(ir(y)),onClick:()=>H(!0),isDark:t})]}),p.jsx("div",{className:"flex justify-end mt-8",children:p.jsx("button",{onClick:()=>S(!0),className:"py-2 px-6 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:"완료"})})]})]})})})]})})},s3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i3=(t,e,r)=>{let n;const a=s3[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function om(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const o3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u3={date:om({formats:o3,defaultWidth:"full"}),time:om({formats:c3,defaultWidth:"full"}),dateTime:om({formats:l3,defaultWidth:"full"})},f3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d3=(t,e,r,n)=>f3[t];function ql(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=r!=null&&r.width?String(r.width):c;a=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const h3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},g3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v3=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_3={ordinalNumber:v3,era:ql({values:h3,defaultWidth:"wide"}),quarter:ql({values:g3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ql({values:m3,defaultWidth:"wide"}),day:ql({values:p3,defaultWidth:"wide"}),dayPeriod:ql({values:x3,defaultWidth:"wide",formattingValues:y3,defaultFormattingWidth:"wide"})};function Xl(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?T3(u,y=>y.test(c)):w3(u,y=>y.test(c));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const m=e.slice(c.length);return{value:h,rest:m}}}function w3(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function T3(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function E3(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}const b3=/^(\d+)(th|st|nd|rd)?/i,S3=/\d+/i,A3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k3={any:[/^b/i,/^(a|c)/i]},C3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N3={any:[/1/i,/2/i,/3/i,/4/i]},D3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L3={ordinalNumber:E3({matchPattern:b3,parsePattern:S3,valueCallback:t=>parseInt(t,10)}),era:Xl({matchPatterns:A3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:C3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xl({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any"}),day:Xl({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:O3,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:M3,defaultMatchWidth:"any",parsePatterns:F3,defaultParseWidth:"any"})},OT={code:"en-US",formatDistance:i3,formatLong:u3,formatRelative:d3,localize:_3,match:L3,options:{weekStartsOn:0,firstWeekContainsDate:1}};let P3={};function jc(){return P3}const MT=6048e5,U3=864e5,FT=6e4,B3=36e5,j3=1e3,U2=Symbol.for("constructDateFrom");function wr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&U2 in t?t[U2](e):t instanceof Date?new t.constructor(e):new Date(e)}function fr(t,e){return wr(e||t,t)}function jf(t){const e=fr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function LT(t,...e){const r=wr.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function ou(t,e){const r=fr(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function H3(t,e,r){const[n,a]=LT(r==null?void 0:r.in,t,e),o=ou(n),c=ou(a),u=+o-jf(o),d=+c-jf(c);return Math.round((u-d)/U3)}function z3(t,e){const r=fr(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function V3(t,e){const r=fr(t,e==null?void 0:e.in);return H3(r,z3(r))+1}function wi(t,e){var u,d,h,m;const r=jc(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=fr(t,e==null?void 0:e.in),o=a.getDay(),c=(o<n?7:0)+o-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Ic(t,e){return wi(t,{...e,weekStartsOn:1})}function PT(t,e){const r=fr(t,e==null?void 0:e.in),n=r.getFullYear(),a=wr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Ic(a),c=wr(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=Ic(c);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function G3(t,e){const r=PT(t,e),n=wr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ic(n)}function UT(t,e){const r=fr(t,e==null?void 0:e.in),n=+Ic(r)-+G3(r);return Math.round(n/MT)+1}function A1(t,e){var m,y,v,T;const r=fr(t,e==null?void 0:e.in),n=r.getFullYear(),a=jc(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((T=(v=a.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,c=wr((e==null?void 0:e.in)||t,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const u=wi(c,e),d=wr((e==null?void 0:e.in)||t,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=wi(d,e);return+r>=+u?n+1:+r>=+h?n:n-1}function Y3(t,e){var u,d,h,m;const r=jc(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=A1(t,e),o=wr((e==null?void 0:e.in)||t,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),wi(o,e)}function BT(t,e){const r=fr(t,e==null?void 0:e.in),n=+wi(r,e)-+Y3(r,e);return Math.round(n/MT)+1}function Xt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ai={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Xt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Xt(r+1,2)},d(t,e){return Xt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Xt(t.getHours()%12||12,e.length)},H(t,e){return Xt(t.getHours(),e.length)},m(t,e){return Xt(t.getMinutes(),e.length)},s(t,e){return Xt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Xt(a,e.length)}},hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B2={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ai.y(t,e)},Y:function(t,e,r,n){const a=A1(t,n),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return Xt(c,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):Xt(o,e.length)},R:function(t,e){const r=PT(t);return Xt(r,e.length)},u:function(t,e){const r=t.getFullYear();return Xt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ai.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=BT(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Xt(a,e.length)},I:function(t,e,r){const n=UT(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Xt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ai.d(t,e)},D:function(t,e,r){const n=V3(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Xt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Xt(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Xt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=hc.noon:n===0?a=hc.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=hc.evening:n>=12?a=hc.afternoon:n>=4?a=hc.morning:a=hc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ai.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ai.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ai.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ai.s(t,e)},S:function(t,e){return ai.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return H2(n);case"XXXX":case"XX":return qi(n);case"XXXXX":case"XXX":default:return qi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return H2(n);case"xxxx":case"xx":return qi(n);case"xxxxx":case"xxx":default:return qi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+j2(n,":");case"OOOO":default:return"GMT"+qi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+j2(n,":");case"zzzz":default:return"GMT"+qi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Xt(n,e.length)},T:function(t,e,r){return Xt(+t,e.length)}};function j2(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+e+Xt(o,2)}function H2(t,e){return t%60===0?(t>0?"-":"+")+Xt(Math.abs(t)/60,2):qi(t,e)}function qi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Xt(Math.trunc(n/60),2),o=Xt(n%60,2);return r+a+e+o}const z2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},W3=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return z2(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",z2(n,e)).replace("{{time}}",jT(a,e))},Hm={p:jT,P:W3},$3=/^D+$/,K3=/^Y+$/,q3=["D","DD","YY","YYYY"];function HT(t){return $3.test(t)}function zT(t){return K3.test(t)}function zm(t,e,r){const n=X3(t,e,r);if(console.warn(n),q3.includes(t))throw new RangeError(n)}function X3(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Q3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Z3(t){return!(!Q3(t)&&typeof t!="number"||isNaN(+fr(t)))}const J3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tN=/^'([^]*?)'?$/,rN=/''/g,nN=/[a-zA-Z]/;function VT(t,e,r){var m,y,v,T,_,w,b,N;const n=jc(),a=(r==null?void 0:r.locale)??n.locale??OT,o=(r==null?void 0:r.firstWeekContainsDate)??((y=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((T=(v=n.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((w=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,u=fr(t,r==null?void 0:r.in);if(!Z3(u))throw new RangeError("Invalid time value");let d=e.match(eN).map(R=>{const S=R[0];if(S==="p"||S==="P"){const U=Hm[S];return U(R,a.formatLong)}return R}).join("").match(J3).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const S=R[0];if(S==="'")return{isToken:!1,value:aN(R)};if(B2[S])return{isToken:!0,value:R};if(S.match(nN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:R}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return d.map(R=>{if(!R.isToken)return R.value;const S=R.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&zT(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&HT(S))&&zm(S,e,String(t));const U=B2[S[0]];return U(u,S,a.localize,h)}).join("")}function aN(t){const e=t.match(tN);return e?e[1].replace(rN,"'"):t}function k1(t,e,r){const n=fr(t,r==null?void 0:r.in);return isNaN(e)?wr((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function sN(t,e,r){const n=fr(t,r==null?void 0:r.in);if(isNaN(e))return wr(t,NaN);if(!e)return n;const a=n.getDate(),o=wr(t,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return a>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function V2(t,e,r){const{years:n=0,months:a=0,weeks:o=0,days:c=0,hours:u=0,minutes:d=0,seconds:h=0}=e,m=fr(t,r==null?void 0:r.in),y=a||n?sN(m,a+n*12):m,v=c||o?k1(y,c+o*7):y,T=d+u*60,w=(h+T*60)*1e3;return wr(t,+v+w)}function iN(t,e,r){const n=fr(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*FT),n}function oN(t,e){const r=fr(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function cN(t,e){const[r,n]=LT(t,e.start,e.end);return{start:r,end:n}}function G2(t,e){const{start:r,end:n}=cN(e==null?void 0:e.in,t);let a=+r>+n;const o=a?+r:+n,c=a?n:r;c.setHours(0,0,0,0);let u=1;const d=[];for(;+c<=o;)d.push(wr(r,c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return a?d.reverse():d}function lN(t,e){return fr(t,e==null?void 0:e.in).getDate()}function GT(){return Object.assign({},jc())}function uN(t,e){const r=fr(t,e==null?void 0:e.in).getDay();return r===0?7:r}function fN(t,e){return fr(t,e==null?void 0:e.in).getMonth()}function dN(t,e){return fr(t,e==null?void 0:e.in).getFullYear()}function hN(t,e){const r=gN(e)?new e(0):wr(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function gN(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const mN=10;class YT{constructor(){Ye(this,"subPriority",0)}validate(e,r){return!0}}class pN extends YT{constructor(e,r,n,a,o){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class xN extends YT{constructor(r,n){super();Ye(this,"priority",mN);Ye(this,"subPriority",-1);this.context=r||(a=>wr(n,a))}set(r,n){return n.timestampIsSet?r:wr(r,hN(r,this.context))}}class Yt{run(e,r,n,a){const o=this.parse(e,r,n,a);return o?{setter:new pN(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,r,n){return!0}}class yN extends Yt{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const kr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},$a={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cr(t,e){return t&&{value:e(t.value),rest:t.rest}}function mr(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Ka(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(a*B3+o*FT+c*j3),rest:e.slice(r[0].length)}}function WT(t){return mr(kr.anyDigitsSigned,t)}function Tr(t,e){switch(t){case 1:return mr(kr.singleDigit,e);case 2:return mr(kr.twoDigits,e);case 3:return mr(kr.threeDigits,e);case 4:return mr(kr.fourDigits,e);default:return mr(new RegExp("^\\d{1,"+t+"}"),e)}}function Hf(t,e){switch(t){case 1:return mr(kr.singleDigitSigned,e);case 2:return mr(kr.twoDigitsSigned,e);case 3:return mr(kr.threeDigitsSigned,e);case 4:return mr(kr.fourDigitsSigned,e);default:return mr(new RegExp("^-?\\d{1,"+t+"}"),e)}}function C1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function $T(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const o=n+50,c=Math.trunc(o/100)*100,u=t>=o%100;a=t+c-(u?100:0)}return r?a:1-a}function KT(t){return t%400===0||t%4===0&&t%100!==0}class vN extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const o=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return Cr(Tr(4,r),o);case"yo":return Cr(a.ordinalNumber(r,{unit:"year"}),o);default:return Cr(Tr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const o=r.getFullYear();if(a.isTwoDigitYear){const u=$T(a.year,o);return r.setFullYear(u,0,1),r.setHours(0,0,0,0),r}const c=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}}class _N extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const o=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Cr(Tr(4,r),o);case"Yo":return Cr(a.ordinalNumber(r,{unit:"year"}),o);default:return Cr(Tr(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,o){const c=A1(r,o);if(a.isTwoDigitYear){const d=$T(a.year,c);return r.setFullYear(d,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),wi(r,o)}const u=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(u,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),wi(r,o)}}class wN extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Hf(n==="R"?4:n.length,r)}set(r,n,a){const o=wr(r,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Ic(o)}}class TN extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Hf(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class EN extends Yt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Tr(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class bN extends Yt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Tr(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class SN extends Yt{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(r,n,a){const o=c=>c-1;switch(n){case"M":return Cr(mr(kr.month,r),o);case"MM":return Cr(Tr(2,r),o);case"Mo":return Cr(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class AN extends Yt{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const o=c=>c-1;switch(n){case"L":return Cr(mr(kr.month,r),o);case"LL":return Cr(Tr(2,r),o);case"Lo":return Cr(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function kN(t,e,r){const n=fr(t,r==null?void 0:r.in),a=BT(n,r)-e;return n.setDate(n.getDate()-a*7),fr(n,r==null?void 0:r.in)}class CN extends Yt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return mr(kr.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,o){return wi(kN(r,a,o),o)}}function NN(t,e,r){const n=fr(t,r==null?void 0:r.in),a=UT(n,r)-e;return n.setDate(n.getDate()-a*7),n}class DN extends Yt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return mr(kr.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Ic(NN(r,a))}}const IN=[31,28,31,30,31,30,31,31,30,31,30,31],RN=[31,29,31,30,31,30,31,31,30,31,30,31];class ON extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return mr(kr.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Tr(n.length,r)}}validate(r,n){const a=r.getFullYear(),o=KT(a),c=r.getMonth();return o?n>=1&&n<=RN[c]:n>=1&&n<=IN[c]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class MN extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return mr(kr.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Tr(n.length,r)}}validate(r,n){const a=r.getFullYear();return KT(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function N1(t,e,r){var y,v,T,_;const n=jc(),a=(r==null?void 0:r.weekStartsOn)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((_=(T=n.locale)==null?void 0:T.options)==null?void 0:_.weekStartsOn)??0,o=fr(t,r==null?void 0:r.in),c=o.getDay(),d=(e%7+7)%7,h=7-a,m=e<0||e>6?e-(c+h)%7:(d+h)%7-(c+h)%7;return k1(o,m,r)}class FN extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=N1(r,a,o),r.setHours(0,0,0,0),r}}class LN extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,o){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return Cr(Tr(n.length,r),c);case"eo":return Cr(a.ordinalNumber(r,{unit:"day"}),c);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=N1(r,a,o),r.setHours(0,0,0,0),r}}class PN extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,o){const c=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return Cr(Tr(n.length,r),c);case"co":return Cr(a.ordinalNumber(r,{unit:"day"}),c);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,o){return r=N1(r,a,o),r.setHours(0,0,0,0),r}}function UN(t,e,r){const n=fr(t,r==null?void 0:r.in),a=uN(n,r),o=e-a;return k1(n,o,r)}class BN extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const o=c=>c===0?7:c;switch(n){case"i":case"ii":return Tr(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Cr(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Cr(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Cr(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Cr(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=UN(r,a),r.setHours(0,0,0,0),r}}class jN extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(C1(a),0,0,0),r}}class HN extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(C1(a),0,0,0),r}}class zN extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(C1(a),0,0,0),r}}class VN extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return mr(kr.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const o=r.getHours()>=12;return o&&a<12?r.setHours(a+12,0,0,0):!o&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class GN extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return mr(kr.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class YN extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return mr(kr.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class WN extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return mr(kr.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const o=a<=24?a%24:a;return r.setHours(o,0,0,0),r}}class $N extends Yt{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return mr(kr.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class KN extends Yt{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return mr(kr.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class qN extends Yt{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Cr(Tr(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class XN extends Yt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Ka($a.basicOptionalMinutes,r);case"XX":return Ka($a.basic,r);case"XXXX":return Ka($a.basicOptionalSeconds,r);case"XXXXX":return Ka($a.extendedOptionalSeconds,r);case"XXX":default:return Ka($a.extended,r)}}set(r,n,a){return n.timestampIsSet?r:wr(r,r.getTime()-jf(r)-a)}}class QN extends Yt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Ka($a.basicOptionalMinutes,r);case"xx":return Ka($a.basic,r);case"xxxx":return Ka($a.basicOptionalSeconds,r);case"xxxxx":return Ka($a.extendedOptionalSeconds,r);case"xxx":default:return Ka($a.extended,r)}}set(r,n,a){return n.timestampIsSet?r:wr(r,r.getTime()-jf(r)-a)}}class ZN extends Yt{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(r){return WT(r)}set(r,n,a){return[wr(r,a*1e3),{timestampIsSet:!0}]}}class JN extends Yt{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(r){return WT(r)}set(r,n,a){return[wr(r,a),{timestampIsSet:!0}]}}const e6={G:new yN,y:new vN,Y:new _N,R:new wN,u:new TN,Q:new EN,q:new bN,M:new SN,L:new AN,w:new CN,I:new DN,d:new ON,D:new MN,E:new FN,e:new LN,c:new PN,i:new BN,a:new jN,b:new HN,B:new zN,h:new VN,H:new GN,K:new YN,k:new WN,m:new $N,s:new KN,S:new qN,X:new XN,x:new QN,t:new ZN,T:new JN},t6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n6=/^'([^]*?)'?$/,a6=/''/g,s6=/\S/,i6=/[a-zA-Z]/;function o6(t,e,r,n){var b,N,R,S;const a=()=>wr(r,NaN),o=GT(),c=o.locale??OT,u=o.firstWeekContainsDate??((N=(b=o.locale)==null?void 0:b.options)==null?void 0:N.firstWeekContainsDate)??1,d=o.weekStartsOn??((S=(R=o.locale)==null?void 0:R.options)==null?void 0:S.weekStartsOn)??0,h={firstWeekContainsDate:u,weekStartsOn:d,locale:c},m=[new xN(n==null?void 0:n.in,r)],y=e.match(r6).map(U=>{const P=U[0];if(P in Hm){const W=Hm[P];return W(U,c.formatLong)}return U}).join("").match(t6),v=[];for(let U of y){zT(U)&&zm(U,e,t),HT(U)&&zm(U,e,t);const P=U[0],W=e6[P];if(W){const{incompatibleTokens:D}=W;if(Array.isArray(D)){const H=v.find(fe=>D.includes(fe.token)||fe.token===P);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${U}\` at the same time`)}else if(W.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${U}\` and any other token at the same time`);v.push({token:P,fullToken:U});const q=W.run(t,U,c.match,h);if(!q)return a();m.push(q.setter),t=q.rest}else{if(P.match(i6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(U==="''"?U="'":P==="'"&&(U=c6(U)),t.indexOf(U)===0)t=t.slice(U.length);else return a()}}if(t.length>0&&s6.test(t))return a();const T=m.map(U=>U.priority).sort((U,P)=>P-U).filter((U,P,W)=>W.indexOf(U)===P).map(U=>m.filter(P=>P.priority===U).sort((P,W)=>W.subPriority-P.subPriority)).map(U=>U[0]);let _=fr(r,n==null?void 0:n.in);if(isNaN(+_))return a();const w={};for(const U of T){if(!U.validate(_,h))return a();const P=U.set(_,w,h);Array.isArray(P)?(_=P[0],Object.assign(w,P[1])):_=P}return _}function c6(t){return t.match(n6)[1].replace(a6,"'")}function l6(t,e,r){return iN(t,-80,r)}function Y2(t,e,r){const n=GT(),a=d6(t,r.timeZone,r.locale??n.locale);return"formatToParts"in a?u6(a,e):f6(a,e)}function u6(t,e){const r=t.formatToParts(e);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function f6(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function d6(t,e,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function h6(t,e){const r=y6(e);return"formatToParts"in r?m6(r,t):p6(r,t)}const g6={year:0,month:1,day:2,hour:3,minute:4,second:5};function m6(t,e){try{const r=t.formatToParts(e),n=[];for(let a=0;a<r.length;a++){const o=g6[r[a].type];o!==void 0&&(n[o]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function p6(t,e){const r=t.format(e),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const cm={},W2=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),x6=W2==="06/25/2014, 00:00:00"||W2==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function y6(t){return cm[t]||(cm[t]=x6?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),cm[t]}function qT(t,e,r,n,a,o,c){const u=new Date(0);return u.setUTCFullYear(t,e,r),u.setUTCHours(n,a,o,c),u}const $2=36e5,v6=6e4,lm={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function D1(t,e,r){if(!t)return 0;let n=lm.timezoneZ.exec(t);if(n)return 0;let a,o;if(n=lm.timezoneHH.exec(t),n)return a=parseInt(n[1],10),K2(a)?-(a*$2):NaN;if(n=lm.timezoneHHMM.exec(t),n){a=parseInt(n[2],10);const c=parseInt(n[3],10);return K2(a,c)?(o=Math.abs(a)*$2+c*v6,n[1]==="+"?-o:o):NaN}if(T6(t)){e=new Date(e||Date.now());const c=r?e:_6(e),u=Vm(c,t);return-(r?u:w6(e,u,t))}return NaN}function _6(t){return qT(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Vm(t,e){const r=h6(t,e),n=qT(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=t.getTime();const o=a%1e3;return a-=o>=0?o:1e3+o,n-a}function w6(t,e,r){let a=t.getTime()-e;const o=Vm(new Date(a),r);if(e===o)return e;a-=o-e;const c=Vm(new Date(a),r);return o===c?o:Math.max(o,c)}function K2(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const q2={};function T6(t){if(q2[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),q2[t]=!0,!0}catch{return!1}}const E6=60*1e3,b6={X:function(t,e,r){const n=um(r.timeZone,t);if(n===0)return"Z";switch(e){case"X":return X2(n);case"XXXX":case"XX":return pc(n);case"XXXXX":case"XXX":default:return pc(n,":")}},x:function(t,e,r){const n=um(r.timeZone,t);switch(e){case"x":return X2(n);case"xxxx":case"xx":return pc(n);case"xxxxx":case"xxx":default:return pc(n,":")}},O:function(t,e,r){const n=um(r.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+S6(n,":");case"OOOO":default:return"GMT"+pc(n,":")}},z:function(t,e,r){switch(e){case"z":case"zz":case"zzz":return Y2("short",t,r);case"zzzz":default:return Y2("long",t,r)}}};function um(t,e){const r=t?D1(t,e,!0)/E6:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+t);return r}function zf(t,e){const r=t<0?"-":"";let n=Math.abs(t).toString();for(;n.length<e;)n="0"+n;return r+n}function pc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=zf(Math.floor(n/60),2),o=zf(Math.floor(n%60),2);return r+a+e+o}function X2(t,e){return t%60===0?(t>0?"-":"+")+zf(Math.abs(t)/60,2):pc(t,e)}function S6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),o=n%60;return o===0?r+String(a):r+String(a)+e+zf(o,2)}function Q2(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const A6=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,fm=36e5,Z2=6e4,k6=2,Tn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:A6};function XT(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const r=e.additionalDigits==null?k6:Number(e.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const n=C6(t),{year:a,restDateString:o}=N6(n.date,r),c=D6(o,a);if(c===null||isNaN(c.getTime()))return new Date(NaN);if(c){const u=c.getTime();let d=0,h;if(n.time&&(d=I6(n.time),d===null||isNaN(d)))return new Date(NaN);if(n.timeZone||e.timeZone){if(h=D1(n.timeZone||e.timeZone,new Date(u+d)),isNaN(h))return new Date(NaN)}else h=Q2(new Date(u+d)),h=Q2(new Date(u+d+h));return new Date(u+d+h)}else return new Date(NaN)}function C6(t){const e={};let r=Tn.dateTimePattern.exec(t),n;if(r?(e.date=r[1],n=r[3]):(r=Tn.datePattern.exec(t),r?(e.date=r[1],n=r[2]):(e.date=null,n=t)),n){const a=Tn.timeZone.exec(n);a?(e.time=n.replace(a[1],""),e.timeZone=a[1].trim()):e.time=n}return e}function N6(t,e){if(t){const r=Tn.YYY[e],n=Tn.YYYYY[e];let a=Tn.YYYY.exec(t)||n.exec(t);if(a){const o=a[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(a=Tn.YY.exec(t)||r.exec(t),a){const o=a[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}}return{year:null}}function D6(t,e){if(e===null)return null;let r,n,a;if(!t||!t.length)return r=new Date(0),r.setUTCFullYear(e),r;let o=Tn.MM.exec(t);if(o)return r=new Date(0),n=parseInt(o[1],10)-1,e_(e,n)?(r.setUTCFullYear(e,n),r):new Date(NaN);if(o=Tn.DDD.exec(t),o){r=new Date(0);const c=parseInt(o[1],10);return M6(e,c)?(r.setUTCFullYear(e,0,c),r):new Date(NaN)}if(o=Tn.MMDD.exec(t),o){r=new Date(0),n=parseInt(o[1],10)-1;const c=parseInt(o[2],10);return e_(e,n,c)?(r.setUTCFullYear(e,n,c),r):new Date(NaN)}if(o=Tn.Www.exec(t),o)return a=parseInt(o[1],10)-1,t_(a)?J2(e,a):new Date(NaN);if(o=Tn.WwwD.exec(t),o){a=parseInt(o[1],10)-1;const c=parseInt(o[2],10)-1;return t_(a,c)?J2(e,a,c):new Date(NaN)}return null}function I6(t){let e,r,n=Tn.HH.exec(t);if(n)return e=parseFloat(n[1].replace(",",".")),dm(e)?e%24*fm:NaN;if(n=Tn.HHMM.exec(t),n)return e=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),dm(e,r)?e%24*fm+r*Z2:NaN;if(n=Tn.HHMMSS.exec(t),n){e=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return dm(e,r,a)?e%24*fm+r*Z2+a*1e3:NaN}return null}function J2(t,e,r){e=e||0,r=r||0;const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,o=e*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const R6=[31,28,31,30,31,30,31,31,30,31,30,31],O6=[31,29,31,30,31,30,31,31,30,31,30,31];function QT(t){return t%400===0||t%4===0&&t%100!==0}function e_(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;const n=QT(t);if(n&&r>O6[e]||!n&&r>R6[e])return!1}return!0}function M6(t,e){if(e<1)return!1;const r=QT(t);return!(r&&e>366||!r&&e>365)}function t_(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function dm(t,e,r){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}const F6=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Xi(t,e,r={}){e=String(e);const n=e.match(F6);if(n){const a=XT(r.originalDate||t,r);e=n.reduce(function(o,c){if(c[0]==="'")return o;const u=o.indexOf(c),d=o[u-1]==="'",h=o.replace(c,"'"+b6[c[0]](a,c,r)+"'");return d?h.substring(0,u-1)+h.substring(u+1):h},e)}return VT(t,e,r)}function qn(t,e,r){t=XT(t,r);const n=D1(e,t,!0),a=new Date(t.getTime()-n),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}const ZT=()=>{const t="Asia/Seoul",r=qn(new Date,t);return Xi(r,"yyyy-MM-dd",{timeZone:t})};ZT();const L6="modulepreload",P6=function(t){return"/"+t},r_={},wc=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(h=>{if(h=P6(h),h in r_)return;r_[h]=!0;const m=h.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":L6,m||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((T,_)=>{v.addEventListener("load",T),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},Hc={ICN:{code:"ICN",icao:"RKSI",name:"Incheon",timezone:"Asia/Seoul",currency:"KRW",country:"South Korea"},JFK:{code:"JFK",icao:"KJFK",name:"New York",timezone:"America/New_York",currency:"USD",country:"United States"},LAX:{code:"LAX",icao:"KLAX",name:"Los Angeles",timezone:"America/Los_Angeles",currency:"USD",country:"United States"},SFO:{code:"SFO",icao:"KSFO",name:"San Francisco",timezone:"America/Los_Angeles",currency:"USD",country:"United States"},SEA:{code:"SEA",icao:"KSEA",name:"Seattle",timezone:"America/Los_Angeles",currency:"USD",country:"United States"},LHR:{code:"LHR",icao:"EGLL",name:"London",timezone:"Europe/London",currency:"GBP",country:"United Kingdom"},AMS:{code:"AMS",icao:"EHAM",name:"Amsterdam",timezone:"Europe/Amsterdam",currency:"EUR",country:"Netherlands"},MAD:{code:"MAD",icao:"LEMD",name:"Madrid",timezone:"Europe/Madrid",currency:"EUR",country:"Spain"},CDG:{code:"CDG",icao:"LFPG",name:"Paris",timezone:"Europe/Paris",currency:"EUR",country:"France"},FCO:{code:"FCO",icao:"LIRF",name:"Rome",timezone:"Europe/Rome",currency:"EUR",country:"Italy"},BCN:{code:"BCN",icao:"LEBL",name:"Barcelona",timezone:"Europe/Madrid",currency:"EUR",country:"Spain"},FRA:{code:"FRA",icao:"EDDF",name:"Frankfurt",timezone:"Europe/Berlin",currency:"EUR",country:"Germany"},PRG:{code:"PRG",icao:"LKPR",name:"Prague",timezone:"Europe/Prague",currency:"CZK",country:"Czech Republic"},NRT:{code:"NRT",icao:"RJAA",name:"Tokyo",timezone:"Asia/Tokyo",currency:"JPY",country:"Japan"},KIX:{code:"KIX",icao:"RJBB",name:"Osaka",timezone:"Asia/Tokyo",currency:"JPY",country:"Japan"},HND:{code:"HND",icao:"RJTT",name:"Tokyo",timezone:"Asia/Tokyo",currency:"JPY",country:"Japan"},HKG:{code:"HKG",icao:"VHHH",name:"Hong Kong",timezone:"Asia/Hong_Kong",currency:"HKD",country:"Hong Kong"},BKK:{code:"BKK",icao:"VTBS",name:"Bangkok",timezone:"Asia/Bangkok",currency:"THB",country:"Thailand"},PEK:{code:"PEK",icao:"ZBAA",name:"Beijing",timezone:"Asia/Shanghai",currency:"CNY",country:"China"},PVG:{code:"PVG",icao:"ZSPD",name:"Shanghai",timezone:"Asia/Shanghai",currency:"CNY",country:"China"},TPE:{code:"TPE",icao:"RCTP",name:"Taipei",timezone:"Asia/Taipei",currency:"TWD",country:"Taiwan"},SIN:{code:"SIN",icao:"WSSS",name:"Singapore",timezone:"Asia/Singapore",currency:"SGD",country:"Singapore"},CGK:{code:"CGK",icao:"WIII",name:"Jakarta",timezone:"Asia/Jakarta",currency:"IDR",country:"Indonesia"},SGN:{code:"SGN",icao:"VVTS",name:"Ho Chi Minh City",timezone:"Asia/Ho_Chi_Minh",currency:"VND",country:"Vietnam"},HAN:{code:"HAN",icao:"VVNB",name:"Hanoi",timezone:"Asia/Ho_Chi_Minh",currency:"VND",country:"Vietnam"},SYD:{code:"SYD",icao:"YSSY",name:"Sydney",timezone:"Australia/Sydney",currency:"AUD",country:"Australia"},AKL:{code:"AKL",icao:"NZAA",name:"Auckland",timezone:"Pacific/Auckland",currency:"NZD",country:"New Zealand"},MEL:{code:"MEL",icao:"YMML",name:"Melbourne",timezone:"Australia/Melbourne",currency:"AUD",country:"Australia"}},U6={"JFK/ICN":{hours:15,minutes:40},"ICN/JFK":{hours:14,minutes:50},"LAX/ICN":{hours:12,minutes:30},"ICN/LAX":{hours:11,minutes:40},"LHR/ICN":{hours:11,minutes:30},"ICN/LHR":{hours:10,minutes:40},"KIX/ICN":{hours:2,minutes:0},"ICN/KIX":{hours:2,minutes:0},"FCO/ICN":{hours:10,minutes:30},"ICN/FCO":{hours:9,minutes:40},"TPE/ICN":{hours:2,minutes:30},"ICN/TPE":{hours:2,minutes:30},"SFO/ICN":{hours:11,minutes:30},"ICN/SFO":{hours:10,minutes:40},"NRT/ICN":{hours:2,minutes:30},"ICN/NRT":{hours:2,minutes:30},"BCN/ICN":{hours:11,minutes:0},"ICN/BCN":{hours:10,minutes:10},"SEA/ICN":{hours:10,minutes:30},"ICN/SEA":{hours:9,minutes:40},"SIN/ICN":{hours:6,minutes:30},"ICN/SIN":{hours:6,minutes:30},"CDG/ICN":{hours:10,minutes:30},"ICN/CDG":{hours:9,minutes:40}},oi=t=>Hc[t]||null,B6=t=>{var e;return((e=Hc[t])==null?void 0:e.timezone)||null},j6=t=>{var e;return((e=Hc[t])==null?void 0:e.icao)||null},H6=t=>{var e;return((e=Hc[t])==null?void 0:e.name)||null},z6=t=>{var e;return((e=Hc[t])==null?void 0:e.currency)||null},V6=t=>U6[t]||null,G6="864fe3093746e3b623bd50a9",Y6=(t,e="KRW")=>`https://v6.exchangerate-api.com/v6/${G6}/pair/${t}/${e}`,W6=t=>{const e=Hc[t];if(!e)return null;try{const r=new Date,n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),o=(new Date(r.toLocaleString("en-US",{timeZone:e.timezone})).getTime()-n.getTime())/(1e3*60*60);return o===0?"(UTC)":o>0?`(UTC+${o})`:`(UTC${o})`}catch{return null}},$6=(t,e,r)=>{const n="Asia/Seoul",a=qn(`${e}T00:00:00`,n),c=qn(`${t}T00:00:00`,n).getTime()-a.getTime(),u=Math.round(c/(1e3*60*60*24));return u===0?{text:"오늘",days:0}:u===1?{text:"내일",days:1}:u>0?{text:`${u}일 후`,days:u}:u===-1?{text:"어제",days:-1}:{text:`${Math.abs(u)}일 전`,days:u}},n_=(t,e,r)=>{const n="Asia/Seoul",a=qn(`${r}T00:00:00`,n),o=qn(`${r}T00:00:00`,n);o.setDate(a.getDate()-90);const c=t.filter(y=>{const v=qn(`${y.date}T00:00:00`,n);return v>=o&&v<=a}).filter(y=>e==="takeoff"?y.status.departed:y.status.landed).sort((y,v)=>new Date(v.date).getTime()-new Date(y.date).getTime()),u=c.length,d=u>=3;let h=null,m=null;if(d){const y=new Date(c[2].date),v=new Date(y);v.setDate(y.getDate()+90),h=v.toLocaleDateString("ko-KR"),m=Math.ceil((v.getTime()-a.getTime())/(1e3*60*60*24))}return{count:u,isCurrent:d,expiryDate:h,daysUntilExpiry:m,recentEvents:c}},K6=(t,e)=>{if(!t||t.length===0)return{lastFlight:void 0,nextFlight:void 0};const r=u=>u.flightNumber&&/^\d+$/.test(u.flightNumber)&&u.route&&u.route.trim()!=="",a=[...t].sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime()).filter(r),o=[],c=[];return a.forEach(u=>{if(!u.std||!u.route){const d="Asia/Seoul",m=qn(new Date,d);qn(`${u.date}T00:00:00`,d).getTime()<m.getTime()?o.push(u):c.push(u)}else try{const d=u.route.split("/")[0],h=oi(d);if(h){const[m,y]=u.std.split(":").map(Number),v=new Date(u.date);v.setHours(m,y,0,0);const T=new Date(v.toLocaleString("en-US",{timeZone:h.timezone})),_=new Date,w=new Date(_.toLocaleString("en-US",{timeZone:h.timezone}));T.getTime()<=w.getTime()?o.push(u):c.push(u)}else{const m="Asia/Seoul",v=qn(new Date,m),[T,_]=u.std.split(":").map(Number);qn(`${u.date}T${T.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}:00`,m).getTime()<=v.getTime()?o.push(u):c.push(u)}}catch(d){console.error("출발지 현지 시간 계산 오류:",d);const h="Asia/Seoul",y=qn(new Date,h),[v,T]=u.std.split(":").map(Number);qn(`${u.date}T${v.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}:00`,h).getTime()<=y.getTime()?o.push(u):c.push(u)}}),{lastFlight:o.pop(),nextFlight:c[0]}},q6=(t,e)=>{const r=[],n=new Set;for(const a of e){const o=t.find(c=>c.date===a.date&&c.flightNumber===a.flightNumber);if(o){const c={...a,status:o.status||{departed:!1,landed:!1},lastModified:o.lastModified||new Date().toISOString(),version:o.version||0};r.push(c),n.add(o.id)}else r.push({...a,status:a.status||{departed:!1,landed:!1},lastModified:new Date().toISOString(),version:0})}return r},X6=async(t,e,r,n)=>{try{const{getFlightsByMonth:a}=await wc(async()=>{const{getFlightsByMonth:m}=await Promise.resolve().then(()=>kc);return{getFlightsByMonth:m}},void 0),o=await a(r,n,e),c=q6(o,t),{deleteData:u}=await wc(async()=>{const{deleteData:m}=await Promise.resolve().then(()=>kc);return{deleteData:m}},void 0),d=`users/${e}/flights/${r}/${n.toString().padStart(2,"0")}`;await u(d);const{addMultipleFlights:h}=await wc(async()=>{const{addMultipleFlights:m}=await Promise.resolve().then(()=>kc);return{addMultipleFlights:m}},void 0);await h(c,e)}catch(a){throw console.error("월별 데이터 교체 실패:",a),a}},Ci=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Q6=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),p.jsx("path",{d:"M12 12v9"}),p.jsx("path",{d:"m16 16-4-4-4 4"})]}),Z6=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),J6=({className:t})=>p.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),eD=({className:t})=>p.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M4 2a1 1 0 0 0-1 1v18a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1zM19.381 8.316a1.5 1.5 0 0 0-1.742-.387c-2.353.941-5.186.84-7.825-.26C8.84 7.15 8 7.52 8 8.25v7.5c0 .73.84 1.1 1.814.581 2.639-1.1 5.472-1.201 7.825-.26a1.5 1.5 0 0 0 1.742-.387l.001-.002c.445-.445.541-1.12.247-1.684l-1.04-2.022a1.5 1.5 0 0 1 0-1.354l1.04-2.022c.294-.564.198-1.239-.247-1.684l-.001-.002z"})}),tD=({status:t})=>t?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"sm:hidden",children:[t.departed&&p.jsx("div",{className:"absolute top-3 left-3",children:p.jsx("div",{className:"text-xs font-bold px-2 py-1 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"이륙"})}),t.landed&&p.jsx("div",{className:"absolute top-3 right-3",children:p.jsx("div",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"착륙"})})]}),p.jsxs("div",{className:"hidden sm:block absolute top-3 right-3 flex flex-col items-end",children:[t.departed&&p.jsx("div",{className:"text-xs font-bold px-2 py-1 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 mb-2",children:"이륙"}),t.landed&&p.jsx("div",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"착륙"})]})]}):null,a_=({flight:t,type:e,onClick:r,todayStr:n})=>{const a=()=>{r(t,e)};if(!t)return p.jsx("div",{onClick:a,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center flex flex-col justify-center items-center h-full cursor-pointer transform hover:scale-105 transition-transform duration-300",children:p.jsx("p",{className:"text-xl font-bold text-gray-400 dark:text-gray-500",children:e==="next"?"다음 비행 기록 없음":"과거 비행 기록 없음"})});const o=(()=>{if(e==="last")try{const m=t.route.split("/")[0],y=oi(m);if(y&&t.std){const[v,T]=t.std.split(":").map(Number),_=new Date(t.date);_.setHours(v,T,0,0);const b=new Date(_.toLocaleString("en-US",{timeZone:y.timezone})).toLocaleDateString("en-CA"),N=new Date,S=new Date(N.toLocaleString("en-US",{timeZone:y.timezone})).toLocaleDateString("en-CA"),U=new Date(S),W=new Date(b).getTime()-U.getTime(),D=Math.round(W/(1e3*60*60*24));return D===0?{text:"오늘",days:0}:D===1?{text:"내일",days:1}:D>0?{text:`${D}일 후`,days:D}:D===-1?{text:"어제",days:-1}:{text:`${Math.abs(D)}일 전`,days:D}}}catch(m){console.error("출발지 현지 날짜 계산 오류:",m)}return $6(t.date,n,t.std)})(),[c,u]=t.route.split("/"),d=e==="next",h=c==="ICN"?u:c;return p.jsxs("div",{onClick:a,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 text-center cursor-pointer transform hover:scale-105 transition-transform duration-300 flex flex-col justify-center h-full relative min-h-[120px] sm:min-h-[140px]",children:[!d&&p.jsx(tD,{status:t.status}),p.jsxs("div",{className:"flex flex-col justify-center items-center h-full",children:[p.jsx("p",{className:`text-sm font-semibold ${d?"text-blue-500 dark:text-blue-400":"text-green-500 dark:text-green-400"}`,children:d?"다음 비행":"최근 비행"}),p.jsxs("div",{className:"flex flex-col justify-center items-center flex-1",children:[p.jsx("p",{className:`text-4xl sm:text-5xl font-bold my-2 ${d?"text-blue-600 dark:text-blue-500":"text-green-600 dark:text-green-500"}`,children:o.text==="D-Day"?"오늘":o.text}),p.jsx("div",{className:"flex items-center justify-center",children:p.jsx("span",{className:"text-4xl sm:text-5xl font-bold text-gray-800 dark:text-gray-200",children:h})})]})]})]})},s_=({title:t,currencyInfo:e,onClick:r})=>{if(!e)return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 sm:p-6 cursor-pointer transform hover:scale-105 transition-transform duration-300 flex flex-col justify-center h-full min-h-[120px] sm:min-h-[140px]",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:t})}),p.jsxs("div",{className:"mt-2 text-center flex-1 flex flex-col justify-center",children:[p.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:["0 ",p.jsx("span",{className:"text-base font-medium text-gray-500 dark:text-gray-400",children:"/ 3회"})]}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(최근 90일)"})]}),p.jsxs("div",{className:"mt-3 py-2 px-3 rounded-lg text-center bg-gray-100 dark:bg-gray-700",children:[p.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:"데이터 없음"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"자격 정보를 불러올 수 없습니다"})]})]});const a=((o,c)=>{if(!c)return{text:"text-gray-200",bg:"bg-gray-700 dark:bg-gray-800",label:"횟수 부족"};if(o===null||o<0)return{text:"text-gray-200",bg:"bg-gray-700 dark:bg-gray-800",label:"만료됨"};const u=`D-${o}`;return o<=7?{text:"text-red-800 dark:text-red-200",bg:"bg-red-100 dark:bg-red-900",label:u}:o<=30?{text:"text-orange-800 dark:text-orange-200",bg:"bg-orange-100 dark:bg-orange-800",label:u}:{text:"text-lime-800 dark:text-lime-200",bg:"bg-lime-200 dark:bg-lime-700",label:u}})(e.daysUntilExpiry,e.isCurrent);return p.jsxs("div",{onClick:r,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 sm:p-6 cursor-pointer transform hover:scale-105 transition-transform duration-300 flex flex-col justify-center h-full min-h-[120px] sm:min-h-[140px]",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:t})}),p.jsxs("div",{className:"mt-2 text-center flex-1 flex flex-col justify-center",children:[p.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[e.count," ",p.jsx("span",{className:"text-base font-medium text-gray-500 dark:text-gray-400",children:"/ 3회"})]}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"(최근 90일)"})]}),p.jsxs("div",{className:`mt-3 py-2 px-3 rounded-lg text-center ${a.bg}`,children:[p.jsx("p",{className:`text-sm font-bold ${a.text}`,children:a.label}),p.jsx("p",{className:`text-xs ${a.text}`,children:e.expiryDate?`${e.expiryDate} 만료 예정`:"자격 미충족"})]})]})},rD=({flights:t=[],todayStr:e,onMonthClick:r})=>{const n=new Date(e),a=n.getMonth(),o=(a+1)%12,c=n.getFullYear(),u=o===0?c+1:c,d=t.filter(_=>{const w=new Date(_.date);return w.getMonth()===a&&w.getFullYear()===c}),h=t.filter(_=>{const w=new Date(_.date);return w.getMonth()===o&&w.getFullYear()===u}),m=_=>{if(_.length===0)return"00:00";const w=_.find(b=>b.monthlyTotalBlock&&b.monthlyTotalBlock>0);if(w&&w.monthlyTotalBlock){const b=w.monthlyTotalBlock,N=Math.floor(b),R=Math.round((b-N)*60);return`${String(N).padStart(2,"0")}:${String(R).padStart(2,"0")}`}return"00:00"},y=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],v=m(d),T=m(h);return p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{onClick:()=>r(a,d),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 text-center cursor-pointer transform hover:scale-105 transition-transform duration-300",children:[p.jsxs("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:[y[a]," 비행시간"]}),p.jsx("p",{className:"text-4xl font-bold my-1 text-gray-800 dark:text-gray-200",children:v})]}),p.jsxs("div",{onClick:()=>r(o,h),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 text-center cursor-pointer transform hover:scale-105 transition-transform duration-300",children:[p.jsxs("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:[y[o]," 비행시간"]}),p.jsx("p",{className:"text-4xl font-bold my-1 text-gray-800 dark:text-gray-200",children:T})]})]})},nD=({flight:t,onClose:e,onUpdateStatus:r,flightType:n,currentUser:a,onCrewClick:o,onAirportClick:c})=>{var U,P,W,D;const[u,d]=ee.useState(!1),[h,m]=ee.useState(!1),y=ee.useRef(null);if(!t)return null;const v=t.flightNumber.includes("STBY"),T=t.flightNumber.includes("G/S STUDENT"),_=t.flightNumber==="A STBY"?"04:00 - 16:00":"09:00 - 21:00",w=v||T;let b=null;if(!w&&((U=t.route)!=null&&U.startsWith("ICN/"))&&t.std)try{const q=o6(t.std,"HH:mm",new Date(t.date)),H=l6(q,80);b=VT(H,"HH:mm")}catch(q){console.error("Show up time calculation error:",q)}const N=async q=>{if(!u){if(d(!0),console.log("FlightDetailModal - handleUpdateStatus 호출됨:",{flightId:t.id,flightNumber:t.flightNumber,statusField:q,flightData:t}),!t.id){console.error("FlightDetailModal - flight.id가 없음:",t),alert(`오류: 항공편 ID가 없어 업데이트할 수 없습니다.
항공편 번호: ${t.flightNumber}
날짜: ${t.date}`),d(!1);return}try{console.log("FlightDetailModal - onUpdateStatus 호출:",t.id,q),await r(t.id,q)}catch(H){console.error("FlightDetailModal - 업데이트 실패:",H),alert("상태 업데이트 중 오류가 발생했습니다.")}finally{d(!1)}}},R=`bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in-up ${w?"flex flex-col justify-center min-h-[150px]":""}`,S=q=>{m(!0),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{m(!1)},1e3)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60] p-4",onClick:e,children:p.jsxs("div",{className:R,onClick:q=>q.stopPropagation(),children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[t.flightNumber,w?"":"편"," 상세 정보"]})})}),p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsxs("div",{className:`flex-grow overflow-y-auto ${h?"scrollbar-show":"scrollbar-hide"}`,onScroll:S,children:[p.jsx("div",{className:`${w?"":"mb-6"}`,children:p.jsxs("div",{className:"space-y-2 text-base",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-24 font-semibold text-gray-500 dark:text-gray-400",children:"DATE"}),p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:(()=>{var q;if(n==="next")try{const H=(q=t.route)==null?void 0:q.split("/")[0];if(H&&t.std){const fe=oi(H);if(fe){const ne=new Date(t.date),[Q,ce]=t.std.split(":").map(Number),Ce=new Date(ne);return Ce.setHours(Q,ce,0,0),new Date(Ce.toLocaleString("en-US",{timeZone:fe.timezone})).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}}}catch(H){console.error("출발지 날짜 계산 오류:",H)}return new Date(t.date).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})()})]}),v&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-24 font-semibold text-gray-500 dark:text-gray-400",children:"시간"}),p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:_})]}),!w&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-24 font-semibold text-gray-500 dark:text-gray-400",children:"ROUTE"}),p.jsx("div",{className:"flex items-center space-x-0.5",children:t.route.split("/").map((q,H)=>p.jsxs(pa.Fragment,{children:[p.jsx("button",{onClick:()=>c(q),className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg border border-blue-200 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-all duration-200 transform hover:scale-105 shadow-sm font-medium",title:`${q} 도시 정보 보기`,children:q}),H===0&&p.jsx("span",{className:"text-gray-400 dark:text-gray-500 mx-1",children:"→"})]},H))})]}),b&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-24 font-semibold text-gray-500 dark:text-gray-400",children:"SHOW UP"}),p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:b})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-24 font-semibold text-gray-500 dark:text-gray-400",children:"출도착 시간"}),p.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[t.std," → ",t.sta]})]})]})]})}),!w&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"FLIGHT CREW LIST"}),p.jsx("div",{className:"overflow-x-auto mb-4",children:p.jsxs("table",{className:"w-full text-sm text-center",children:[p.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"EMPL"}),p.jsx("th",{className:"px-4 py-2",children:"NAME"}),p.jsx("th",{className:"px-4 py-2",children:"RANK"}),p.jsx("th",{className:"px-4 py-2",children:"POSN TYPE"}),p.jsx("th",{className:"px-4 py-2",children:"POSN"})]})}),p.jsx("tbody",{children:((P=t.crew)==null?void 0:P.length)>0?t.crew.map(q=>{const H=q.name===(a==null?void 0:a.displayName);return p.jsxs("tr",{className:`border-b dark:border-gray-700 ${H?"bg-green-100 dark:bg-green-900/50":""}`,children:[p.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-200",children:q.empl}),p.jsx("td",{className:`px-4 py-2 text-gray-900 dark:text-gray-200 ${H?"":"cursor-pointer hover:underline"}`,onClick:()=>!H&&o(q.name),title:H?"":`${q.name}님과의 비행 기록 보기`,children:q.name}),p.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-200",children:q.rank}),p.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-200",children:q.posnType}),p.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-200",children:q.posn})]},q.empl)}):p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"px-4 py-2 text-center text-gray-500 dark:text-gray-400",children:"승무원 정보가 없습니다."})})})]})})]}),n!=="next"&&t.route&&p.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"이착륙 선택"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>N("departed"),disabled:u,className:`flex-1 font-bold py-2 px-4 rounded-lg transition-colors ${(W=t.status)!=null&&W.departed?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"이륙"}),p.jsx("button",{onClick:()=>N("landed"),disabled:u,className:`flex-1 font-bold py-2 px-4 rounded-lg transition-colors ${(D=t.status)!=null&&D.landed?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"착륙"})]})]})]})]})]})})},aD=({data:t,onClose:e,onFlightClick:r})=>t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in-up",onClick:n=>n.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:[t.title," 최근 이력"]}),t.events.length>0?p.jsx("ul",{className:"space-y-2",children:t.events.slice(0,3).map(n=>p.jsxs("li",{className:"p-1.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>r(n),children:[p.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:n.date}),p.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400",children:[n.flightNumber,"편: ",n.route.replace("/"," → ")]})]},n.id))}):p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"최근 90일 내 기록이 없습니다."})]})}):null,sD=({data:t,onClose:e,onFlightClick:r})=>{const[n,a]=ee.useState(!1),o=ee.useRef(null);if(!t)return null;const{month:c,flights:u,blockTime:d}=t,h=new Date,m=u.length>0?new Date(u[0].date).getFullYear():0,y=h.getFullYear()===m&&h.getMonth()===c,v=_=>{r(_)},T=_=>{a(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{a(!1)},1e3)};return p.jsx(p.Fragment,{children:p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg p-6 relative animate-fade-in-up flex flex-col max-h-[85vh]",onClick:_=>_.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsx("div",{className:"flex-shrink-0",children:p.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:[c+1,"월 스케줄",p.jsxs("span",{className:"text-base font-medium text-gray-500 dark:text-gray-400 ml-2",children:["(총 ",d,")"]})]})}),p.jsx("div",{className:`flex-grow overflow-auto ${n?"scrollbar-show":"scrollbar-hide"}`,onScroll:T,children:u.length>0?p.jsxs("table",{className:"text-sm text-center w-full",children:[p.jsx("thead",{className:"text-xs font-semibold text-gray-800 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2 whitespace-nowrap",children:"날짜"}),p.jsx("th",{className:"px-4 py-2 whitespace-nowrap",children:"편명"}),p.jsx("th",{className:"px-4 py-2 whitespace-nowrap",children:"노선"}),p.jsx("th",{className:"px-4 py-2 whitespace-nowrap hidden md:table-cell",children:"STD"}),p.jsx("th",{className:"px-4 py-2 whitespace-nowrap hidden md:table-cell",children:"STA"}),y&&p.jsx("th",{className:"px-4 py-2 whitespace-nowrap hidden md:table-cell",children:"이착륙"})]})}),p.jsx("tbody",{children:u.map(_=>{var w,b;return p.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors",onClick:()=>v(_),children:[p.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-gray-200 whitespace-nowrap",children:_.date.substring(5)}),p.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-200 max-w-[100px] break-words",children:_.flightNumber}),p.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-200 max-w-[120px] break-words",children:_.route.replace("/"," → ")}),p.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-200 whitespace-nowrap hidden md:table-cell",children:_.std}),p.jsx("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-200 whitespace-nowrap hidden md:table-cell",children:_.sta}),y&&p.jsx("td",{className:"px-4 py-3 whitespace-nowrap hidden md:table-cell",children:_.route&&p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("span",{title:"이륙",className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white ${(w=_.status)!=null&&w.departed?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:"T"}),p.jsx("span",{title:"착륙",className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white ${(b=_.status)!=null&&b.landed?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:"L"})]})})]},_.id)})})]}):p.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"해당 월의 스케줄이 없습니다."})})]})})})},iD={2024:new Set(["01-01","02-09","02-10","02-11","02-12","03-01","04-10","05-05","05-06","05-15","06-06","08-15","09-16","09-17","09-18","10-03","10-09","12-25"]),2025:new Set(["01-01","01-28","01-29","01-30","03-01","05-05","05-06","06-06","08-15","10-03","10-06","10-07","10-08","10-09","12-25"]),2026:new Set(["01-01","02-16","02-17","02-18","03-01","03-02","05-05","05-24","05-25","06-06","08-15","08-17","09-24","09-25","09-26","10-03","10-05","10-09","12-25"])},oD=t=>{const e=dN(t),r=fN(t)+1,n=lN(t),a=iD[e];if(!a)return!1;const o=`${String(r).padStart(2,"0")}-${String(n).padStart(2,"0")}`;return a.has(o)},cD=({isOpen:t,onClose:e,flights:r,month:n,year:a,onFlightClick:o})=>{const[c,u]=ee.useState(new Date(a,n-1,1)),d=ee.useMemo(()=>Xi(qn(new Date,"Asia/Seoul"),"yyyy-MM-dd"),[]),[h,m]=ee.useState(!1),y=ee.useRef(null),[v,T]=ee.useState(null),[_,w]=ee.useState(null),b=50,N=ce=>B6(ce),R=ce=>V6(ce)||{hours:12,minutes:0},S=ce=>{const Ce=[],xe="Asia/Seoul",X=ce.filter(K=>K.flightNumber.toUpperCase().includes("STBY")||K.flightNumber.toUpperCase().includes("STANDBY")||K.flightNumber.toUpperCase().includes("대기")||K.flightNumber.toUpperCase().includes("STB")),se=ce.filter(K=>K.flightNumber.toUpperCase().includes("G/S STUDENT")||K.flightNumber.toUpperCase().includes("GS STUDENT"));X.forEach(K=>{Ce.push({title:K.flightNumber,date:K.date,flight:K,isStby:!0})}),se.forEach(K=>{Ce.push({title:K.flightNumber,date:K.date,flight:K,isStby:!1,isGroundStudent:!0})});const J=ce.filter(K=>!K.flightNumber.toUpperCase().includes("STBY")&&!K.flightNumber.toUpperCase().includes("STANDBY")&&!K.flightNumber.toUpperCase().includes("대기")&&!K.flightNumber.toUpperCase().includes("STB")&&!K.flightNumber.toUpperCase().includes("G/S STUDENT")&&!K.flightNumber.toUpperCase().includes("GS STUDENT")).map(K=>{if(!K.route||!K.route.includes("/")||K.route.startsWith("/")||K.route.endsWith("/"))return null;const[C,z]=K.route.split("/");if(!C||!z)return null;if(!N(C))return console.warn(`'${C}' 공항의 타임존 정보를 찾을 수 없습니다.`),null;const Y=K.std||"00:00:00",ae=`${K.date}T${Y}`;let Te;if(C==="ICN")Te=new Date(ae);else{const be=N(C);if(be){const Se=Xi(new Date(K.date),"xxx",{timeZone:be}),Je=`${K.date}T${Y}${Se}`;Te=new Date(Je)}else{const Se=new Date(ae);Te=new Date(Se.getTime()+540*60*1e3)}}let Ae;if(K.sta){const be=R(K.route),Se=V2(Te,{hours:be.hours,minutes:be.minutes}),Je=N(z)||xe,j=Xi(Se,"yyyy-MM-dd",{timeZone:Je}),Tt=`${j}T${K.sta}`;if(z==="ICN")Ae=new Date(Tt);else{const ut=Xi(new Date(j),"xxx",{timeZone:Je}),pt=`${Tt}${ut}`;Ae=new Date(pt)}}else{const be=R(K.route);Ae=V2(Te,{hours:be.hours,minutes:be.minutes})}return{...K,departureKst:Te,arrivalKst:Ae,depAirport:C,arrAirport:z}}).filter(Boolean).sort((K,C)=>K.departureKst.getTime()-C.departureKst.getTime());J.forEach(K=>{const C=G2({start:ou(K.departureKst),end:ou(K.arrivalKst)}),z=K.route.split("/")[1];C.forEach(V=>{Ce.push({title:z,date:Xi(V,"yyyy-MM-dd"),flight:K,isStby:!1})})});for(let K=0;K<J.length-1;K++){const C=J[K],z=J[K+1];if(C.route.startsWith("ICN/")&&z.route.endsWith("/ICN")&&C.route.split("/")[1]===z.route.split("/")[0]){const V=C.route.split("/")[1],Y=oN(C.arrivalKst),ae=ou(z.departureKst);Y<ae&&G2({start:Y,end:ae}).forEach(Ae=>{Ce.push({title:V,date:Xi(Ae,"yyyy-MM-dd"),isStby:!1,isLayover:!0})})}}return Array.from(new Map(Ce.map(K=>[`${K.date}-${K.title}-${K.isStby}-${K.isLayover}`,K])).values())},U=ee.useMemo(()=>{const ce=c.getFullYear(),Ce=c.getMonth(),xe=new Date(ce,Ce,1),X=new Date(ce,Ce+1,0),se=new Date(xe);se.setDate(se.getDate()-xe.getDay());const Oe=S(r),J=[],M=new Date(se);for(;M<=X||M.getDay()!==0;){const C=new Date(M.getTime()+324e5).toISOString().split("T")[0],z=Oe.filter(V=>V.date===C);J.push({date:new Date(M),dateStr:C,isCurrentMonth:M.getMonth()===Ce,events:z}),M.setDate(M.getDate()+1)}return J},[c,r]),P=ee.useMemo(()=>U,[U]),W=()=>{u(ce=>new Date(ce.getFullYear(),ce.getMonth()-1,1))},D=()=>{u(ce=>new Date(ce.getFullYear(),ce.getMonth()+1,1))},q=ce=>{w(null),T(ce.targetTouches[0].clientX)},H=ce=>{w(ce.targetTouches[0].clientX)},fe=()=>{if(!v||!_)return;const ce=v-_,Ce=ce>b,xe=ce<-b;Ce&&D(),xe&&W()},ne=["일","월","화","수","목","금","토"],Q=ce=>{m(!0),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{m(!1)},1e3)};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-2 md:p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg h-full flex flex-col p-4 md:p-6 relative animate-fade-in-up",onClick:ce=>ce.stopPropagation(),children:[p.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between mb-4 md:mb-6",children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:[c.getFullYear(),"년 ",c.getMonth()+1,"월"]}),p.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[p.jsx("button",{onClick:W,className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p.jsx("button",{onClick:D,className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),p.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:p.jsx(Ci,{className:"w-6 h-6"})})]})]}),p.jsxs("div",{className:`flex-grow overflow-y-auto ${h?"scrollbar-show":"scrollbar-hide"}`,onScroll:Q,onTouchStart:q,onTouchMove:H,onTouchEnd:fe,children:[p.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[ne.map(ce=>p.jsxs("div",{className:"p-2 md:p-3 text-center text-sm font-semibold text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p.jsx("span",{className:"hidden md:inline",children:ce}),p.jsx("span",{className:"md:hidden",children:ce.charAt(0)})]},ce)),P.map((ce,Ce)=>{const xe=ce.date.getDay(),X=xe===0,se=xe===6,Oe=oD(ce.date);let J="bg-white dark:bg-gray-800";ce.isCurrentMonth?(X&&(J="bg-red-50 dark:bg-red-900/20"),se&&(J="bg-blue-50 dark:bg-blue-900/20")):J="bg-gray-50 dark:bg-gray-700/50 text-gray-400 dark:text-gray-500";let M="dark:text-gray-300";return ce.isCurrentMonth&&(Oe&&!X&&(M="text-red-500 dark:text-red-400"),X&&(M="text-red-500 dark:text-red-400")),p.jsxs("div",{className:`min-h-[90px] md:min-h-[120px] p-1 md:p-2 rounded-lg ${J} ${ce.dateStr===d&&ce.isCurrentMonth?"border-2 border-blue-500":"border border-gray-200 dark:border-gray-700"}`,children:[p.jsx("div",{className:`text-sm font-medium mb-1 ${M}`,children:ce.date.getDate()}),p.jsx("div",{className:"space-y-1",children:ce.events.sort((K,C)=>{var be,Se,Je,j,Tt,ut,pt,$e;const z=(Se=(be=K.flight)==null?void 0:be.route)==null?void 0:Se.startsWith("ICN/"),V=(j=(Je=C.flight)==null?void 0:Je.route)==null?void 0:j.startsWith("ICN/"),Y=K.isLayover,ae=C.isLayover,Te=(ut=(Tt=K.flight)==null?void 0:Tt.route)==null?void 0:ut.endsWith("/ICN"),Ae=($e=(pt=C.flight)==null?void 0:pt.route)==null?void 0:$e.endsWith("/ICN");return z&&!V?-1:!z&&V?1:Y&&!ae?-1:!Y&&ae||Te&&!Ae?1:!Te&&Ae?-1:0}).map((K,C)=>{const z=K.isStby||K.isGroundStudent;return p.jsx("div",{onClick:()=>K.flight&&o(K.flight),className:`p-1 rounded cursor-pointer transition-colors ${z?"text-[11px]":"text-xs"} ${K.isStby?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-200 dark:hover:bg-yellow-800":K.isGroundStudent?"bg-purple-100 text-purple-800 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:hover:bg-purple-800":K.isLayover?"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900 dark:text-green-200 dark:hover:bg-green-800":"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800"}`,title:K.flight?`${K.flight.flightNumber} - ${K.flight.route}`:K.title,children:p.jsx("div",{className:"font-medium whitespace-normal break-words",children:K.title})},C)})})]},Ce)})]}),p.jsxs("div",{className:"mt-4 md:mt-6 p-3 md:p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"범례 (한국시간 기준)"}),p.jsxs("div",{className:"flex items-center gap-x-3 gap-y-1 md:gap-4 text-xs text-gray-600 dark:text-gray-300 flex-wrap",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-100 dark:bg-blue-900 rounded"}),p.jsx("span",{children:"비행 스케줄"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-yellow-100 dark:bg-yellow-900 rounded"}),p.jsx("span",{children:"STBY 스케줄"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-purple-100 dark:bg-purple-900 rounded"}),p.jsx("span",{children:"G/S STUDENT"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-100 dark:bg-green-900 rounded"}),p.jsx("span",{children:"체류 기간"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded"}),p.jsx("span",{children:"다른 월"})]})]}),p.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[p.jsx("p",{children:"• 모든 스케줄: 한국시간으로 변환하여 표시"}),p.jsx("p",{children:"• 달력 날짜: 한국시간 기준"}),p.jsx("p",{children:"• 왕복 비행: 출발일과 체류 기간을 구분하여 표시"})]})]})]})]})}):null},lD=({isOpen:t,onClose:e,conflicts:r,onResolve:n,existingFlights:a=[]})=>{const[o,c]=pa.useState([]),[u,d]=pa.useState(!1),h=ee.useRef(null);pa.useEffect(()=>{t&&r.length>0&&c(r.map(w=>({flightId:w.flightId,useLocal:!0})))},[t,r]);const m=w=>{d(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d(!1)},1e3)},y=(w,b)=>{c(N=>N.map(R=>R.flightId===w?{...R,useLocal:b}:R))},v=async()=>{try{for(const w of o){const b=r.find(fe=>fe.flightId===w.flightId);if(!b)continue;const N=a.find(fe=>fe.id===b.flightId),R={...N||{},id:b.flightId,flightNumber:b.flightNumber,date:b.date,route:b.route,status:b.localData.status,lastModified:b.localData.lastModified},S={...N||{},id:b.flightId,flightNumber:b.flightNumber,date:b.date,route:b.route,status:b.serverData.status,lastModified:b.serverData.lastModified};console.log("---------- 데이터 검증 및 덮어쓰기 시작 ----------"),console.log("전달받은 로컬 데이터:",R),console.log("전달받은 서버 데이터:",S);let U=R==null?void 0:R.status;(!U||typeof U.departed>"u"||typeof U.landed>"u")&&(console.error("🚨 경고: 로컬 데이터의 status가 불완전하거나 없습니다.",U),U=(N==null?void 0:N.status)||(S==null?void 0:S.status)||{departed:!1,landed:!1});let P=S==null?void 0:S.status;(!P||typeof P.departed>"u"||typeof P.landed>"u")&&(console.error("🚨 경고: 서버 데이터의 status가 불완전하거나 없습니다.",P),P=(N==null?void 0:N.status)||(R==null?void 0:R.status)||{departed:!1,landed:!1});const W=w.useLocal?"local":"server",D=W==="local"?U:P;console.log(`'${W}' 선택. 최종 확정된 status:`,D);const q={...S,...R,status:D,lastModified:new Date().toISOString()};console.log(`'${W}' 데이터를 기준으로 안전한 덮어쓰기:`,{flightId:b.flightId,authoritativeStatus:D,finalData:q});const H={flightId:b.flightId,useLocal:w.useLocal};await n([H]),console.log("✅ 충돌 해결 성공.")}console.log("모든 충돌 해결 완료: 데이터 소스 검증 및 안전한 덮어쓰기가 완료되었습니다."),e()}catch(w){console.error("❌ 충돌 해결 중 오류 발생:",w),alert("충돌 해결 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{console.log("-------------------- 작업 완료 --------------------")}},T=w=>{if(!w)return"알 수 없음";try{return new Date(w).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"})}catch{return"알 수 없음"}},_=w=>w.departed&&w.landed?"이륙 완료, 착륙 완료":w.departed?"이륙 완료":w.landed?"착륙 완료":"대기 중";return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg md:max-w-lg lg:max-w-lg xl:max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden",onClick:w=>w.stopPropagation(),children:[p.jsxs("div",{className:"bg-red-500 text-white p-4 flex-shrink-0",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-bold",children:"데이터 충돌 해결"}),p.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 text-2xl",children:"×"})]}),p.jsxs("p",{className:"text-sm mt-1",children:[r.length,"개의 항공편에서 데이터 충돌이 발생했습니다. 사용할 데이터를 선택해주세요."]})]}),p.jsx("div",{className:`p-6 overflow-y-auto flex-grow bg-white dark:bg-gray-800 ${u?"scrollbar-show":"scrollbar-hide"}`,onScroll:m,children:r.map((w,b)=>{var N,R,S,U;return p.jsxs("div",{className:"mb-6 p-4 border dark:border-gray-700 rounded-lg",children:[p.jsxs("div",{className:"mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:[w.flightNumber," - ",w.route]}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["날짜: ",new Date(w.date).toLocaleDateString("ko-KR")]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:`p-3 rounded-lg border-2 ${(N=o.find(P=>P.flightId===w.flightId))!=null&&N.useLocal?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-400",children:"로컬 데이터"}),p.jsx("input",{type:"radio",name:`conflict-${w.flightId}`,checked:(R=o.find(P=>P.flightId===w.flightId))==null?void 0:R.useLocal,onChange:()=>y(w.flightId,!0),className:"text-blue-600 focus:ring-blue-500"})]}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-800 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"상태:"})," ",_(w.localData.status)]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"최종 수정:"}),p.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:T(w.localData.lastModified)})]})]})]}),p.jsxs("div",{className:`p-3 rounded-lg border-2 ${(S=o.find(P=>P.flightId===w.flightId))!=null&&S.useLocal?"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50":"border-green-500 bg-green-50 dark:bg-green-900/20"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h4",{className:"font-semibold text-green-700 dark:text-green-400",children:"서버 데이터"}),p.jsx("input",{type:"radio",name:`conflict-${w.flightId}`,checked:!((U=o.find(P=>P.flightId===w.flightId))!=null&&U.useLocal),onChange:()=>y(w.flightId,!1),className:"text-green-600 focus:ring-green-500"})]}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-800 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"상태:"})," ",_(w.serverData.status)]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:"최종 수정:"}),p.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:T(w.serverData.lastModified)})]})]})]})]}),p.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/50 p-3 rounded-lg",children:[p.jsx("h5",{className:"font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"주요 차이점:"}),p.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-200 space-y-1",children:[w.localData.status.departed!==w.serverData.status.departed&&p.jsxs("li",{children:["• 이륙 상태: 로컬(",w.localData.status.departed?"완료":"대기",") vs 서버(",w.serverData.status.departed?"완료":"대기",")"]}),w.localData.status.landed!==w.serverData.status.landed&&p.jsxs("li",{children:["• 착륙 상태: 로컬(",w.localData.status.landed?"완료":"대기",") vs 서버(",w.serverData.status.landed?"완료":"대기",")"]})]})]})]},w.flightId)})}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 flex justify-end gap-3 flex-shrink-0",children:[p.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-500 rounded hover:bg-gray-100 dark:hover:bg-gray-600",children:"취소"}),p.jsxs("button",{onClick:v,className:"px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:["업데이트 (",r.length,"개)"]})]})]})}):null},uD=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw zc(e)},zc=function(t){return new Error("Firebase Database ("+JT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},fD=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[r++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[r++],c=t[r++],u=t[r++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=t[r++],c=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,u=c?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|h>>6,T=h&63;d||(T=64,c||(v=64)),n.push(r[m],r[y],r[v],r[T])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const o=r[t.charAt(a++)],u=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const y=a<t.length?r[t.charAt(a)]:64;if(++a,o==null||u==null||h==null||y==null)throw new dD;const v=o<<2|u>>4;if(n.push(v),h!==64){const T=u<<4&240|h>>2;if(n.push(T),y!==64){const _=h<<6&192|y;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tE=function(t){const e=eE(t);return I1.encodeByteArray(e,!0)},Vf=function(t){return tE(t).replace(/\./g,"")},Gf=function(t){try{return I1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){return rE(void 0,t)}function rE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!gD(r)||(t[r]=rE(t[r],e[r]));return t}function gD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>mD().__FIREBASE_DEFAULTS__,xD=()=>{if(typeof process>"u"||typeof i_>"u")return;const t=i_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gf(t[1]);return e&&JSON.parse(e)},R1=()=>{try{return uD()||pD()||xD()||yD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nE=t=>{var e,r;return(r=(e=R1())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},vD=t=>{const e=nE(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},aE=()=>{var t;return(t=R1())==null?void 0:t.config},sE=t=>{var e;return(e=R1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vf(JSON.stringify(r)),Vf(JSON.stringify(c)),""].join(".")}const cu={};function wD(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function TD(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let o_=!1;function oE(t,e){if(typeof window>"u"||typeof document>"u"||!Vc(window.location.host)||cu[t]===e||cu[t]||o_)return;cu[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=wD().prod.length>0;function c(){const v=document.getElementById(n);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{o_=!0,c()},v}function m(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=TD(n),T=r("text"),_=document.getElementById(T)||document.createElement("span"),w=r("learnmore"),b=document.getElementById(w)||document.createElement("a"),N=r("preprendIcon"),R=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const S=v.element;u(S),m(b,w);const U=h();d(R,N),S.append(R,_,b,U),document.body.appendChild(S)}o?(_.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function ED(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SD(){return JT.NODE_ADMIN===!0}function uE(){try{return typeof indexedDB=="object"}catch{return!1}}function fE(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(r){e(r)}})}function AD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FirebaseError";class es extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=kD,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?CD(o,n):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new es(a,u,n)}}function CD(t,e){return t.replace(ND,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const ND=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return JSON.parse(t)}function Hr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(t){let e={},r={},n={},a="";try{const o=t.split(".");e=Au(Gf(o[0])||""),r=Au(Gf(o[1])||""),a=o[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:a}},DD=function(t){const e=dE(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},ID=function(t){const e=dE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yf(t,e,r){const n={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=e.call(r,t[a],a,t));return n}function Ti(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const o=t[a],c=e[a];if(c_(o)&&c_(c)){if(!Ti(o,c))return!1}else if(o!==c)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function c_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)n[y]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)n[y]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let y=16;y<80;y++){const v=n[y-3]^n[y-8]^n[y-14]^n[y-16];n[y]=(v<<1|v>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],c=this.chain_[2],u=this.chain_[3],d=this.chain_[4],h,m;for(let y=0;y<80;y++){y<40?y<20?(h=u^o&(c^u),m=1518500249):(h=o^c^u,m=1859775393):y<60?(h=o&c|u&(o|c),m=2400959708):(h=o^c^u,m=3395469782);const v=(a<<5|a>>>27)+h+d+m+n[y]&4294967295;d=u,u=c,c=(o<<30|o>>>2)&4294967295,o=a,a=v}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let a=0;const o=this.buf_;let c=this.inbuf_;for(;a<r;){if(c===0)for(;a<=n;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<r;)if(o[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}else for(;a<r;)if(o[c]=e[a],++c,++a,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)e[n]=this.chain_[a]>>o&255,++n;return e}}function OD(t,e){const r=new MD(t,e);return r.subscribe.bind(r)}class MD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");FD(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=hm),a.error===void 0&&(a.error=hm),a.complete===void 0&&(a.complete=hm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function hm(){}function Dd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);if(a>=55296&&a<=56319){const o=a-55296;n++,Fe(n<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(n)-56320;a=65536+(o<<10)+c}a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):a<65536?(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Id=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,UD=2,BD=14400*1e3,jD=.5;function l_(t,e=PD,r=UD){const n=e*Math.pow(r,t),a=Math.round(jD*n*(Math.random()-.5)*2);return Math.min(BD,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $u;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VD(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&c.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const o=this.instances.get(n);return o&&e(o,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zD(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zD(t){return t===Qi?void 0:t}function VD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new HD(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nr||(nr={}));const YD={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},WD=nr.INFO,$D={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},KD=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=$D[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=WD,this._logHandler=KD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...e),this._logHandler(this,nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...e),this._logHandler(this,nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nr.INFO,...e),this._logHandler(this,nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nr.WARN,...e),this._logHandler(this,nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...e),this._logHandler(this,nr.ERROR,...e)}}const qD=(t,e)=>e.some(r=>t instanceof r);let u_,f_;function XD(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QD(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Ym=new WeakMap,gE=new WeakMap,gm=new WeakMap,M1=new WeakMap;function ZD(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{r(pi(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&hE.set(r,t)}).catch(()=>{}),M1.set(e,t),e}function JD(t){if(Ym.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Ym.set(t,e)}let Wm={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gE.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return pi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eI(t){Wm=t(Wm)}function tI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(mm(this),e,...r);return gE.set(n,e.sort?e.sort():[e]),pi(n)}:QD().includes(t)?function(...e){return t.apply(mm(this),e),pi(hE.get(this))}:function(...e){return pi(t.apply(mm(this),e))}}function rI(t){return typeof t=="function"?tI(t):(t instanceof IDBTransaction&&JD(t),qD(t,XD())?new Proxy(t,Wm):t)}function pi(t){if(t instanceof IDBRequest)return ZD(t);if(gm.has(t))return gm.get(t);const e=rI(t);return e!==t&&(gm.set(t,e),M1.set(e,t)),e}const mm=t=>M1.get(t);function mE(t,e,{blocked:r,upgrade:n,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),u=pi(c);return n&&c.addEventListener("upgradeneeded",d=>{n(pi(c.result),d.oldVersion,d.newVersion,pi(c.transaction),d)}),r&&c.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const nI=["get","getKey","getAll","getAllKeys","count"],aI=["put","add","delete","clear"],pm=new Map;function d_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=aI.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||nI.includes(r)))return;const o=async function(c,...u){const d=this.transaction(c,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),a&&d.done]))[0]};return pm.set(e,o),o}eI(t=>({...t,get:(e,r,n)=>d_(e,r)||t.get(e,r,n),has:(e,r)=>!!d_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iI(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function iI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",h_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Rd("@firebase/app"),oI="@firebase/app-compat",cI="@firebase/analytics-compat",lI="@firebase/analytics",uI="@firebase/app-check-compat",fI="@firebase/app-check",dI="@firebase/auth",hI="@firebase/auth-compat",gI="@firebase/database",mI="@firebase/data-connect",pI="@firebase/database-compat",xI="@firebase/functions",yI="@firebase/functions-compat",vI="@firebase/installations",_I="@firebase/installations-compat",wI="@firebase/messaging",TI="@firebase/messaging-compat",EI="@firebase/performance",bI="@firebase/performance-compat",SI="@firebase/remote-config",AI="@firebase/remote-config-compat",kI="@firebase/storage",CI="@firebase/storage-compat",NI="@firebase/firestore",DI="@firebase/ai",II="@firebase/firestore-compat",RI="firebase",OI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",MI={[$m]:"fire-core",[oI]:"fire-core-compat",[lI]:"fire-analytics",[cI]:"fire-analytics-compat",[fI]:"fire-app-check",[uI]:"fire-app-check-compat",[dI]:"fire-auth",[hI]:"fire-auth-compat",[gI]:"fire-rtdb",[mI]:"fire-data-connect",[pI]:"fire-rtdb-compat",[xI]:"fire-fn",[yI]:"fire-fn-compat",[vI]:"fire-iid",[_I]:"fire-iid-compat",[wI]:"fire-fcm",[TI]:"fire-fcm-compat",[EI]:"fire-perf",[bI]:"fire-perf-compat",[SI]:"fire-rc",[AI]:"fire-rc-compat",[kI]:"fire-gcs",[CI]:"fire-gcs-compat",[NI]:"fire-fst",[II]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[RI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Map,FI=new Map,qm=new Map;function g_(t,e){try{t.container.addComponent(e)}catch(r){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Qa(t){const e=t.name;if(qm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const r of Wf.values())g_(r,t);for(const r of FI.values())g_(r,t);return!0}function _o(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ga(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new vo("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=OI;function pE(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Km,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw xi.create("bad-app-name",{appName:String(a)});if(r||(r=aE()),!r)throw xi.create("no-options");const o=Wf.get(a);if(o){if(Ti(r,o.options)&&Ti(n,o.config))return o;throw xi.create("duplicate-app",{appName:a})}const c=new GD(a);for(const d of qm.values())c.addComponent(d);const u=new PI(r,n,c);return Wf.set(a,u),u}function F1(t=Km){const e=Wf.get(t);if(!e&&t===Km&&aE())return pE();if(!e)throw xi.create("no-app",{appName:t});return e}function xa(t,e,r){let n=MI[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${n}" with version "${e}":`];a&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Qa(new Ma(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebase-heartbeat-database",BI=1,ku="firebase-heartbeat-store";let xm=null;function xE(){return xm||(xm=mE(UI,BI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(r){console.warn(r)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),xm}async function jI(t){try{const r=(await xE()).transaction(ku),n=await r.objectStore(ku).get(yE(t));return await r.done,n}catch(e){if(e instanceof es)Ns.warn(e.message);else{const r=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(r.message)}}}async function m_(t,e){try{const n=(await xE()).transaction(ku,"readwrite");await n.objectStore(ku).put(e,yE(t)),await n.done}catch(r){if(r instanceof es)Ns.warn(r.message);else{const n=xi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ns.warn(n.message)}}}function yE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1024,zI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new YI(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=p_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>zI){const c=WI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ns.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=p_(),{heartbeatsToSend:n,unsentEntries:a}=GI(this._heartbeatsCache.heartbeats),o=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return Ns.warn(r),""}}}function p_(){return new Date().toISOString().substring(0,10)}function GI(t,e=HI){const r=[];let n=t.slice();for(const a of t){const o=r.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),x_(r)>e){o.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),x_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class YI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uE()?fE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await jI(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function x_(t){return Vf(JSON.stringify({version:2,heartbeats:t})).length}function WI(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){Qa(new Ma("platform-logger",e=>new sI(e),"PRIVATE")),Qa(new Ma("heartbeat",e=>new VI(e),"PRIVATE")),xa($m,h_,t),xa($m,h_,"esm2020"),xa("fire-js","")}$I("");var y_={};const v_="@firebase/database",__="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE="";function KI(t){vE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Hr(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:Au(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qI(e)}}catch{}return new XI},eo=_E("localStorage"),QI=_E("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Rd("@firebase/database"),ZI=(function(){let t=1;return function(){return t++}})(),wE=function(t){const e=LD(t),r=new RD;r.update(e);const n=r.digest();return I1.encodeByteArray(n)},Ku=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=Ku.apply(null,n):typeof n=="object"?e+=Hr(n):e+=n,e+=" "}return e};let lu=null,w_=!0;const JI=function(t,e){Fe(!0,"Can't turn on custom loggers persistently."),Tc.logLevel=nr.VERBOSE,lu=Tc.log.bind(Tc)},nn=function(...t){if(w_===!0&&(w_=!1,lu===null&&QI.get("logging_enabled")===!0&&JI()),lu){const e=Ku.apply(null,t);lu(e)}},qu=function(t){return function(...e){nn(t,...e)}},Xm=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ku(...t);Tc.error(e)},Ds=function(...t){const e=`FIREBASE FATAL ERROR: ${Ku(...t)}`;throw Tc.error(e),new Error(e)},Sn=function(...t){const e="FIREBASE WARNING: "+Ku(...t);Tc.warn(e)},eR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},L1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tR=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Oc="[MIN_NAME]",so="[MAX_NAME]",wo=function(t,e){if(t===e)return 0;if(t===Oc||e===so)return-1;if(e===Oc||t===so)return 1;{const r=T_(t),n=T_(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},rR=function(t,e){return t===e?0:t<e?-1:1},Ql=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Hr(e))},P1=function(t){if(typeof t!="object"||t===null)return Hr(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Hr(e[n]),r+=":",r+=P1(t[e[n]]);return r+="}",r},TE=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let a=0;a<r;a+=e)a+e>r?n.push(t.substring(a,r)):n.push(t.substring(a,a+e));return n};function on(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const EE=function(t){Fe(!L1(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let a,o,c,u,d;t===0?(o=0,c=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),n),o=u+n,c=Math.round(t*Math.pow(2,r-u)-Math.pow(2,r))):(o=0,c=Math.round(t/Math.pow(2,1-n-r))));const h=[];for(d=r;d;d-=1)h.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(a?1:0),h.reverse();const m=h.join("");let y="";for(d=0;d<64;d+=8){let v=parseInt(m.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},nR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sR(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const iR=new RegExp("^-?(0*)\\d{1,10}$"),oR=-2147483648,cR=2147483647,T_=function(t){if(iR.test(t)){const e=Number(t);if(e>=oR&&e<=cR)return e}return null},Wc=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Sn("Exception was thrown by user callback.",r),e},Math.floor(0))}},lR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uu=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,ga(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)==null||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Sn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sn(e)}}class Mf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="5",bE="v",SE="s",AE="r",kE="f",CE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NE="ls",DE="p",Qm="ac",IE="websocket",RE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,r,n,a,o=!1,c="",u=!1,d=!1,h=null){this.secure=r,this.namespace=n,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&eo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function dR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ME(t,e,r){Fe(typeof e=="string","typeof type must == string"),Fe(typeof r=="object","typeof params must == object");let n;if(e===IE)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RE)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dR(t)&&(r.ns=t.namespace);const a=[];return on(r,(o,c)=>{a.push(o+"="+c)}),n+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.counters_={}}incrementCounter(e,r=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return hD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym={},vm={};function B1(t){const e=t.toString();return ym[e]||(ym[e]=new hR),ym[e]}function gR(t,e){const r=t.toString();return vm[r]||(vm[r]=e()),vm[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<n.length;++a)n[a]&&Wc(()=>{this.onMessage_(n[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="start",pR="close",xR="pLPCommand",yR="pRTLPCB",FE="id",LE="pw",PE="ser",vR="cb",_R="seg",wR="ts",TR="d",ER="dframe",UE=1870,BE=30,bR=UE-BE,SR=25e3,AR=3e4;class yc{constructor(e,r,n,a,o,c,u){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=a,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qu(e),this.stats_=B1(r),this.urlFn=d=>(this.appCheckToken&&(d[Qm]=this.appCheckToken),ME(r,RE,d))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new mR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AR)),tR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j1((...o)=>{const[c,u,d,h,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===E_)this.id=u,this.password=d;else if(c===pR)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[E_]="t",n[PE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[vR]=this.scriptTagHolder.uniqueCallbackIdentifier),n[bE]=U1,this.transportSessionId&&(n[SE]=this.transportSessionId),this.lastSessionId&&(n[NE]=this.lastSessionId),this.applicationId&&(n[DE]=this.applicationId),this.appCheckToken&&(n[Qm]=this.appCheckToken),typeof location<"u"&&location.hostname&&CE.test(location.hostname)&&(n[AE]=kE);const a=this.urlFn(n);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yc.forceAllow_=!0}static forceDisallow(){yc.forceDisallow_=!0}static isAvailable(){return yc.forceAllow_?!0:!yc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nR()&&!aR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Hr(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=tE(r),a=TE(n,bR);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[ER]="t",n[FE]=e,n[LE]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Hr(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class j1{constructor(e,r,n,a){this.onDisconnect=n,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZI(),window[xR+this.uniqueCallbackIdentifier]=e,window[yR+this.uniqueCallbackIdentifier]=r,this.myIFrame=j1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){nn("frame writing exception"),u.stack&&nn(u.stack),nn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nn("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FE]=this.myID,e[LE]=this.myPW,e[PE]=this.currentSerial;let r=this.urlFn(e),n="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BE+n.length<=UE;){const c=this.pendingSegs.shift();n=n+"&"+_R+a+"="+c.seg+"&"+wR+a+"="+c.ts+"&"+TR+a+"="+c.d,a++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(n,Math.floor(SR)),o=()=>{clearTimeout(a),n()};this.addTag(e,o)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const a=n.readyState;(!a||a==="loaded"||a==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{nn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=16384,CR=45e3;let $f=null;typeof MozWebSocket<"u"?$f=MozWebSocket:typeof WebSocket<"u"&&($f=WebSocket);class Aa{constructor(e,r,n,a,o,c,u){this.connId=e,this.applicationId=n,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qu(this.connId),this.stats_=B1(r),this.connURL=Aa.connectionURL_(r,c,u,a,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,a,o){const c={};return c[bE]=U1,typeof location<"u"&&location.hostname&&CE.test(location.hostname)&&(c[AE]=kE),r&&(c[SE]=r),n&&(c[NE]=n),a&&(c[Qm]=a),o&&(c[DE]=o),ME(e,IE,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eo.set("previous_websocket_failure",!0);try{let n;SD(),this.mySock=new $f(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const a=n.message||n.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const a=n.message||n.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Aa.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&$f!==null&&!Aa.forceDisallow_}static previouslyFailed(){return eo.isInMemoryStorage||eo.get("previous_websocket_failure")===!0}markConnectionHealthy(){eo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=Au(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Hr(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=TE(r,kR);n.length>1&&this.sendString_(String(n.length));for(let a=0;a<n.length;a++)this.sendString_(n[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CR))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Aa.responsesRequiredToBeHealthy=2;Aa.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static get ALL_TRANSPORTS(){return[yc,Aa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Aa&&Aa.isAvailable();let n=r&&!Aa.previouslyFailed();if(e.webSocketOnly&&(r||Sn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Aa];else{const a=this.transports_=[];for(const o of Cu.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);Cu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=6e4,DR=5e3,IR=10*1024,RR=100*1024,_m="t",b_="d",OR="s",S_="r",MR="e",A_="o",k_="a",C_="n",N_="p",FR="h";class LR{constructor(e,r,n,a,o,c,u,d,h,m){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qu("c:"+this.id+":"),this.transportManager_=new Cu(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_m in e){const r=e[_m];r===k_?this.upgradeIfSecondaryHealthy_():r===S_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===A_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Ql("t",e),n=Ql("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:N_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:k_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Ql("t",e),n=Ql("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Ql(_m,e);if(b_ in e){const n=e[b_];if(r===FR){const a={...n};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===C_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===OR?this.onConnectionShutdown_(n):r===S_?this.onReset_(n):r===MR?Xm("Server Error: "+n):r===A_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xm("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),U1!==n&&Sn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:N_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{put(e,r,n,a){}merge(e,r,n,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let a=0;a<n.length;a++)n[a].callback.apply(n[a].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const a=this.getInitialEvent(e);a&&r.apply(n,a)}off(e,r,n){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let o=0;o<a.length;o++)if(a[o].callback===r&&(!n||n===a[o].context)){a.splice(o,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends HE{static getInstance(){return new Kf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!O1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=32,I_=768;class ar{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[n]=this.pieces_[a],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function zt(){return new ar("")}function Ct(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ei(t){return t.pieces_.length-t.pieceNum_}function lr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ar(t.pieces_,e)}function H1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PR(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function Nu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new ar(e,0)}function vr(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof ar)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let a=0;a<n.length;a++)n[a].length>0&&r.push(n[a])}return new ar(r,0)}function Rt(t){return t.pieceNum_>=t.pieces_.length}function En(t,e){const r=Ct(t),n=Ct(e);if(r===null)return e;if(r===n)return En(lr(t),lr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UR(t,e){const r=Nu(t,0),n=Nu(e,0);for(let a=0;a<r.length&&a<n.length;a++){const o=wo(r[a],n[a]);if(o!==0)return o}return r.length===n.length?0:r.length<n.length?-1:1}function z1(t,e){if(Ei(t)!==Ei(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function ma(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(Ei(t)>Ei(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class BR{constructor(e,r){this.errorPrefix_=r,this.parts_=Nu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Id(this.parts_[n]);VE(this)}}function jR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Id(e),VE(t)}function HR(t){const e=t.parts_.pop();t.byteLength_-=Id(e),t.parts_.length>0&&(t.byteLength_-=1)}function VE(t){if(t.byteLength_>I_)throw new Error(t.errorPrefix_+"has a key path longer than "+I_+" bytes ("+t.byteLength_+").");if(t.parts_.length>D_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D_+") or object contains a cycle "+Zi(t))}function Zi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends HE{static getInstance(){return new V1}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=1e3,zR=300*1e3,R_=30*1e3,VR=1.3,GR=3e4,YR="server_kill",O_=3;class Ss extends jE{constructor(e,r,n,a,o,c,u,d){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=Ss.nextPersistentConnectionId_++,this.log_=qu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zl,this.maxReconnectDelay_=zR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");V1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Kf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const a=++this.requestNumber_,o={r:a,a:e,b:r};this.log_(Hr(o)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[a]=n)}get(e){this.initConnection_();const r=new $u,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;c.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(e,r,n,a){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:a,hashFn:r,query:e,tag:n};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+n+" for "+a);const o={p:n},c="q";e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,u=>{const d=u.d,h=u.s;Ss.warnOnListenWarnings_(d,r),(this.listens.get(n)&&this.listens.get(n).get(a))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(n,a),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&ts(e,"w")){const n=Rc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Sn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ID(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=R_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=DD(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,a=>{const o=a.s,c=a.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+a),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,a)&&this.connected_&&this.sendUnlisten_(n,a,e._queryObject,r)}sendUnlisten_(e,r,n,a){this.log_("Unlisten on "+e+" for "+r);const o={p:e},c="n";a&&(o.q=n,o.t=a),this.sendRequest(c,o)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,a){const o={p:r,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,r,n,a){this.putInternal("p",e,r,n,a)}merge(e,r,n,a){this.putInternal("m",e,r,n,a)}putInternal(e,r,n,a,o){this.initConnection_();const c={p:r,d:n};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const o=n.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Hr(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):Xm("Unrecognized action received from server: "+Hr(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>GR&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Ss.nextConnectionId_++,o=this.lastSessionId;let c=!1,u=null;const d=function(){u?u.close():(c=!0,n())},h=function(y){Fe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(y)};this.realtime_={close:d,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);c?nn("getToken() completed but was canceled"):(nn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,u=new LR(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,T=>{Sn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(YR)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Sn(y),d())}}}interrupt(e){nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gm(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(o=>P1(o)).join("$"):n="default";const a=this.removeListen_(e,n);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,r){const n=new ar(e).toString();let a;if(this.listens.has(n)){const o=this.listens.get(n);a=o.get(r),o.delete(r),o.size===0&&this.listens.delete(n)}else a=void 0;return a}onAuthRevoked_(e,r){nn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=O_&&(this.reconnectDelay_=R_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){nn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=O_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+vE.replace(/\./g,"-")]=1,O1()?e["framework.cordova"]=1:lE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Kf.getInstance().currentlyOnline();return Gm(this.interruptReasons_)&&e}}Ss.nextPersistentConnectionId_=0;Ss.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Nt(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new Nt(Oc,e),a=new Nt(Oc,r);return this.compare(n,a)!==0}minPost(){return Nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;class GE extends Od{static get __EMPTY_NODE(){return wf}static set __EMPTY_NODE(e){wf=e}compare(e,r){return wo(e.name,r.name)}isDefinedOn(e){throw zc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(so,wf)}makePost(e,r){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Nt(e,wf)}toString(){return".key"}}const Ec=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r,n,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=r?n(e.key,r):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qr{constructor(e,r,n,a,o){this.key=e,this.value=r,this.color=n??qr.RED,this.left=a??Ln.EMPTY_NODE,this.right=o??Ln.EMPTY_NODE}copy(e,r,n,a,o){return new qr(e??this.key,r??this.value,n??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const o=n(e,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(e,r,n),null):o===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,a;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return Ln.EMPTY_NODE;a=n.right.min_(),n=n.copy(a.key,a.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qr.RED=!0;qr.BLACK=!1;class WR{copy(e,r,n,a,o){return this}insert(e,r,n){return new qr(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ln{constructor(e,r=Ln.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Ln(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,qr.BLACK,null,null))}remove(e){return new Ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qr.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,a=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return a?a.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(a=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Tf(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Tf(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Tf(this.root_,null,this.comparator_,!0,e)}}Ln.EMPTY_NODE=new WR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){return wo(t.name,e.name)}function G1(t,e){return wo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm;function KR(t){Zm=t}const YE=function(t){return typeof t=="number"?"number:"+EE(t):"string:"+t},WE=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ts(e,".sv"),"Priority must be a string or number.")}else Fe(t===Zm||t.isEmpty(),"priority of unexpected type.");Fe(t===Zm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_;class $r{static set __childrenNodeConstructor(e){M_=e}static get __childrenNodeConstructor(){return M_}constructor(e,r=$r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $r(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:Ct(e)===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:$r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=Ct(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(Fe(n!==".priority"||Ei(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,$r.__childrenNodeConstructor.EMPTY_NODE.updateChild(lr(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YE(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=EE(this.value_):e+=this.value_,this.lazyHash_=wE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $r.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,a=$r.VALUE_TYPE_ORDER.indexOf(r),o=$r.VALUE_TYPE_ORDER.indexOf(n);return Fe(a>=0,"Unknown leaf type: "+r),Fe(o>=0,"Unknown leaf type: "+n),a===o?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}$r.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E,KE;function qR(t){$E=t}function XR(t){KE=t}class QR extends Od{compare(e,r){const n=e.node.getPriority(),a=r.node.getPriority(),o=n.compareTo(a);return o===0?wo(e.name,r.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(so,new $r("[PRIORITY-POST]",KE))}makePost(e,r){const n=$E(e);return new Nt(r,new $r("[PRIORITY-POST]",n))}toString(){return".priority"}}const _r=new QR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=Math.log(2);class JR{constructor(e){const r=o=>parseInt(Math.log(o)/ZR,10),n=o=>parseInt(Array(o+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const a=n(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qf=function(t,e,r,n){t.sort(e);const a=function(d,h){const m=h-d;let y,v;if(m===0)return null;if(m===1)return y=t[d],v=r?r(y):y,new qr(v,y.node,qr.BLACK,null,null);{const T=parseInt(m/2,10)+d,_=a(d,T),w=a(T+1,h);return y=t[T],v=r?r(y):y,new qr(v,y.node,qr.BLACK,_,w)}},o=function(d){let h=null,m=null,y=t.length;const v=function(_,w){const b=y-_,N=y;y-=_;const R=a(b+1,N),S=t[b],U=r?r(S):S;T(new qr(U,S.node,w,null,R))},T=function(_){h?(h.left=_,h=_):(m=_,h=_)};for(let _=0;_<d.count;++_){const w=d.nextBitIsOne(),b=Math.pow(2,d.count-(_+1));w?v(b,qr.BLACK):(v(b,qr.BLACK),v(b,qr.RED))}return m},c=new JR(t.length),u=o(c);return new Ln(n||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm;const gc={};class ws{static get Default(){return Fe(gc&&_r,"ChildrenNode.ts has not been loaded"),wm=wm||new ws({".priority":gc},{".priority":_r}),wm}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=Rc(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Ln?r:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,r){Fe(e!==Ec,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let a=!1;const o=r.getIterator(Nt.Wrap);let c=o.getNext();for(;c;)a=a||e.isDefinedOn(c.node),n.push(c),c=o.getNext();let u;a?u=qf(n,e.getCompare()):u=gc;const d=e.toString(),h={...this.indexSet_};h[d]=e;const m={...this.indexes_};return m[d]=u,new ws(m,h)}addToIndexes(e,r){const n=Yf(this.indexes_,(a,o)=>{const c=Rc(this.indexSet_,o);if(Fe(c,"Missing index implementation for "+o),a===gc)if(c.isDefinedOn(e.node)){const u=[],d=r.getIterator(Nt.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&u.push(h),h=d.getNext();return u.push(e),qf(u,c.getCompare())}else return gc;else{const u=r.get(e.name);let d=a;return u&&(d=d.remove(new Nt(e.name,u))),d.insert(e,e.node)}});return new ws(n,this.indexSet_)}removeFromIndexes(e,r){const n=Yf(this.indexes_,a=>{if(a===gc)return a;{const o=r.get(e.name);return o?a.remove(new Nt(e.name,o)):a}});return new ws(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;class it{static get EMPTY_NODE(){return Jl||(Jl=new it(new Ln(G1),null,ws.Default))}constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&WE(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jl}updatePriority(e){return this.children_.isEmpty()?this:new it(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Jl:r}}getChild(e){const r=Ct(e);return r===null?this:this.getImmediateChild(r).getChild(lr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(Fe(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new Nt(e,r);let a,o;r.isEmpty()?(a=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(a=this.children_.insert(e,r),o=this.indexMap_.addToIndexes(n,this.children_));const c=a.isEmpty()?Jl:this.priorityNode_;return new it(a,c,o)}}updateChild(e,r){const n=Ct(e);if(n===null)return r;{Fe(Ct(e)!==".priority"||Ei(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(n).updateChild(lr(e),r);return this.updateImmediateChild(n,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,a=0,o=!0;if(this.forEachChild(_r,(c,u)=>{r[c]=u.val(e),n++,o&&it.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):o=!1}),!e&&o&&a<2*n){const c=[];for(const u in r)c[u]=r[u];return c}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YE(this.getPriority().val())+":"),this.forEachChild(_r,(r,n)=>{const a=n.hash();a!==""&&(e+=":"+r+":"+a)}),this.lazyHash_=e===""?"":wE(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const a=this.resolveIndex_(n);if(a){const o=a.getPredecessorKey(new Nt(e,r));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Nt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Nt(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Nt.Wrap);let o=a.peek();for(;o!=null&&r.compare(o,e)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let o=a.peek();for(;o!=null&&r.compare(o,e)>0;)a.getNext(),o=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xu?-1:0}withIndex(e){if(e===Ec||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new it(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ec||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(_r),a=r.getIterator(_r);let o=n.getNext(),c=a.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=n.getNext(),c=a.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ec?null:this.indexMap_.get(e.toString())}}it.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eO extends it{constructor(){super(new Ln(G1),it.EMPTY_NODE,ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}}const Xu=new eO;Object.defineProperties(Nt,{MIN:{value:new Nt(Oc,it.EMPTY_NODE)},MAX:{value:new Nt(so,Xu)}});GE.__EMPTY_NODE=it.EMPTY_NODE;$r.__childrenNodeConstructor=it;KR(Xu);XR(Xu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=!0;function jr(t,e=null){if(t===null)return it.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new $r(r,jr(e))}if(!(t instanceof Array)&&tO){const r=[];let n=!1;if(on(t,(c,u)=>{if(c.substring(0,1)!=="."){const d=jr(u);d.isEmpty()||(n=n||!d.getPriority().isEmpty(),r.push(new Nt(c,d)))}}),r.length===0)return it.EMPTY_NODE;const o=qf(r,$R,c=>c.name,G1);if(n){const c=qf(r,_r.getCompare());return new it(o,jr(e),new ws({".priority":c},{".priority":_r}))}else return new it(o,jr(e),ws.Default)}else{let r=it.EMPTY_NODE;return on(t,(n,a)=>{if(ts(t,n)&&n.substring(0,1)!=="."){const o=jr(a);(o.isLeafNode()||!o.isEmpty())&&(r=r.updateImmediateChild(n,o))}}),r.updatePriority(jr(e))}}qR(jr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends Od{constructor(e){super(),this.indexPath_=e,Fe(!Rt(e)&&Ct(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),a=this.extractChild(r.node),o=n.compareTo(a);return o===0?wo(e.name,r.name):o}makePost(e,r){const n=jr(e),a=it.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nt(r,a)}maxPost(){const e=it.EMPTY_NODE.updateChild(this.indexPath_,Xu);return new Nt(so,e)}toString(){return Nu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends Od{compare(e,r){const n=e.node.compareTo(r.node);return n===0?wo(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(e,r){const n=jr(e);return new Nt(r,n)}toString(){return".value"}}const aO=new nO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){return{type:"value",snapshotNode:t}}function Mc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Du(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Iu(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function sO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.index_=e}updateChild(e,r,n,a,o,c){Fe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(r);return u.getChild(a).equals(n.getChild(a))&&u.isEmpty()===n.isEmpty()||(c!=null&&(n.isEmpty()?e.hasChild(r)?c.trackChildChange(Du(r,u)):Fe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?c.trackChildChange(Mc(r,n)):c.trackChildChange(Iu(r,n,u))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(_r,(a,o)=>{r.hasChild(a)||n.trackChildChange(Du(a,o))}),r.isLeafNode()||r.forEachChild(_r,(a,o)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(o)||n.trackChildChange(Iu(a,o,c))}else n.trackChildChange(Mc(a,o))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.indexedFilter_=new Y1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ru.getStartPost_(e),this.endPost_=Ru.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,a,o,c){return this.matches(new Nt(r,n))||(n=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,a,o,c)}updateFullNode(e,r,n){r.isLeafNode()&&(r=it.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(it.EMPTY_NODE);const o=this;return r.forEachChild(_r,(c,u)=>{o.matches(new Nt(c,u))||(a=a.updateImmediateChild(c,it.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Ru(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,a,o,c){return this.rangedFilter_.matches(new Nt(r,n))||(n=it.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,a,o,c):this.fullLimitUpdateChild_(e,r,n,o,c)}updateFullNode(e,r,n){let a;if(r.isLeafNode()||r.isEmpty())a=it.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=it.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))a=a.updateImmediateChild(u.name,u.node),c++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(it.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let c=0;for(;o.hasNext();){const u=o.getNext();c<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?c++:a=a.updateImmediateChild(u.name,it.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,a,o){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,T)=>y(T,v)}else c=this.index_.getCompare();const u=e;Fe(u.numChildren()===this.limit_,"");const d=new Nt(r,n),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(u.hasChild(r)){const y=u.getImmediateChild(r);let v=a.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===r||u.hasChild(v.name));)v=a.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:c(v,d);if(m&&!n.isEmpty()&&T>=0)return o!=null&&o.trackChildChange(Iu(r,n,y)),u.updateImmediateChild(r,n);{o!=null&&o.trackChildChange(Du(r,y));const w=u.updateImmediateChild(r,it.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(Mc(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return n.isEmpty()?e:m&&c(h,d)>=0?(o!=null&&(o.trackChildChange(Du(h.name,h.node)),o.trackChildChange(Mc(r,n))),u.updateImmediateChild(r,n).updateImmediateChild(h.name,it.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_r}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oc}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:so}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_r}copy(){const e=new W1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oO(t){return t.loadsAllData()?new Y1(t.getIndex()):t.hasLimit()?new iO(t):new Ru(t)}function F_(t){const e={};if(t.isDefault())return e;let r;if(t.index_===_r?r="$priority":t.index_===aO?r="$value":t.index_===Ec?r="$key":(Fe(t.index_ instanceof rO,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Hr(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Hr(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Hr(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Hr(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Hr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function L_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==_r&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends jE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,n,a){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=a,this.log_=qu("p:rest:"),this.listens_={}}listen(e,r,n,a){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=Xf.getListenId_(e,n),u={};this.listens_[c]=u;const d=F_(e._queryParams);this.restRequest_(o+".json",d,(h,m)=>{let y=m;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(o,y,!1,n),Rc(this.listens_,c)===u){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",a(v,null)}})}unlisten(e,r){const n=Xf.getListenId_(e,r);delete this.listens_[n]}get(e){const r=F_(e._queryParams),n=e._path.toString(),a=new $u;return this.restRequest_(n+".json",r,(o,c)=>{let u=c;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(n,u,!1,null),a.resolve(u)):a.reject(new Error(u))}),a.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(r.auth=a.accessToken),o&&o.token&&(r.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Gc(r);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=Au(u.responseText)}catch{Sn("Failed to parse JSON response for "+c+": "+u.responseText)}n(null,d)}else u.status!==401&&u.status!==404&&Sn("Got unsuccessful REST response for "+c+" Status: "+u.status),n(u.status);n=null}},u.open("GET",c,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){return{value:null,children:new Map}}function XE(t,e,r){if(Rt(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=Ct(e);t.children.has(n)||t.children.set(n,Qf());const a=t.children.get(n);e=lr(e),XE(a,e,r)}}function Jm(t,e,r){t.value!==null?r(e,t.value):lO(t,(n,a)=>{const o=new ar(e.toString()+"/"+n);Jm(a,o,r)})}function lO(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&on(this.last_,(n,a)=>{r[n]=r[n]-a}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=10*1e3,fO=30*1e3,dO=300*1e3;class hO{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new uO(e);const n=P_+(fO-P_)*Math.random();uu(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;on(e,(a,o)=>{o>0&&ts(this.statsToReport_,a)&&(r[a]=o,n=!0)}),n&&this.server_.reportStats(r),uu(this.reportStats_.bind(this),Math.floor(Math.random()*2*dO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ca||(Ca={}));function $1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function K1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function q1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=Ca.ACK_USER_WRITE,this.source=$1()}operationForChild(e){if(Rt(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ar(e));return new Zf(zt(),r,this.revert)}}else return Fe(Ct(this.path)===e,"operationForChild called for unrelated child."),new Zf(lr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,r){this.source=e,this.path=r,this.type=Ca.LISTEN_COMPLETE}operationForChild(e){return Rt(this.path)?new Ou(this.source,zt()):new Ou(this.source,lr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=Ca.OVERWRITE}operationForChild(e){return Rt(this.path)?new io(this.source,zt(),this.snap.getImmediateChild(e)):new io(this.source,lr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=Ca.MERGE}operationForChild(e){if(Rt(this.path)){const r=this.children.subtree(new ar(e));return r.isEmpty()?null:r.value?new io(this.source,zt(),r.value):new Fc(this.source,zt(),r)}else return Fe(Ct(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fc(this.source,lr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;const r=Ct(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mO(t,e,r,n){const a=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(sO(c.childName,c.snapshotNode))}),eu(t,a,"child_removed",e,n,r),eu(t,a,"child_added",e,n,r),eu(t,a,"child_moved",o,n,r),eu(t,a,"child_changed",e,n,r),eu(t,a,"value",e,n,r),a}function eu(t,e,r,n,a,o){const c=n.filter(u=>u.type===r);c.sort((u,d)=>xO(t,u,d)),c.forEach(u=>{const d=pO(t,u,o);a.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(d,t.query_))})})}function pO(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function xO(t,e,r){if(e.childName==null||r.childName==null)throw zc("Should only compare child_ events.");const n=new Nt(e.childName,e.snapshotNode),a=new Nt(r.childName,r.snapshotNode);return t.index_.compare(n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e){return{eventCache:t,serverCache:e}}function fu(t,e,r,n){return Md(new bi(e,r,n),t.serverCache)}function QE(t,e,r,n){return Md(t.eventCache,new bi(e,r,n))}function Jf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function oo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm;const yO=()=>(Tm||(Tm=new Ln(rR)),Tm);class cr{static fromObject(e){let r=new cr(null);return on(e,(n,a)=>{r=r.set(new ar(n),a)}),r}constructor(e,r=yO()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:zt(),value:this.value};if(Rt(e))return null;{const n=Ct(e),a=this.children.get(n);if(a!==null){const o=a.findRootMostMatchingPathAndValue(lr(e),r);return o!=null?{path:vr(new ar(n),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rt(e))return this;{const r=Ct(e),n=this.children.get(r);return n!==null?n.subtree(lr(e)):new cr(null)}}set(e,r){if(Rt(e))return new cr(r,this.children);{const n=Ct(e),o=(this.children.get(n)||new cr(null)).set(lr(e),r),c=this.children.insert(n,o);return new cr(this.value,c)}}remove(e){if(Rt(e))return this.children.isEmpty()?new cr(null):new cr(null,this.children);{const r=Ct(e),n=this.children.get(r);if(n){const a=n.remove(lr(e));let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),this.value===null&&o.isEmpty()?new cr(null):new cr(this.value,o)}else return this}}get(e){if(Rt(e))return this.value;{const r=Ct(e),n=this.children.get(r);return n?n.get(lr(e)):null}}setTree(e,r){if(Rt(e))return r;{const n=Ct(e),o=(this.children.get(n)||new cr(null)).setTree(lr(e),r);let c;return o.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,o),new cr(this.value,c)}}fold(e){return this.fold_(zt(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((a,o)=>{n[a]=o.fold_(vr(e,a),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,zt(),r)}findOnPath_(e,r,n){const a=this.value?n(r,this.value):!1;if(a)return a;if(Rt(e))return null;{const o=Ct(e),c=this.children.get(o);return c?c.findOnPath_(lr(e),vr(r,o),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,zt(),r)}foreachOnPath_(e,r,n){if(Rt(e))return this;{this.value&&n(r,this.value);const a=Ct(e),o=this.children.get(a);return o?o.foreachOnPath_(lr(e),vr(r,a),n):new cr(null)}}foreach(e){this.foreach_(zt(),e)}foreach_(e,r){this.children.inorderTraversal((n,a)=>{a.foreach_(vr(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.writeTree_=e}static empty(){return new Ra(new cr(null))}}function du(t,e,r){if(Rt(e))return new Ra(new cr(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const a=n.path;let o=n.value;const c=En(a,e);return o=o.updateChild(c,r),new Ra(t.writeTree_.set(a,o))}else{const a=new cr(r),o=t.writeTree_.setTree(e,a);return new Ra(o)}}}function e1(t,e,r){let n=t;return on(r,(a,o)=>{n=du(n,vr(e,a),o)}),n}function U_(t,e){if(Rt(e))return Ra.empty();{const r=t.writeTree_.setTree(e,new cr(null));return new Ra(r)}}function t1(t,e){return To(t,e)!=null}function To(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(En(r.path,e)):null}function B_(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(_r,(n,a)=>{e.push(new Nt(n,a))}):t.writeTree_.children.inorderTraversal((n,a)=>{a.value!=null&&e.push(new Nt(n,a.value))}),e}function yi(t,e){if(Rt(e))return t;{const r=To(t,e);return r!=null?new Ra(new cr(r)):new Ra(t.writeTree_.subtree(e))}}function r1(t){return t.writeTree_.isEmpty()}function Lc(t,e){return ZE(zt(),t.writeTree_,e)}function ZE(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((a,o)=>{a===".priority"?(Fe(o.value!==null,"Priority writes must always be leaf nodes"),n=o.value):r=ZE(vr(t,a),o,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(vr(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e){return rb(e,t)}function vO(t,e,r,n,a){Fe(n>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:a}),a&&(t.visibleWrites=du(t.visibleWrites,e,r)),t.lastWriteId=n}function _O(t,e,r,n){Fe(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=e1(t.visibleWrites,e,r),t.lastWriteId=n}function wO(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function TO(t,e){const r=t.allWrites.findIndex(u=>u.writeId===e);Fe(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let a=n.visible,o=!1,c=t.allWrites.length-1;for(;a&&c>=0;){const u=t.allWrites[c];u.visible&&(c>=r&&EO(u,n.path)?a=!1:ma(n.path,u.path)&&(o=!0)),c--}if(a){if(o)return bO(t),!0;if(n.snap)t.visibleWrites=U_(t.visibleWrites,n.path);else{const u=n.children;on(u,d=>{t.visibleWrites=U_(t.visibleWrites,vr(n.path,d))})}return!0}else return!1}function EO(t,e){if(t.snap)return ma(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&ma(vr(t.path,r),e))return!0;return!1}function bO(t){t.visibleWrites=JE(t.allWrites,SO,zt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function SO(t){return t.visible}function JE(t,e,r){let n=Ra.empty();for(let a=0;a<t.length;++a){const o=t[a];if(e(o)){const c=o.path;let u;if(o.snap)ma(r,c)?(u=En(r,c),n=du(n,u,o.snap)):ma(c,r)&&(u=En(c,r),n=du(n,zt(),o.snap.getChild(u)));else if(o.children){if(ma(r,c))u=En(r,c),n=e1(n,u,o.children);else if(ma(c,r))if(u=En(c,r),Rt(u))n=e1(n,zt(),o.children);else{const d=Rc(o.children,Ct(u));if(d){const h=d.getChild(lr(u));n=du(n,zt(),h)}}}else throw zc("WriteRecord should have .snap or .children")}}return n}function eb(t,e,r,n,a){if(!n&&!a){const o=To(t.visibleWrites,e);if(o!=null)return o;{const c=yi(t.visibleWrites,e);if(r1(c))return r;if(r==null&&!t1(c,zt()))return null;{const u=r||it.EMPTY_NODE;return Lc(c,u)}}}else{const o=yi(t.visibleWrites,e);if(!a&&r1(o))return r;if(!a&&r==null&&!t1(o,zt()))return null;{const c=function(h){return(h.visible||a)&&(!n||!~n.indexOf(h.writeId))&&(ma(h.path,e)||ma(e,h.path))},u=JE(t.allWrites,c,e),d=r||it.EMPTY_NODE;return Lc(u,d)}}}function AO(t,e,r){let n=it.EMPTY_NODE;const a=To(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(_r,(o,c)=>{n=n.updateImmediateChild(o,c)}),n;if(r){const o=yi(t.visibleWrites,e);return r.forEachChild(_r,(c,u)=>{const d=Lc(yi(o,new ar(c)),u);n=n.updateImmediateChild(c,d)}),B_(o).forEach(c=>{n=n.updateImmediateChild(c.name,c.node)}),n}else{const o=yi(t.visibleWrites,e);return B_(o).forEach(c=>{n=n.updateImmediateChild(c.name,c.node)}),n}}function kO(t,e,r,n,a){Fe(n||a,"Either existingEventSnap or existingServerSnap must exist");const o=vr(e,r);if(t1(t.visibleWrites,o))return null;{const c=yi(t.visibleWrites,o);return r1(c)?a.getChild(r):Lc(c,a.getChild(r))}}function CO(t,e,r,n){const a=vr(e,r),o=To(t.visibleWrites,a);if(o!=null)return o;if(n.isCompleteForChild(r)){const c=yi(t.visibleWrites,a);return Lc(c,n.getNode().getImmediateChild(r))}else return null}function NO(t,e){return To(t.visibleWrites,e)}function DO(t,e,r,n,a,o,c){let u;const d=yi(t.visibleWrites,e),h=To(d,zt());if(h!=null)u=h;else if(r!=null)u=Lc(d,r);else return[];if(u=u.withIndex(c),!u.isEmpty()&&!u.isLeafNode()){const m=[],y=c.getCompare(),v=o?u.getReverseIteratorFrom(n,c):u.getIteratorFrom(n,c);let T=v.getNext();for(;T&&m.length<a;)y(T,n)!==0&&m.push(T),T=v.getNext();return m}else return[]}function IO(){return{visibleWrites:Ra.empty(),allWrites:[],lastWriteId:-1}}function ed(t,e,r,n){return eb(t.writeTree,t.treePath,e,r,n)}function X1(t,e){return AO(t.writeTree,t.treePath,e)}function j_(t,e,r,n){return kO(t.writeTree,t.treePath,e,r,n)}function td(t,e){return NO(t.writeTree,vr(t.treePath,e))}function RO(t,e,r,n,a,o){return DO(t.writeTree,t.treePath,e,r,n,a,o)}function Q1(t,e,r){return CO(t.writeTree,t.treePath,e,r)}function tb(t,e){return rb(vr(t.treePath,e),t.writeTree)}function rb(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;Fe(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),Fe(n!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(n);if(a){const o=a.type;if(r==="child_added"&&o==="child_removed")this.changeMap.set(n,Iu(n,e.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&o==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&o==="child_changed")this.changeMap.set(n,Du(n,a.oldSnap));else if(r==="child_changed"&&o==="child_added")this.changeMap.set(n,Mc(n,e.snapshotNode));else if(r==="child_changed"&&o==="child_changed")this.changeMap.set(n,Iu(n,e.snapshotNode,a.oldSnap));else throw zc("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const nb=new MO;class Z1{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Q1(this.writes_,e,n)}}getChildAfterChild(e,r,n){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oo(this.viewCache_),o=RO(this.writes_,a,r,1,n,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){return{filter:t}}function LO(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function PO(t,e,r,n,a){const o=new OO;let c,u;if(r.type===Ca.OVERWRITE){const h=r;h.source.fromUser?c=n1(t,e,h.path,h.snap,n,a,o):(Fe(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!Rt(h.path),c=rd(t,e,h.path,h.snap,n,a,u,o))}else if(r.type===Ca.MERGE){const h=r;h.source.fromUser?c=BO(t,e,h.path,h.children,n,a,o):(Fe(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),c=a1(t,e,h.path,h.children,n,a,u,o))}else if(r.type===Ca.ACK_USER_WRITE){const h=r;h.revert?c=zO(t,e,h.path,n,a,o):c=jO(t,e,h.path,h.affectedTree,n,a,o)}else if(r.type===Ca.LISTEN_COMPLETE)c=HO(t,e,r.path,n,o);else throw zc("Unknown operation type: "+r.type);const d=o.getChanges();return UO(e,c,d),{viewCache:c,changes:d}}function UO(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const a=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=Jf(t);(r.length>0||!t.eventCache.isFullyInitialized()||a&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&r.push(qE(Jf(e)))}}function ab(t,e,r,n,a,o){const c=e.eventCache;if(td(n,r)!=null)return e;{let u,d;if(Rt(r))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=oo(e),m=h instanceof it?h:it.EMPTY_NODE,y=X1(n,m);u=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const h=ed(n,oo(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const h=Ct(r);if(h===".priority"){Fe(Ei(r)===1,"Can't have a priority with additional path components");const m=c.getNode();d=e.serverCache.getNode();const y=j_(n,r,m,d);y!=null?u=t.filter.updatePriority(m,y):u=c.getNode()}else{const m=lr(r);let y;if(c.isCompleteForChild(h)){d=e.serverCache.getNode();const v=j_(n,r,c.getNode(),d);v!=null?y=c.getNode().getImmediateChild(h).updateChild(m,v):y=c.getNode().getImmediateChild(h)}else y=Q1(n,h,e.serverCache);y!=null?u=t.filter.updateChild(c.getNode(),h,y,m,a,o):u=c.getNode()}}return fu(e,u,c.isFullyInitialized()||Rt(r),t.filter.filtersNodes())}}function rd(t,e,r,n,a,o,c,u){const d=e.serverCache;let h;const m=c?t.filter:t.filter.getIndexedFilter();if(Rt(r))h=m.updateFullNode(d.getNode(),n,null);else if(m.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(r,n);h=m.updateFullNode(d.getNode(),T,null)}else{const T=Ct(r);if(!d.isCompleteForPath(r)&&Ei(r)>1)return e;const _=lr(r),b=d.getNode().getImmediateChild(T).updateChild(_,n);T===".priority"?h=m.updatePriority(d.getNode(),b):h=m.updateChild(d.getNode(),T,b,_,nb,null)}const y=QE(e,h,d.isFullyInitialized()||Rt(r),m.filtersNodes()),v=new Z1(a,y,o);return ab(t,y,r,a,v,u)}function n1(t,e,r,n,a,o,c){const u=e.eventCache;let d,h;const m=new Z1(a,e,o);if(Rt(r))h=t.filter.updateFullNode(e.eventCache.getNode(),n,c),d=fu(e,h,!0,t.filter.filtersNodes());else{const y=Ct(r);if(y===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),n),d=fu(e,h,u.isFullyInitialized(),u.isFiltered());else{const v=lr(r),T=u.getNode().getImmediateChild(y);let _;if(Rt(v))_=n;else{const w=m.getCompleteChild(y);w!=null?H1(v)===".priority"&&w.getChild(zE(v)).isEmpty()?_=w:_=w.updateChild(v,n):_=it.EMPTY_NODE}if(T.equals(_))d=e;else{const w=t.filter.updateChild(u.getNode(),y,_,v,m,c);d=fu(e,w,u.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function H_(t,e){return t.eventCache.isCompleteForChild(e)}function BO(t,e,r,n,a,o,c){let u=e;return n.foreach((d,h)=>{const m=vr(r,d);H_(e,Ct(m))&&(u=n1(t,u,m,h,a,o,c))}),n.foreach((d,h)=>{const m=vr(r,d);H_(e,Ct(m))||(u=n1(t,u,m,h,a,o,c))}),u}function z_(t,e,r){return r.foreach((n,a)=>{e=e.updateChild(n,a)}),e}function a1(t,e,r,n,a,o,c,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;Rt(r)?h=n:h=new cr(null).setTree(r,n);const m=e.serverCache.getNode();return h.children.inorderTraversal((y,v)=>{if(m.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),_=z_(t,T,v);d=rd(t,d,new ar(y),_,a,o,c,u)}}),h.children.inorderTraversal((y,v)=>{const T=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!m.hasChild(y)&&!T){const _=e.serverCache.getNode().getImmediateChild(y),w=z_(t,_,v);d=rd(t,d,new ar(y),w,a,o,c,u)}}),d}function jO(t,e,r,n,a,o,c){if(td(a,r)!=null)return e;const u=e.serverCache.isFiltered(),d=e.serverCache;if(n.value!=null){if(Rt(r)&&d.isFullyInitialized()||d.isCompleteForPath(r))return rd(t,e,r,d.getNode().getChild(r),a,o,u,c);if(Rt(r)){let h=new cr(null);return d.getNode().forEachChild(Ec,(m,y)=>{h=h.set(new ar(m),y)}),a1(t,e,r,h,a,o,u,c)}else return e}else{let h=new cr(null);return n.foreach((m,y)=>{const v=vr(r,m);d.isCompleteForPath(v)&&(h=h.set(m,d.getNode().getChild(v)))}),a1(t,e,r,h,a,o,u,c)}}function HO(t,e,r,n,a){const o=e.serverCache,c=QE(e,o.getNode(),o.isFullyInitialized()||Rt(r),o.isFiltered());return ab(t,c,r,n,nb,a)}function zO(t,e,r,n,a,o){let c;if(td(n,r)!=null)return e;{const u=new Z1(n,e,a),d=e.eventCache.getNode();let h;if(Rt(r)||Ct(r)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=ed(n,oo(e));else{const y=e.serverCache.getNode();Fe(y instanceof it,"serverChildren would be complete if leaf node"),m=X1(n,y)}m=m,h=t.filter.updateFullNode(d,m,o)}else{const m=Ct(r);let y=Q1(n,m,e.serverCache);y==null&&e.serverCache.isCompleteForChild(m)&&(y=d.getImmediateChild(m)),y!=null?h=t.filter.updateChild(d,m,y,lr(r),u,o):e.eventCache.getNode().hasChild(m)?h=t.filter.updateChild(d,m,it.EMPTY_NODE,lr(r),u,o):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ed(n,oo(e)),c.isLeafNode()&&(h=t.filter.updateFullNode(h,c,o)))}return c=e.serverCache.isFullyInitialized()||td(n,zt())!=null,fu(e,h,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,a=new Y1(n.getIndex()),o=oO(n);this.processor_=FO(o);const c=r.serverCache,u=r.eventCache,d=a.updateFullNode(it.EMPTY_NODE,c.getNode(),null),h=o.updateFullNode(it.EMPTY_NODE,u.getNode(),null),m=new bi(d,c.isFullyInitialized(),a.filtersNodes()),y=new bi(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Md(y,m),this.eventGenerator_=new gO(this.query_)}get query(){return this.query_}}function GO(t){return t.viewCache_.serverCache.getNode()}function YO(t){return Jf(t.viewCache_)}function WO(t,e){const r=oo(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!Rt(e)&&!r.getImmediateChild(Ct(e)).isEmpty())?r.getChild(e):null}function V_(t){return t.eventRegistrations_.length===0}function $O(t,e){t.eventRegistrations_.push(e)}function G_(t,e,r){const n=[];if(r){Fe(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(r,a);c&&n.push(c)})}if(e){let a=[];for(let o=0;o<t.eventRegistrations_.length;++o){const c=t.eventRegistrations_[o];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return n}function Y_(t,e,r,n){e.type===Ca.MERGE&&e.source.queryId!==null&&(Fe(oo(t.viewCache_),"We should always have a full cache before handling merges"),Fe(Jf(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,o=PO(t.processor_,a,e,r,n);return LO(t.processor_,o.viewCache),Fe(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,sb(t,o.changes,o.viewCache.eventCache.getNode(),null)}function KO(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(_r,(o,c)=>{n.push(Mc(o,c))}),r.isFullyInitialized()&&n.push(qE(r.getNode())),sb(t,n,r.getNode(),e)}function sb(t,e,r,n){const a=n?[n]:t.eventRegistrations_;return mO(t.eventGenerator_,e,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;class ib{constructor(){this.views=new Map}}function qO(t){Fe(!nd,"__referenceConstructor has already been defined"),nd=t}function XO(){return Fe(nd,"Reference.ts has not been loaded"),nd}function QO(t){return t.views.size===0}function J1(t,e,r,n){const a=e.source.queryId;if(a!==null){const o=t.views.get(a);return Fe(o!=null,"SyncTree gave us an op for an invalid query."),Y_(o,e,r,n)}else{let o=[];for(const c of t.views.values())o=o.concat(Y_(c,e,r,n));return o}}function ob(t,e,r,n,a){const o=e._queryIdentifier,c=t.views.get(o);if(!c){let u=ed(r,a?n:null),d=!1;u?d=!0:n instanceof it?(u=X1(r,n),d=!1):(u=it.EMPTY_NODE,d=!1);const h=Md(new bi(u,d,!1),new bi(n,a,!1));return new VO(e,h)}return c}function ZO(t,e,r,n,a,o){const c=ob(t,e,n,a,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),$O(c,r),KO(c,r)}function JO(t,e,r,n){const a=e._queryIdentifier,o=[];let c=[];const u=Si(t);if(a==="default")for(const[d,h]of t.views.entries())c=c.concat(G_(h,r,n)),V_(h)&&(t.views.delete(d),h.query._queryParams.loadsAllData()||o.push(h.query));else{const d=t.views.get(a);d&&(c=c.concat(G_(d,r,n)),V_(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||o.push(d.query)))}return u&&!Si(t)&&o.push(new(XO())(e._repo,e._path)),{removed:o,events:c}}function cb(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function vi(t,e){let r=null;for(const n of t.views.values())r=r||WO(n,e);return r}function lb(t,e){if(e._queryParams.loadsAllData())return Ld(t);{const n=e._queryIdentifier;return t.views.get(n)}}function ub(t,e){return lb(t,e)!=null}function Si(t){return Ld(t)!=null}function Ld(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;function e5(t){Fe(!ad,"__referenceConstructor has already been defined"),ad=t}function t5(){return Fe(ad,"Reference.ts has not been loaded"),ad}let r5=1;class W_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new cr(null),this.pendingWriteTree_=IO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fb(t,e,r,n,a){return vO(t.pendingWriteTree_,e,r,n,a),a?$c(t,new io($1(),e,r)):[]}function n5(t,e,r,n){_O(t.pendingWriteTree_,e,r,n);const a=cr.fromObject(r);return $c(t,new Fc($1(),e,a))}function hi(t,e,r=!1){const n=wO(t.pendingWriteTree_,e);if(TO(t.pendingWriteTree_,e)){let o=new cr(null);return n.snap!=null?o=o.set(zt(),!0):on(n.children,c=>{o=o.set(new ar(c),!0)}),$c(t,new Zf(n.path,o,r))}else return[]}function Qu(t,e,r){return $c(t,new io(K1(),e,r))}function a5(t,e,r){const n=cr.fromObject(r);return $c(t,new Fc(K1(),e,n))}function s5(t,e){return $c(t,new Ou(K1(),e))}function i5(t,e,r){const n=tp(t,r);if(n){const a=rp(n),o=a.path,c=a.queryId,u=En(o,e),d=new Ou(q1(c),u);return np(t,o,d)}else return[]}function sd(t,e,r,n,a=!1){const o=e._path,c=t.syncPointTree_.get(o);let u=[];if(c&&(e._queryIdentifier==="default"||ub(c,e))){const d=JO(c,e,r,n);QO(c)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const h=d.removed;if(u=d.events,!a){const m=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(o,(v,T)=>Si(T));if(m&&!y){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const T=l5(v);for(let _=0;_<T.length;++_){const w=T[_],b=w.query,N=mb(t,w);t.listenProvider_.startListening(hu(b),Mu(t,b),N.hashFn,N.onComplete)}}}!y&&h.length>0&&!n&&(m?t.listenProvider_.stopListening(hu(e),null):h.forEach(v=>{const T=t.queryToTagMap.get(Pd(v));t.listenProvider_.stopListening(hu(v),T)}))}u5(t,h)}return u}function db(t,e,r,n){const a=tp(t,n);if(a!=null){const o=rp(a),c=o.path,u=o.queryId,d=En(c,e),h=new io(q1(u),d,r);return np(t,c,h)}else return[]}function o5(t,e,r,n){const a=tp(t,n);if(a){const o=rp(a),c=o.path,u=o.queryId,d=En(c,e),h=cr.fromObject(r),m=new Fc(q1(u),d,h);return np(t,c,m)}else return[]}function s1(t,e,r,n=!1){const a=e._path;let o=null,c=!1;t.syncPointTree_.foreachOnPath(a,(v,T)=>{const _=En(v,a);o=o||vi(T,_),c=c||Si(T)});let u=t.syncPointTree_.get(a);u?(c=c||Si(u),o=o||vi(u,zt())):(u=new ib,t.syncPointTree_=t.syncPointTree_.set(a,u));let d;o!=null?d=!0:(d=!1,o=it.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((T,_)=>{const w=vi(_,zt());w&&(o=o.updateImmediateChild(T,w))}));const h=ub(u,e);if(!h&&!e._queryParams.loadsAllData()){const v=Pd(e);Fe(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=f5();t.queryToTagMap.set(v,T),t.tagToQueryMap.set(T,v)}const m=Fd(t.pendingWriteTree_,a);let y=ZO(u,e,r,m,o,d);if(!h&&!c&&!n){const v=lb(u,e);y=y.concat(d5(t,e,v))}return y}function ep(t,e,r){const a=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,u)=>{const d=En(c,e),h=vi(u,d);if(h)return h});return eb(a,e,o,r,!0)}function c5(t,e){const r=e._path;let n=null;t.syncPointTree_.foreachOnPath(r,(h,m)=>{const y=En(h,r);n=n||vi(m,y)});let a=t.syncPointTree_.get(r);a?n=n||vi(a,zt()):(a=new ib,t.syncPointTree_=t.syncPointTree_.set(r,a));const o=n!=null,c=o?new bi(n,!0,!1):null,u=Fd(t.pendingWriteTree_,e._path),d=ob(a,e,u,o?c.getNode():it.EMPTY_NODE,o);return YO(d)}function $c(t,e){return hb(e,t.syncPointTree_,null,Fd(t.pendingWriteTree_,zt()))}function hb(t,e,r,n){if(Rt(t.path))return gb(t,e,r,n);{const a=e.get(zt());r==null&&a!=null&&(r=vi(a,zt()));let o=[];const c=Ct(t.path),u=t.operationForChild(c),d=e.children.get(c);if(d&&u){const h=r?r.getImmediateChild(c):null,m=tb(n,c);o=o.concat(hb(u,d,h,m))}return a&&(o=o.concat(J1(a,t,n,r))),o}}function gb(t,e,r,n){const a=e.get(zt());r==null&&a!=null&&(r=vi(a,zt()));let o=[];return e.children.inorderTraversal((c,u)=>{const d=r?r.getImmediateChild(c):null,h=tb(n,c),m=t.operationForChild(c);m&&(o=o.concat(gb(m,u,d,h)))}),a&&(o=o.concat(J1(a,t,n,r))),o}function mb(t,e){const r=e.query,n=Mu(t,r);return{hashFn:()=>(GO(e)||it.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return n?i5(t,r._path,n):s5(t,r._path);{const o=sR(a,r);return sd(t,r,null,o)}}}}function Mu(t,e){const r=Pd(e);return t.queryToTagMap.get(r)}function Pd(t){return t._path.toString()+"$"+t._queryIdentifier}function tp(t,e){return t.tagToQueryMap.get(e)}function rp(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ar(t.substr(0,e))}}function np(t,e,r){const n=t.syncPointTree_.get(e);Fe(n,"Missing sync point for query tag that we're tracking");const a=Fd(t.pendingWriteTree_,e);return J1(n,r,a,null)}function l5(t){return t.fold((e,r,n)=>{if(r&&Si(r))return[Ld(r)];{let a=[];return r&&(a=cb(r)),on(n,(o,c)=>{a=a.concat(c)}),a}})}function hu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(t5())(t._repo,t._path):t}function u5(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const a=Pd(n),o=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(o)}}}function f5(){return r5++}function d5(t,e,r){const n=e._path,a=Mu(t,e),o=mb(t,r),c=t.listenProvider_.startListening(hu(e),a,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(n);if(a)Fe(!Si(u.value),"If we're adding a query, it shouldn't be shadowed");else{const d=u.fold((h,m,y)=>{if(!Rt(h)&&m&&Si(m))return[Ld(m).query];{let v=[];return m&&(v=v.concat(cb(m).map(T=>T.query))),on(y,(T,_)=>{v=v.concat(_)}),v}});for(let h=0;h<d.length;++h){const m=d[h];t.listenProvider_.stopListening(hu(m),Mu(t,m))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new ap(r)}node(){return this.node_}}class sp{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=vr(this.path_,e);return new sp(this.syncTree_,r)}node(){return ep(this.syncTree_,this.path_)}}const h5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$_=function(t,e,r){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return g5(t[".sv"],e,r);if(typeof t[".sv"]=="object")return m5(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},g5=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},m5=function(t,e,r){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&Fe(!1,"Unexpected increment value: "+n);const a=e.node();if(Fe(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return n;const c=a.getValue();return typeof c!="number"?n:c+n},pb=function(t,e,r,n){return ip(e,new sp(r,t),n)},xb=function(t,e,r){return ip(t,new ap(e),r)};function ip(t,e,r){const n=t.getPriority().val(),a=$_(n,e.getImmediateChild(".priority"),r);let o;if(t.isLeafNode()){const c=t,u=$_(c.getValue(),e,r);return u!==c.getValue()||a!==c.getPriority().val()?new $r(u,jr(a)):t}else{const c=t;return o=c,a!==c.getPriority().val()&&(o=o.updatePriority(new $r(a))),c.forEachChild(_r,(u,d)=>{const h=ip(d,e.getImmediateChild(u),r);h!==d&&(o=o.updateImmediateChild(u,h))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function cp(t,e){let r=e instanceof ar?e:new ar(e),n=t,a=Ct(r);for(;a!==null;){const o=Rc(n.node.children,a)||{children:{},childCount:0};n=new op(a,n,o),r=lr(r),a=Ct(r)}return n}function Kc(t){return t.node.value}function yb(t,e){t.node.value=e,i1(t)}function vb(t){return t.node.childCount>0}function p5(t){return Kc(t)===void 0&&!vb(t)}function Ud(t,e){on(t.node.children,(r,n)=>{e(new op(r,t,n))})}function _b(t,e,r,n){r&&e(t),Ud(t,a=>{_b(a,e,!0)})}function x5(t,e,r){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function Zu(t){return new ar(t.parent===null?t.name:Zu(t.parent)+"/"+t.name)}function i1(t){t.parent!==null&&y5(t.parent,t.name,t)}function y5(t,e,r){const n=p5(r),a=ts(t.node.children,e);n&&a?(delete t.node.children[e],t.node.childCount--,i1(t)):!n&&!a&&(t.node.children[e]=r.node,t.node.childCount++,i1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=/[\[\].#$\/\u0000-\u001F\u007F]/,_5=/[\[\].#$\u0000-\u001F\u007F]/,Em=10*1024*1024,lp=function(t){return typeof t=="string"&&t.length!==0&&!v5.test(t)},wb=function(t){return typeof t=="string"&&t.length!==0&&!_5.test(t)},w5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wb(t)},T5=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!L1(t)||t&&typeof t=="object"&&ts(t,".sv")},Tb=function(t,e,r,n){n&&e===void 0||Bd(Dd(t,"value"),e,r)},Bd=function(t,e,r){const n=r instanceof ar?new BR(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+Zi(n));if(typeof e=="function")throw new Error(t+"contains a function "+Zi(n)+" with contents = "+e.toString());if(L1(e))throw new Error(t+"contains "+e.toString()+" "+Zi(n));if(typeof e=="string"&&e.length>Em/3&&Id(e)>Em)throw new Error(t+"contains a string greater than "+Em+" utf8 bytes "+Zi(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,o=!1;if(on(e,(c,u)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!lp(c)))throw new Error(t+" contains an invalid key ("+c+") "+Zi(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jR(n,c),Bd(t,u,n),HR(n)}),a&&o)throw new Error(t+' contains ".value" child '+Zi(n)+" in addition to actual children.")}},E5=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const o=Nu(n);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!lp(o[c]))throw new Error(t+"contains an invalid key ("+o[c]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(UR);let a=null;for(r=0;r<e.length;r++){if(n=e[r],a!==null&&ma(a,n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}},b5=function(t,e,r,n){const a=Dd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const o=[];on(e,(c,u)=>{const d=new ar(c);if(Bd(a,u,vr(r,d)),H1(d)===".priority"&&!T5(u))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(d)}),E5(a,o)},Eb=function(t,e,r,n){if(!wb(r))throw new Error(Dd(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},S5=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Eb(t,e,r)},bb=function(t,e){if(Ct(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},A5=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!w5(r))throw new Error(Dd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jd(t,e){let r=null;for(let n=0;n<e.length;n++){const a=e[n],o=a.getPath();r!==null&&!z1(o,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:o}),r.events.push(a)}r&&t.eventLists_.push(r)}function Sb(t,e,r){jd(t,r),Ab(t,n=>z1(n,e))}function ya(t,e,r){jd(t,r),Ab(t,n=>ma(n,e)||ma(e,n))}function Ab(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const a=t.eventLists_[n];if(a){const o=a.path;e(o)?(C5(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function C5(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();lu&&nn("event: "+r.toString()),Wc(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="repo_interrupt",D5=25;class I5{constructor(e,r,n,a){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qf(),this.transactionQueueTree_=new op,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R5(t,e,r){if(t.stats_=B1(t.repoInfo_),t.forceRestClient_||lR())t.server_=new Xf(t.repoInfo_,(n,a,o,c)=>{K_(t,n,a,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>q_(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Hr(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new Ss(t.repoInfo_,e,(n,a,o,c)=>{K_(t,n,a,o,c)},n=>{q_(t,n)},n=>{O5(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=gR(t.repoInfo_,()=>new hO(t.stats_,t.server_)),t.infoData_=new cO,t.infoSyncTree_=new W_({startListening:(n,a,o,c)=>{let u=[];const d=t.infoData_.getNode(n._path);return d.isEmpty()||(u=Qu(t.infoSyncTree_,n._path,d),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),up(t,"connected",!1),t.serverSyncTree_=new W_({startListening:(n,a,o,c)=>(t.server_.listen(n,o,a,(u,d)=>{const h=c(u,d);ya(t.eventQueue_,n._path,h)}),[]),stopListening:(n,a)=>{t.server_.unlisten(n,a)}})}function kb(t){const r=t.infoData_.getNode(new ar(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Hd(t){return h5({timestamp:kb(t)})}function K_(t,e,r,n,a){t.dataUpdateCount++;const o=new ar(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let c=[];if(a)if(n){const d=Yf(r,h=>jr(h));c=o5(t.serverSyncTree_,o,d,a)}else{const d=jr(r);c=db(t.serverSyncTree_,o,d,a)}else if(n){const d=Yf(r,h=>jr(h));c=a5(t.serverSyncTree_,o,d)}else{const d=jr(r);c=Qu(t.serverSyncTree_,o,d)}let u=o;c.length>0&&(u=Pc(t,o)),ya(t.eventQueue_,u,c)}function q_(t,e){up(t,"connected",e),e===!1&&P5(t)}function O5(t,e){on(e,(r,n)=>{up(t,r,n)})}function up(t,e,r){const n=new ar("/.info/"+e),a=jr(r);t.infoData_.updateSnapshot(n,a);const o=Qu(t.infoSyncTree_,n,a);ya(t.eventQueue_,n,o)}function fp(t){return t.nextWriteId_++}function M5(t,e,r){const n=c5(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(a=>{const o=jr(a).withIndex(e._queryParams.getIndex());s1(t.serverSyncTree_,e,r,!0);let c;if(e._queryParams.loadsAllData())c=Qu(t.serverSyncTree_,e._path,o);else{const u=Mu(t.serverSyncTree_,e);c=db(t.serverSyncTree_,e._path,o,u)}return ya(t.eventQueue_,e._path,c),sd(t.serverSyncTree_,e,r,null,!0),o},a=>(Ju(t,"get for query "+Hr(e)+" failed: "+a),Promise.reject(new Error(a))))}function F5(t,e,r,n,a){Ju(t,"set",{path:e.toString(),value:r,priority:n});const o=Hd(t),c=jr(r,n),u=ep(t.serverSyncTree_,e),d=xb(c,u,o),h=fp(t),m=fb(t.serverSyncTree_,e,d,h,!0);jd(t.eventQueue_,m),t.server_.put(e.toString(),c.val(!0),(v,T)=>{const _=v==="ok";_||Sn("set at "+e+" failed: "+v);const w=hi(t.serverSyncTree_,h,!_);ya(t.eventQueue_,e,w),o1(t,a,v,T)});const y=hp(t,e);Pc(t,y),ya(t.eventQueue_,y,[])}function L5(t,e,r,n){Ju(t,"update",{path:e.toString(),value:r});let a=!0;const o=Hd(t),c={};if(on(r,(u,d)=>{a=!1,c[u]=pb(vr(e,u),jr(d),t.serverSyncTree_,o)}),a)nn("update() called with empty data.  Don't do anything."),o1(t,n,"ok",void 0);else{const u=fp(t),d=n5(t.serverSyncTree_,e,c,u);jd(t.eventQueue_,d),t.server_.merge(e.toString(),r,(h,m)=>{const y=h==="ok";y||Sn("update at "+e+" failed: "+h);const v=hi(t.serverSyncTree_,u,!y),T=v.length>0?Pc(t,e):e;ya(t.eventQueue_,T,v),o1(t,n,h,m)}),on(r,h=>{const m=hp(t,vr(e,h));Pc(t,m)}),ya(t.eventQueue_,e,[])}}function P5(t){Ju(t,"onDisconnectEvents");const e=Hd(t),r=Qf();Jm(t.onDisconnect_,zt(),(a,o)=>{const c=pb(a,o,t.serverSyncTree_,e);XE(r,a,c)});let n=[];Jm(r,zt(),(a,o)=>{n=n.concat(Qu(t.serverSyncTree_,a,o));const c=hp(t,a);Pc(t,c)}),t.onDisconnect_=Qf(),ya(t.eventQueue_,zt(),n)}function U5(t,e,r){let n;Ct(e._path)===".info"?n=s1(t.infoSyncTree_,e,r):n=s1(t.serverSyncTree_,e,r),Sb(t.eventQueue_,e._path,n)}function Cb(t,e,r){let n;Ct(e._path)===".info"?n=sd(t.infoSyncTree_,e,r):n=sd(t.serverSyncTree_,e,r),Sb(t.eventQueue_,e._path,n)}function B5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(N5)}function Ju(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),nn(r,...e)}function o1(t,e,r,n){e&&Wc(()=>{if(r==="ok")e(null);else{const a=(r||"error").toUpperCase();let o=a;n&&(o+=": "+n);const c=new Error(o);c.code=a,e(c)}})}function Nb(t,e,r){return ep(t.serverSyncTree_,e,r)||it.EMPTY_NODE}function dp(t,e=t.transactionQueueTree_){if(e||zd(t,e),Kc(e)){const r=Ib(t,e);Fe(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&j5(t,Zu(e),r)}else vb(e)&&Ud(e,r=>{dp(t,r)})}function j5(t,e,r){const n=r.map(h=>h.currentWriteId),a=Nb(t,e,n);let o=a;const c=a.hash();for(let h=0;h<r.length;h++){const m=r[h];Fe(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const y=En(e,m.path);o=o.updateChild(y,m.currentOutputSnapshotRaw)}const u=o.val(!0),d=e;t.server_.put(d.toString(),u,h=>{Ju(t,"transaction put response",{path:d.toString(),status:h});let m=[];if(h==="ok"){const y=[];for(let v=0;v<r.length;v++)r[v].status=2,m=m.concat(hi(t.serverSyncTree_,r[v].currentWriteId)),r[v].onComplete&&y.push(()=>r[v].onComplete(null,!0,r[v].currentOutputSnapshotResolved)),r[v].unwatcher();zd(t,cp(t.transactionQueueTree_,e)),dp(t,t.transactionQueueTree_),ya(t.eventQueue_,e,m);for(let v=0;v<y.length;v++)Wc(y[v])}else{if(h==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{Sn("transaction at "+d.toString()+" failed: "+h);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=h}Pc(t,e)}},c)}function Pc(t,e){const r=Db(t,e),n=Zu(r),a=Ib(t,r);return H5(t,a,n),n}function H5(t,e,r){if(e.length===0)return;const n=[];let a=[];const c=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const d=e[u],h=En(r,d.path);let m=!1,y;if(Fe(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,y=d.abortReason,a=a.concat(hi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=D5)m=!0,y="maxretry",a=a.concat(hi(t.serverSyncTree_,d.currentWriteId,!0));else{const v=Nb(t,d.path,c);d.currentInputSnapshot=v;const T=e[u].update(v.val());if(T!==void 0){Bd("transaction failed: Data returned ",T,d.path);let _=jr(T);typeof T=="object"&&T!=null&&ts(T,".priority")||(_=_.updatePriority(v.getPriority()));const b=d.currentWriteId,N=Hd(t),R=xb(_,v,N);d.currentOutputSnapshotRaw=_,d.currentOutputSnapshotResolved=R,d.currentWriteId=fp(t),c.splice(c.indexOf(b),1),a=a.concat(fb(t.serverSyncTree_,d.path,R,d.currentWriteId,d.applyLocally)),a=a.concat(hi(t.serverSyncTree_,b,!0))}else m=!0,y="nodata",a=a.concat(hi(t.serverSyncTree_,d.currentWriteId,!0))}ya(t.eventQueue_,r,a),a=[],m&&(e[u].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[u].unwatcher),e[u].onComplete&&(y==="nodata"?n.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):n.push(()=>e[u].onComplete(new Error(y),!1,null))))}zd(t,t.transactionQueueTree_);for(let u=0;u<n.length;u++)Wc(n[u]);dp(t,t.transactionQueueTree_)}function Db(t,e){let r,n=t.transactionQueueTree_;for(r=Ct(e);r!==null&&Kc(n)===void 0;)n=cp(n,r),e=lr(e),r=Ct(e);return n}function Ib(t,e){const r=[];return Rb(t,e,r),r.sort((n,a)=>n.order-a.order),r}function Rb(t,e,r){const n=Kc(e);if(n)for(let a=0;a<n.length;a++)r.push(n[a]);Ud(e,a=>{Rb(t,a,r)})}function zd(t,e){const r=Kc(e);if(r){let n=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[n]=r[a],n++);r.length=n,yb(e,r.length>0?r:void 0)}Ud(e,n=>{zd(t,n)})}function hp(t,e){const r=Zu(Db(t,e)),n=cp(t.transactionQueueTree_,e);return x5(n,a=>{bm(t,a)}),bm(t,n),_b(n,a=>{bm(t,a)}),r}function bm(t,e){const r=Kc(e);if(r){const n=[];let a=[],o=-1;for(let c=0;c<r.length;c++)r[c].status===3||(r[c].status===1?(Fe(o===c-1,"All SENT items should be at beginning of queue."),o=c,r[c].status=3,r[c].abortReason="set"):(Fe(r[c].status===0,"Unexpected transaction status in abort"),r[c].unwatcher(),a=a.concat(hi(t.serverSyncTree_,r[c].currentWriteId,!0)),r[c].onComplete&&n.push(r[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?yb(e,void 0):r.length=o+1,ya(t.eventQueue_,Zu(e),a);for(let c=0;c<n.length;c++)Wc(n[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let a=r[n];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function V5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Sn(`Invalid query segment '${r}' in query '${t}'`)}return e}const X_=function(t,e){const r=G5(t),n=r.namespace;r.domain==="firebase.com"&&Ds(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||eR();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new OE(r.host,r.secure,n,a,e,"",n!==r.subdomain),path:new ar(r.pathString)}},G5=function(t){let e="",r="",n="",a="",o="",c=!0,u="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let m=t.indexOf("/");m===-1&&(m=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(a=z5(t.substring(m,y)));const v=V5(t.substring(Math.min(t.length,y)));h=e.indexOf(":"),h>=0?(c=u==="https"||u==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const T=e.slice(0,h);if(T.toLowerCase()==="localhost")r="localhost";else if(T.split(".").length<=2)r=T;else{const _=e.indexOf(".");n=e.substring(0,_).toLowerCase(),r=e.substring(_+1),o=n}"ns"in v&&(o=v.ns)}return{host:e,port:d,domain:r,subdomain:n,secure:c,scheme:u,pathString:a,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y5=(function(){let t=0;const e=[];return function(r){const n=r===t;t=r;let a;const o=new Array(8);for(a=7;a>=0;a--)o[a]=Q_.charAt(r%64),r=Math.floor(r/64);Fe(r===0,"Cannot push at time == 0");let c=o.join("");if(n){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)c+=Q_.charAt(e[a]);return Fe(c.length===20,"nextPushId: Length should be 20."),c}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,r,n,a){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Hr(this.snapshot.exportVal())}}class $5{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return Fe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r,n,a){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=a}get key(){return Rt(this._path)?null:H1(this._path)}get ref(){return new Os(this._repo,this._path)}get _queryIdentifier(){const e=L_(this._queryParams),r=P1(e);return r==="{}"?"default":r}get _queryObject(){return L_(this._queryParams)}isEqual(e){if(e=Nr(e),!(e instanceof gp))return!1;const r=this._repo===e._repo,n=z1(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return r&&n&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+PR(this._path)}}class Os extends gp{constructor(e,r){super(e,r,new W1,!1)}get parent(){const e=zE(this._path);return e===null?null:new Os(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fu{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new ar(e),n=Lu(this.ref,e);return new Fu(this._node.getChild(r),n,_r)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,a)=>e(new Fu(a,Lu(this.ref,n),_r)))}hasChild(e){const r=new ar(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function co(t,e){return t=Nr(t),t._checkNotDeleted("ref"),e!==void 0?Lu(t._root,e):t._root}function Lu(t,e){return t=Nr(t),Ct(t._path)===null?S5("child","path",e):Eb("child","path",e),new Os(t._repo,vr(t._path,e))}function K5(t,e){t=Nr(t),bb("push",t._path),Tb("push",e,t._path,!0);const r=kb(t._repo),n=Y5(r),a=Lu(t,n),o=Lu(t,n);let c;return e!=null?c=q5(o,e).then(()=>o):c=Promise.resolve(o),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),a}function q5(t,e){t=Nr(t),bb("set",t._path),Tb("set",e,t._path,!1);const r=new $u;return F5(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function Mb(t,e){b5("update",e,t._path);const r=new $u;return L5(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}function mp(t){t=Nr(t);const e=new Ob(()=>{}),r=new Vd(e);return M5(t._repo,t,r).then(n=>new Fu(n,new Os(t._repo,t._path),t._queryParams.getIndex()))}class Vd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new W5("value",this,new Fu(e.snapshotNode,new Os(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new $5(this,e,r):null}matches(e){return e instanceof Vd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function X5(t,e,r,n,a){const o=new Ob(r,void 0),c=new Vd(o);return U5(t._repo,t,c),()=>Cb(t._repo,t,c)}function Q5(t,e,r,n){return X5(t,"value",e)}function Z5(t,e,r){Cb(t._repo,t,null)}qO(Os);e5(Os);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="FIREBASE_DATABASE_EMULATOR_HOST",c1={};let e8=!1;function t8(t,e,r,n){const a=e.lastIndexOf(":"),o=e.substring(0,a),c=Vc(o);t.repoInfo_=new OE(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(t.authTokenProvider_=n)}function r8(t,e,r,n,a){let o=n||t.options.databaseURL;o===void 0&&(t.options.projectId||Ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=X_(o,a),u=c.repoInfo,d;typeof process<"u"&&y_&&(d=y_[J5]),d?(o=`http://${d}?ns=${u.namespace}`,c=X_(o,a),u=c.repoInfo):c.repoInfo.secure;const h=new fR(t.name,t.options,e);A5("Invalid Firebase Database URL",c),Rt(c.path)||Ds("Database URL must point to the root of a Firebase Database (not including a child path).");const m=a8(u,t,h,new uR(t,r));return new s8(m,t)}function n8(t,e){const r=c1[e];(!r||r[t.key]!==t)&&Ds(`Database ${e}(${t.repoInfo_}) has already been deleted.`),B5(t),delete r[t.key]}function a8(t,e,r,n){let a=c1[e.name];a||(a={},c1[e.name]=a);let o=a[t.toURLString()];return o&&Ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new I5(t,e8,r,n),a[t.toURLString()]=o,o}class s8{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(R5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Os(this._repo,zt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(n8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ds("Cannot call "+e+" on a deleted database.")}}function i8(t=F1(),e){const r=_o(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=vD("database");n&&o8(r,...n)}return r}function o8(t,e,r,n={}){t=Nr(t),t._checkNotDeleted("useEmulator");const a=`${e}:${r}`,o=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Ti(n,o.repoInfo_.emulatorOptions))return;Ds("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)n.mockUserToken&&Ds('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Mf(Mf.OWNER);else if(n.mockUserToken){const u=typeof n.mockUserToken=="string"?n.mockUserToken:_D(n.mockUserToken,t.app.options.projectId);c=new Mf(u)}Vc(e)&&(iE(e),oE("Database",!0)),t8(o,a,n,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){KI(Yc),Qa(new Ma("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return r8(n,a,o,r)},"PUBLIC").setMultipleInstances(!0)),xa(v_,__,t),xa(v_,__,"esm2020")}Ss.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ss.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};c8();var l8="firebase",u8="12.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xa(l8,u8,"app");const Fb="@firebase/installations",pp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1e4,Pb=`w:${pp}`,Ub="FIS_v2",f8="https://firebaseinstallations.googleapis.com/v1",d8=3600*1e3,h8="installations",g8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lo=new vo(h8,g8,m8);function Bb(t){return t instanceof es&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb({projectId:t}){return`${f8}/projects/${t}/installations`}function Hb(t){return{token:t.token,requestStatus:2,expiresIn:x8(t.expiresIn),creationTime:Date.now()}}async function zb(t,e){const n=(await e.json()).error;return lo.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Vb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p8(t,{refreshToken:e}){const r=Vb(t);return r.append("Authorization",y8(e)),r}async function Gb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function x8(t){return Number(t.replace("s","000"))}function y8(t){return`${Ub} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=jb(t),a=Vb(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:r,authVersion:Ub,appId:t.appId,sdkVersion:Pb},u={method:"POST",headers:a,body:JSON.stringify(c)},d=await Gb(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Hb(h.authToken)}}else throw await zb("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=/^[cdef][\w-]{21}$/,l1="";function T8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=E8(t);return w8.test(r)?r:l1}catch{return l1}}function E8(t){return _8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;function $b(t,e){const r=Gd(t);Kb(r,e),b8(r,e)}function Kb(t,e){const r=Wb.get(t);if(r)for(const n of r)n(e)}function b8(t,e){const r=S8();r&&r.postMessage({key:t,fid:e}),A8()}let to=null;function S8(){return!to&&"BroadcastChannel"in self&&(to=new BroadcastChannel("[Firebase] FID Change"),to.onmessage=t=>{Kb(t.data.key,t.data.fid)}),to}function A8(){Wb.size===0&&to&&(to.close(),to=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="firebase-installations-database",C8=1,uo="firebase-installations-store";let Sm=null;function xp(){return Sm||(Sm=mE(k8,C8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uo)}}})),Sm}async function id(t,e){const r=Gd(t),a=(await xp()).transaction(uo,"readwrite"),o=a.objectStore(uo),c=await o.get(r);return await o.put(e,r),await a.done,(!c||c.fid!==e.fid)&&$b(t,e.fid),e}async function qb(t){const e=Gd(t),n=(await xp()).transaction(uo,"readwrite");await n.objectStore(uo).delete(e),await n.done}async function Yd(t,e){const r=Gd(t),a=(await xp()).transaction(uo,"readwrite"),o=a.objectStore(uo),c=await o.get(r),u=e(c);return u===void 0?await o.delete(r):await o.put(u,r),await a.done,u&&(!c||c.fid!==u.fid)&&$b(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t){let e;const r=await Yd(t.appConfig,n=>{const a=N8(n),o=D8(t,a);return e=o.registrationPromise,o.installationEntry});return r.fid===l1?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function N8(t){const e=t||{fid:T8(),registrationStatus:0};return Xb(e)}function D8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(lo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=I8(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:R8(t)}:{installationEntry:e}}async function I8(t,e){try{const r=await v8(t,e);return id(t.appConfig,r)}catch(r){throw Bb(r)&&r.customData.serverCode===409?await qb(t.appConfig):await id(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function R8(t){let e=await Z_(t.appConfig);for(;e.registrationStatus===1;)await Yb(100),e=await Z_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await yp(t);return n||r}return e}function Z_(t){return Yd(t,e=>{if(!e)throw lo.create("installation-not-found");return Xb(e)})}function Xb(t){return O8(t)?{fid:t.fid,registrationStatus:0}:t}function O8(t){return t.registrationStatus===1&&t.registrationTime+Lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8({appConfig:t,heartbeatServiceProvider:e},r){const n=F8(t,r),a=p8(t,r),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:Pb,appId:t.appId}},u={method:"POST",headers:a,body:JSON.stringify(c)},d=await Gb(()=>fetch(n,u));if(d.ok){const h=await d.json();return Hb(h)}else throw await zb("Generate Auth Token",d)}function F8(t,{fid:e}){return`${jb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t,e=!1){let r;const n=await Yd(t.appConfig,o=>{if(!Qb(o))throw lo.create("not-registered");const c=o.authToken;if(!e&&U8(c))return o;if(c.requestStatus===1)return r=L8(t,e),o;{if(!navigator.onLine)throw lo.create("app-offline");const u=j8(o);return r=P8(t,u),u}});return r?await r:n.authToken}async function L8(t,e){let r=await J_(t.appConfig);for(;r.authToken.requestStatus===1;)await Yb(100),r=await J_(t.appConfig);const n=r.authToken;return n.requestStatus===0?vp(t,e):n}function J_(t){return Yd(t,e=>{if(!Qb(e))throw lo.create("not-registered");const r=e.authToken;return H8(r)?{...e,authToken:{requestStatus:0}}:e})}async function P8(t,e){try{const r=await M8(t,e),n={...e,authToken:r};return await id(t.appConfig,n),r}catch(r){if(Bb(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await qb(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await id(t.appConfig,n)}throw r}}function Qb(t){return t!==void 0&&t.registrationStatus===2}function U8(t){return t.requestStatus===2&&!B8(t)}function B8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+d8}function j8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function H8(t){return t.requestStatus===1&&t.requestTime+Lb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t){const e=t,{installationEntry:r,registrationPromise:n}=await yp(e);return n?n.catch(console.error):vp(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e=!1){const r=t;return await G8(r),(await vp(r,e)).token}async function G8(t){const{registrationPromise:e}=await yp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){if(!t||!t.options)throw Am("App Configuration");if(!t.name)throw Am("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Am(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Am(t){return lo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="installations",W8="installations-internal",$8=t=>{const e=t.getProvider("app").getImmediate(),r=Y8(e),n=_o(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},K8=t=>{const e=t.getProvider("app").getImmediate(),r=_o(e,Zb).getImmediate();return{getId:()=>z8(r),getToken:a=>V8(r,a)}};function q8(){Qa(new Ma(Zb,$8,"PUBLIC")),Qa(new Ma(W8,K8,"PRIVATE"))}q8();xa(Fb,pp);xa(Fb,pp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="analytics",X8="firebase_id",Q8="origin",Z8=60*1e3,J8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_p="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new vo("analytics","Analytics",eM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){if(!t.startsWith(_p)){const e=Zn.create("invalid-gtag-resource",{gtagURL:t});return Pn.warn(e.message),""}return t}function Jb(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function rM(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function nM(t,e){const r=rM("firebase-js-sdk-policy",{createScriptURL:tM}),n=document.createElement("script"),a=`${_p}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function aM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sM(t,e,r,n,a,o){const c=n[a];try{if(c)await e[c];else{const d=(await Jb(r)).find(h=>h.measurementId===a);d&&await e[d.appId]}}catch(u){Pn.error(u)}t("config",a,o)}async function iM(t,e,r,n,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const u=await Jb(r);for(const d of c){const h=u.find(y=>y.measurementId===d),m=h&&e[h.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",n,a||{})}catch(o){Pn.error(o)}}function oM(t,e,r,n){async function a(o,...c){try{if(o==="event"){const[u,d]=c;await iM(t,e,r,u,d)}else if(o==="config"){const[u,d]=c;await sM(t,e,r,n,u,d)}else if(o==="consent"){const[u,d]=c;t("consent",u,d)}else if(o==="get"){const[u,d,h]=c;t("get",u,d,h)}else if(o==="set"){const[u]=c;t("set",u)}else t(o,...c)}catch(u){Pn.error(u)}}return a}function cM(t,e,r,n,a){let o=function(...c){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=oM(o,t,e,r),{gtagCore:o,wrappedGtag:window[a]}}function lM(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(_p)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=30,fM=1e3;class dM{constructor(e={},r=fM){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eS=new dM;function hM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gM(t){var c;const{appId:e,apiKey:r}=t,n={method:"GET",headers:hM(r)},a=J8.replace("{app-id}",e),o=await fetch(a,n);if(o.status!==200&&o.status!==304){let u="";try{const d=await o.json();(c=d.error)!=null&&c.message&&(u=d.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function mM(t,e=eS,r){const{appId:n,apiKey:a,measurementId:o}=t.options;if(!n)throw Zn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:n};throw Zn.create("no-api-key")}const c=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new yM;return setTimeout(async()=>{u.abort()},Z8),tS({appId:n,apiKey:a,measurementId:o},c,u,e)}async function tS(t,{throttleEndTimeMillis:e,backoffCount:r},n,a=eS){var u;const{appId:o,measurementId:c}=t;try{await pM(n,e)}catch(d){if(c)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw d}try{const d=await gM(t);return a.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!xM(h)){if(a.deleteThrottleMetadata(o),c)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw d}const m=Number((u=h==null?void 0:h.customData)==null?void 0:u.httpStatus)===503?l_(r,a.intervalMillis,uM):l_(r,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return a.setThrottleMetadata(o,y),Pn.debug(`Calling attemptFetch again in ${m} millis`),tS(t,y,n,a)}}function pM(t,e){return new Promise((r,n)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(r,a);t.addEventListener(()=>{clearTimeout(o),n(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xM(t){if(!(t instanceof es)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vM(t,e,r,n,a){if(a&&a.global){t("event",r,n);return}else{const o=await e,c={...n,send_to:o};t("event",r,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(){if(uE())try{await fE()}catch(t){return Pn.warn(Zn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Pn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wM(t,e,r,n,a,o,c){const u=mM(t);u.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Pn.error(v)),e.push(u);const d=_M().then(v=>{if(v)return n.getId()}),[h,m]=await Promise.all([u,d]);lM(o)||nM(o,h.measurementId),a("js",new Date);const y=(c==null?void 0:c.config)??{};return y[Q8]="firebase",y.update=!0,m!=null&&(y[X8]=m),a("config",h.measurementId,y),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.app=e}_delete(){return delete gu[this.app.options.appId],Promise.resolve()}}let gu={},ew=[];const tw={};let km="dataLayer",EM="gtag",rw,rS,nw=!1;function bM(){const t=[];if(cE()&&t.push("This is a browser extension environment."),AD()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=Zn.create("invalid-analytics-context",{errorInfo:e});Pn.warn(r.message)}}function SM(t,e,r){bM();const n=t.options.appId;if(!n)throw Zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(gu[n]!=null)throw Zn.create("already-exists",{id:n});if(!nw){aM(km);const{wrappedGtag:o,gtagCore:c}=cM(gu,ew,tw,km,EM);rS=o,rw=c,nw=!0}return gu[n]=wM(t,ew,tw,e,rw,km,r),new TM(t)}function AM(t=F1()){t=Nr(t);const e=_o(t,od);return e.isInitialized()?e.getImmediate():kM(t)}function kM(t,e={}){const r=_o(t,od);if(r.isInitialized()){const a=r.getImmediate();if(Ti(e,r.getOptions()))return a;throw Zn.create("already-initialized")}return r.initialize({options:e})}function CM(t,e,r,n){t=Nr(t),vM(rS,gu[t.app.options.appId],e,r,n).catch(a=>Pn.error(a))}const aw="@firebase/analytics",sw="0.10.18";function NM(){Qa(new Ma(od,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return SM(n,a,r)},"PUBLIC")),Qa(new Ma("analytics-internal",t,"PRIVATE")),xa(aw,sw),xa(aw,sw,"esm2020");function t(e){try{const r=e.getProvider(od).getImmediate();return{logEvent:(n,a,o)=>CM(r,n,a,o)}}catch(r){throw Zn.create("interop-component-reg-failed",{reason:r})}}}NM();function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DM=nS,aS=new vo("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Rd("@firebase/auth");function IM(t,...e){cd.logLevel<=nr.WARN&&cd.warn(`Auth (${Yc}): ${t}`,...e)}function Ff(t,...e){cd.logLevel<=nr.ERROR&&cd.error(`Auth (${Yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,...e){throw wp(t,...e)}function qa(t,...e){return wp(t,...e)}function sS(t,e,r){const n={...DM(),[e]:r};return new vo("auth","Firebase",n).create(e,{appName:t.name})}function As(t){return sS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wp(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return aS.create(t,...e)}function st(t,e,...r){if(!t)throw wp(e,...r)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function Is(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RM(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RM()||cE()||"connection"in navigator)?navigator.onLine:!0}function MM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Is(r>e,"Short delay should be less than long delay!"),this.isMobile=O1()||lE()}get(){return OM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e){Is(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PM=new e0(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function La(t,e,r,n,a={}){return oS(t,a,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const u=Gc({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return ED()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Vc(t.emulatorConfig.host)&&(h.credentials="include"),iS.fetch()(await cS(t,t.config.apiHost,r,u),h)})}async function oS(t,e,r){t._canInitEmulator=!1;const n={...FM,...e};try{const a=new BM(t),o=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Ef(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Ef(t,"user-disabled",c);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw sS(t,m,h);Fa(t,m)}}catch(a){if(a instanceof es)throw a;Fa(t,"network-request-failed",{message:String(a)})}}async function t0(t,e,r,n,a={}){const o=await La(t,e,r,n,a);return"mfaPendingCredential"in o&&Fa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function cS(t,e,r,n){const a=`${e}${r}?${n}`,o=t,c=o.config.emulator?Tp(t.config,a):`${t.config.apiScheme}://${a}`;return LM.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function UM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(qa(this.auth,"network-request-failed")),PM.get())})}}function Ef(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=qa(t,e,n);return a.customData._tokenResponse=r,a}function ow(t){return t!==void 0&&t.enterprise!==void 0}class jM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return UM(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HM(t,e){return La(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return La(t,"POST","/v1/accounts:delete",e)}async function ld(t,e){return La(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VM(t,e=!1){const r=Nr(t),n=await r.getIdToken(e),a=Ep(n);st(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:mu(Cm(a.auth_time)),issuedAtTime:mu(Cm(a.iat)),expirationTime:mu(Cm(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Cm(t){return Number(t)*1e3}function Ep(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gf(r);return a?JSON.parse(a):(Ff("Failed to decode base64 JWT payload"),null)}catch(a){return Ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function cw(t){const e=Ep(t);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof es&&GM(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function GM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){var y;const e=t.auth,r=await t.getIdToken(),n=await fo(t,ld(e,{idToken:r}));st(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const o=(y=a.providerUserInfo)!=null&&y.length?lS(a.providerUserInfo):[],c=$M(t.providerData,o),u=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=u?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new f1(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function WM(t){const e=Nr(t);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $M(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function lS(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){const r=await oS(t,{},async()=>{const n=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await cS(t,a,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:n};return t.emulatorConfig&&Vc(t.emulatorConfig.host)&&(d.credentials="include"),iS.fetch()(c,d)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function qM(t,e){return La(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){st(e.length!==0,"internal-error");const r=cw(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:o}=await KM(e,r);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:o}=r,c=new bc;return n&&(st(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(st(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(st(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e){st(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Na{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new f1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await fo(this,this.stsTokenManager.getToken(this.auth,e));return st(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return VM(this,e)}reload(){return WM(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Na({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ud(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ga(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await fo(this,zM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,o=r.phoneNumber??void 0,c=r.photoURL??void 0,u=r.tenantId??void 0,d=r._redirectEventId??void 0,h=r.createdAt??void 0,m=r.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:T,providerData:_,stsTokenManager:w}=r;st(y&&w,e,"internal-error");const b=bc.fromJSON(this.name,w);st(typeof y=="string",e,"internal-error"),si(n,e.name),si(a,e.name),st(typeof v=="boolean",e,"internal-error"),st(typeof T=="boolean",e,"internal-error"),si(o,e.name),si(c,e.name),si(u,e.name),si(d,e.name),si(h,e.name),si(m,e.name);const N=new Na({uid:y,auth:e,email:a,emailVerified:v,displayName:n,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:b,createdAt:h,lastLoginAt:m});return _&&Array.isArray(_)&&(N.providerData=_.map(R=>({...R}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(e,r,n=!1){const a=new bc;a.updateFromServerResponse(r);const o=new Na({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await ud(o),o}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];st(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?lS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),u=new bc;u.updateFromIdToken(n);const d=new Na({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new f1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;function Es(t){Is(t instanceof Function,"Expected a class definition");let e=lw.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}uS.type="NONE";const uw=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,r){return`firebase:${t}:${e}:${r}`}class Sc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=Lf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Lf("persistence",a.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ld(this.auth,{idToken:e}).catch(()=>{});return r?Na._fromGetAccountInfoResponse(this.auth,r,e):null}return Na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sc(Es(uw),e,n);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=a[0]||Es(uw);const c=Lf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const m=await h._get(c);if(m){let y;if(typeof m=="string"){const v=await ld(e,{idToken:m}).catch(()=>{});if(!v)break;y=await Na._fromGetAccountInfoResponse(e,v,m)}else y=Na._fromJSON(e,m);h!==o&&(u=y),o=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Sc(o,e,n):(o=d[0],u&&await o._set(c,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==o)try{await h._remove(c)}catch{}})),new Sc(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(xS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function fS(t=kn()){return/firefox\//i.test(t)}function dS(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=kn()){return/crios\//i.test(t)}function gS(t=kn()){return/iemobile/i.test(t)}function mS(t=kn()){return/android/i.test(t)}function pS(t=kn()){return/blackberry/i.test(t)}function xS(t=kn()){return/webos/i.test(t)}function bp(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XM(t=kn()){var e;return bp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function QM(){return bD()&&document.documentMode===10}function yS(t=kn()){return bp(t)||mS(t)||xS(t)||pS(t)||/windows phone/i.test(t)||gS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e=[]){let r;switch(t){case"Browser":r=fw(kn());break;case"Worker":r=`${fw(kn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Yc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((c,u)=>{try{const d=e(o);c(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return La(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=6;class tF{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??eF,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new ZM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Es(r)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ld(this,{idToken:e}),n=await Na._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(ga(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=n==null?void 0:n._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===u)&&(d!=null&&d.user)&&(n=d.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(c){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ga(this.app))return Promise.reject(As(this));const r=e?Nr(e):null;return r&&st(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ga(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ga(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JM(this),r=new tF(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await qM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Es(e)||this._popupRedirectResolver;st(r,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[Es(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,a);return()=>{c=!0,d()}}else{const d=e.addObserver(r);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(ga(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&IM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ni(t){return Nr(t)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=OD(r=>this.observer=r)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nF(t){Wd=t}function _S(t){return Wd.loadJS(t)}function aF(){return Wd.recaptchaEnterpriseScript}function sF(){return Wd.gapiScript}function iF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oF{constructor(){this.enterprise=new cF}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class cF{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const lF="recaptcha-enterprise",wS="NO_RECAPTCHA";class uF{constructor(e){this.type=lF,this.auth=Ni(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{HM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new jM(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,c(h.siteKey)}}).catch(d=>{u(d)})})}function a(o,c,u){const d=window.grecaptcha;ow(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{c(h)}).catch(()=>{c(wS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oF().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{n(this.auth).then(u=>{if(!r&&ow(window.grecaptcha))a(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=aF();d.length!==0&&(d+=u),_S(d).then(()=>{a(u,o,c)}).catch(h=>{c(h)})}}).catch(u=>{c(u)})})}}async function hw(t,e,r,n=!1,a=!1){const o=new uF(t);let c;if(a)c=wS;else try{c=await o.verify(r)}catch{c=await o.verify(r,!0)}const u={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fd(t,e,r,n,a){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hw(t,e,r,r==="getOobCode");return n(t,c)}else return n(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await hw(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e){const r=_o(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),o=r.getOptions();if(Ti(o,e??{}))return a;Fa(a,"already-initialized")}return r.initialize({options:e})}function dF(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function hF(t,e,r){const n=Ni(t);st(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=TS(e),{host:c,port:u}=gF(e),d=u===null?"":`:${u}`,h={url:`${o}//${c}${d}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){st(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),st(Ti(h,n.config.emulator)&&Ti(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,Vc(c)?(iE(`${o}//${c}${d}`),oE("Auth",!0)):mF()}function TS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gF(t){const e=TS(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:gw(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:gw(c)}}}function gw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,r){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function pF(t,e){return La(t,"POST","/v1/accounts:update",e)}async function xF(t,e){return La(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return t0(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}async function vF(t,e){return La(t,"POST","/v1/accounts:sendOobCode",Ms(t,e))}async function _F(t,e){return vF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e){return t0(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function TF(t,e){return t0(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Sp{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Pu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,r,"signInWithPassword",yF);case"emailLink":return wF(e,{email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,n,"signUpPassword",xF);case"emailLink":return TF(e,{idToken:r,email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e){return t0(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="http://localhost";class ho extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Fa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...o}=r;if(!n||!a)return null;const c=new ho(n,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return Ac(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ac(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ac(e,r)}buildRequest(){const e={requestUri:EF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Gc(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SF(t){const e=tu(ru(t)).link,r=e?tu(ru(e)).deep_link_id:null,n=tu(ru(t)).deep_link_id;return(n?tu(ru(n)).link:null)||n||r||e||t}class Ap{constructor(e){const r=tu(ru(e)),n=r.apiKey??null,a=r.oobCode??null,o=bF(r.mode??null);st(n&&a&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=SF(e);try{return new Ap(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,r){return Pu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Ap.parseLink(r);return st(n,"argument-error"),Pu._fromEmailAndCode(e,n.code,n.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends r0{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends r0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ho._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return li.credential(r,n)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends r0{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends r0{constructor(){super("twitter.com")}static credential(e,r){return ho._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return fi.credential(r,n)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e){return t0(t,"POST","/v1/accounts:signUp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const o=await Na._fromIdTokenResponse(e,n,a),c=mw(n);return new go({user:o,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=mw(n);return new go({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends es{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new dd(e,r,n,a)}}function bS(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,o,e,n):o})}async function kF(t,e,r=!1){const n=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return go._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e,r=!1){const{auth:n}=t;if(ga(n.app))return Promise.reject(As(n));const a="reauthenticate";try{const o=await fo(t,bS(n,a,e,t),r);st(o.idToken,n,"internal-error");const c=Ep(o.idToken);st(c,n,"internal-error");const{sub:u}=c;return st(t.uid===u,n,"user-mismatch"),go._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fa(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(t,e,r=!1){if(ga(t.app))return Promise.reject(As(t));const n="signIn",a=await bS(t,n,e),o=await go._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(o.user),o}async function CF(t,e){return AS(Ni(t),e)}async function NF(t,e){return SS(Nr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DF(t,e,r){const n=Ni(t);await fd(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_F)}async function IF(t,e,r){if(ga(t.app))return Promise.reject(As(t));const n=Ni(t),c=await fd(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&kS(t),d}),u=await go._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(u.user),u}function RF(t,e,r){return ga(t.app)?Promise.reject(As(t)):CF(Nr(t),Eo.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&kS(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return La(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Nr(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},c=await fo(n,OF(n.auth,o));n.displayName=c.displayName||null,n.photoURL=c.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(c)}function MF(t,e){return FF(Nr(t),null,e)}async function FF(t,e,r){const{auth:n}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(o.password=r);const c=await fo(t,pF(n,o));await t._updateTokensIfNecessary(c,!0)}function LF(t,e,r,n){return Nr(t).onIdTokenChanged(e,r,n)}function PF(t,e,r){return Nr(t).beforeAuthStateChanged(e,r)}function UF(t,e,r,n){return Nr(t).onAuthStateChanged(e,r,n)}function BF(t){return Nr(t).signOut()}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=1e3,HF=10;class DS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);QM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HF):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},jF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const zF=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}IS.type="SESSION";const RS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new $d(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:o}=r.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const u=Array.from(c).map(async h=>h(r.origin,o)),d=await VF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((u,d)=>{const h=kp("",20);a.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return window}function YF(t){Xa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof Xa().WorkerGlobalScope<"u"&&typeof Xa().importScripts=="function"}async function WF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $F(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KF(){return OS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firebaseLocalStorageDb",qF=1,gd="firebaseLocalStorage",FS="fbase_key";class n0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Kd(t,e){return t.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function XF(){const t=indexedDB.deleteDatabase(MS);return new n0(t).toPromise()}function d1(){const t=indexedDB.open(MS,qF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(gd,{keyPath:FS})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(gd)?e(n):(n.close(),await XF(),e(await d1()))})})}async function pw(t,e,r){const n=Kd(t,!0).put({[FS]:e,value:r});return new n0(n).toPromise()}async function QF(t,e){const r=Kd(t,!1).get(e),n=await new n0(r).toPromise();return n===void 0?null:n.value}function xw(t,e){const r=Kd(t,!0).delete(e);return new n0(r).toPromise()}const ZF=800,JF=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>JF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(KF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await WF(),!this.activeServiceWorker)return;this.sender=new GF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$F()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d1();return await pw(e,hd,"1"),await xw(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>QF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>xw(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Kd(a,!1).getAll();return new n0(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const e7=LS;new e0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t,e){return e?Es(e):(st(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ac(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function r7(t){return AS(t.auth,new Cp(t),t.bypassAuthState)}function n7(t){const{auth:e,user:r}=t;return st(r,e,"internal-error"),SS(r,new Cp(t),t.bypassAuthState)}async function a7(t){const{auth:e,user:r}=t;return st(r,e,"internal-error"),kF(r,new Cp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,r,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r7;case"linkViaPopup":case"linkViaRedirect":return a7;case"reauthViaPopup":case"reauthViaRedirect":return n7;default:Fa(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new e0(2e3,1e4);class vc extends PS{constructor(e,r,n,a,o){super(e,r,a,o),this.provider=n,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s7.get())};e()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="pendingRedirect",Pf=new Map;class o7 extends PS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const n=await c7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c7(t,e){const r=f7(e),n=u7(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function l7(t,e){Pf.set(t._key(),e)}function u7(t){return Es(t._redirectPersistence)}function f7(t){return Lf(i7,t.config.apiKey,t.name)}async function d7(t,e,r=!1){if(ga(t.app))return Promise.reject(As(t));const n=Ni(t),a=t7(n,e),c=await new o7(n,a,r).execute();return c&&!r&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=600*1e3;class g7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!US(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(qa(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h7&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e={}){return La(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y7=/^https?/;async function v7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p7(t);for(const r of e)try{if(_7(r))return}catch{}Fa(t,"unauthorized-domain")}function _7(t){const e=u1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&c.hostname===n}if(!y7.test(r))return!1;if(x7.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new e0(3e4,6e4);function vw(){const t=Xa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function T7(t){return new Promise((e,r)=>{var a,o,c;function n(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),r(qa(t,"network-request-failed"))},timeout:w7.get()})}if((o=(a=Xa().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Xa().gapi)!=null&&c.load)n();else{const u=iF("iframefcb");return Xa()[u]=()=>{gapi.load?n():r(qa(t,"network-request-failed"))},_S(`${sF()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function E7(t){return Uf=Uf||T7(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=new e0(5e3,15e3),S7="__/auth/iframe",A7="emulator/auth/iframe",k7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N7(t){const e=t.config;st(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Tp(e,A7):`https://${t.config.authDomain}/${S7}`,n={apiKey:e.apiKey,appName:t.name,v:Yc},a=C7.get(t.config.apiHost);a&&(n.eid=a);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Gc(n).slice(1)}`}async function D7(t){const e=await E7(t),r=Xa().gapi;return st(r,t,"internal-error"),e.open({where:document.body,url:N7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k7,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const c=qa(t,"network-request-failed"),u=Xa().setTimeout(()=>{o(c)},b7.get());function d(){Xa().clearTimeout(u),a(n)}n.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R7=500,O7=600,M7="_blank",F7="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L7(t,e,r,n=R7,a=O7){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d={...I7,width:n.toString(),height:a.toString(),top:o,left:c},h=kn().toLowerCase();r&&(u=hS(h)?M7:r),fS(h)&&(e=e||F7,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[T,_])=>`${v}${T}=${_},`,"");if(XM(h)&&u!=="_self")return P7(e||"",u),new _w(null);const y=window.open(e||"",u,m);st(y,t,"popup-blocked");try{y.focus()}catch{}return new _w(y)}function P7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="__/auth/handler",B7="emulator/auth/handler",j7=encodeURIComponent("fac");async function ww(t,e,r,n,a,o){st(t.config.authDomain,t,"auth-domain-config-required"),st(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Yc,eventId:a};if(e instanceof ES){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Gm(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))c[m]=y}if(e instanceof r0){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(c.scopes=m.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),h=d?`#${j7}=${encodeURIComponent(d)}`:"";return`${H7(t)}?${Gc(u).slice(1)}${h}`}function H7({config:t}){return t.emulator?Tp(t,B7):`https://${t.authDomain}/${U7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class z7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=d7,this._overrideRedirectResult=l7}async _openPopup(e,r,n,a){var c;Is((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await ww(e,r,n,u1(),a);return L7(e,o,kp())}async _openRedirect(e,r,n,a){await this._originValidation(e);const o=await ww(e,r,n,u1(),a);return YF(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:o}=this.eventManagers[r];return a?Promise.resolve(a):(Is(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await D7(e),n=new g7(e);return r.register("authEvent",a=>(st(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Nm,{type:Nm},a=>{var c;const o=(c=a==null?void 0:a[0])==null?void 0:c[Nm];o!==void 0&&r(!!o),Fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=v7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return yS()||dS()||bp()}}const V7=z7;var Tw="@firebase/auth",Ew="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W7(t){Qa(new Ma("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=n.options;st(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(t)},h=new rF(n,a,o,d);return dF(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Qa(new Ma("auth-internal",e=>{const r=Ni(e.getProvider("auth").getImmediate());return(n=>new G7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),xa(Tw,Ew,Y7(t)),xa(Tw,Ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=300,K7=sE("authIdTokenMaxAge")||$7;let bw=null;const q7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>K7)return;const a=r==null?void 0:r.token;bw!==a&&(bw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function X7(t=F1()){const e=_o(t,"auth");if(e.isInitialized())return e.getImmediate();const r=fF(t,{popupRedirectResolver:V7,persistence:[e7,zF,RS]}),n=sE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=q7(o.toString());PF(r,c,()=>c(r.currentUser)),LF(r,u=>c(u))}}const a=nE("auth");return a&&hF(r,`http://${a}`),r}function Q7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}nF({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const o=qa("internal-error");o.customData=a,r(o)},n.type="text/javascript",n.charset="UTF-8",Q7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W7("Browser");const Z7={apiKey:"AIzaSyBqCk8phg_Bd8_3sz2Qnvy4WRRvH8Mf5k0",authDomain:"flightdashboard-159bc.firebaseapp.com",databaseURL:"https://flightdashboard-159bc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"flightdashboard-159bc",storageBucket:"flightdashboard-159bc.firebasestorage.app",messagingSenderId:"834175395337",appId:"1:834175395337:web:839e1d56796b621a97fad8",measurementId:"G-X2FMMSY232"},Np=pE(Z7);AM(Np);const mo=i8(Np),Za=X7(Np),a0=t=>{if(/^\d+$/.test(t))return parseInt(t);let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)},J7=async t=>{try{const e=co(mo,t),r=await mp(e);return r.exists()?r.val():null}catch(e){return console.error(`Error reading data from ${t}:`,e),null}},eL=async(t,e)=>{try{const r=co(mo,t);return(await K5(r,e)).key}catch(r){return console.error(`Error pushing data to ${t}:`,r),null}},tL=(t,e)=>{const r=new Date(t),n=r.getFullYear(),a=r.getMonth()+1;return`users/${e}/flights/${n}/${a.toString().padStart(2,"0")}`},h1=async t=>{try{if(console.log("🔥 getAllFlights 호출됨"),console.log("👤 요청된 userId:",t),!t)return console.log("❌ userId가 없음"),[];const e=Za.currentUser;if(console.log("🔐 현재 Firebase 인증 상태:",e?"인증됨":"인증 안됨"),console.log("🔑 현재 사용자 UID:",e==null?void 0:e.uid),!e)return console.log("❌ Firebase 인증되지 않음"),[];const r=e.uid;console.log("✅ 실제 사용자 ID로 데이터 가져오기:",r);const n=co(mo,`users/${r}/flights`);console.log("🗄️ 데이터베이스 경로:",`users/${r}/flights`);try{const a=await mp(n);if(console.log("📊 데이터베이스 스냅샷 존재 여부:",a.exists()),!a.exists())return console.log("ℹ️ 데이터베이스에 비행 데이터 없음"),[];const o=[],c=a.val();return console.log("📅 연도별 데이터 구조:",Object.keys(c)),Object.keys(c).forEach(u=>{c[u]&&typeof c[u]=="object"&&Object.keys(c[u]).forEach(d=>{const h=c[u][d];h&&typeof h=="object"&&Object.keys(h).forEach(m=>{const y=h[m];if(y&&typeof y=="object"){const v=y.id&&typeof y.id=="number"&&!isNaN(y.id)&&y.id>0?y.id:a0(m);o.push({...y,id:v})}})})}),console.log(`✅ 총 ${o.length}개 비행 데이터 로드 완료`),o.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime())}catch(a){if(console.error("❌ Firebase 데이터베이스 읽기 오류:",a),a.code==="PERMISSION_DENIED")return console.log("🚫 권한 거부됨, 빈 배열 반환"),[];throw a}}catch(e){if(console.error("❌ getAllFlights 오류:",e),console.error("🔍 오류 상세 정보:",{code:e.code,message:e.message,userId:t,stack:e.stack}),e.code==="PERMISSION_DENIED")return console.log("🚫 권한 거부됨, 빈 배열 반환"),[];throw e}},rL=async(t,e,r)=>{const n=`users/${r}/flights/${t}/${e.toString().padStart(2,"0")}`,a=await J7(n);return a?Object.keys(a).map(c=>{const u=a[c];if(u&&typeof u=="object"){const d=u.id&&typeof u.id=="number"&&!isNaN(u.id)&&u.id>0?u.id:a0(c);return{...u,id:d}}return null}).filter(Boolean):[]},BS=async(t,e)=>{const r=tL(t.date,e),n=await eL(r,t);if(n){const a=co(mo,`${r}/${n}`),o=a0(n);await Mb(a,{id:o})}return n},jS=async(t,e,r)=>{const n=co(mo,`users/${r}/flights`),a=await mp(n);if(a.exists()){const o=a.val();let c=!1;for(const u of Object.keys(o))if(o[u]&&typeof o[u]=="object"){for(const d of Object.keys(o[u])){const h=o[u][d];if(h&&typeof h=="object")for(const m of Object.keys(h)){const y=h[m];if(y&&typeof y=="object"&&(y.id&&typeof y.id=="number"&&!isNaN(y.id)&&y.id>0?y.id:a0(m)).toString()===t){const T=co(mo,`users/${r}/flights/${u}/${d}/${m}`);await Mb(T,e),c=!0;break}}if(c)break}if(c)break}if(!c)throw console.error(`항공편을 찾을 수 없음: ID=${t}`),new Error(`항공편을 찾을 수 없습니다: ${t}`)}},nL=async(t,e)=>{try{const r=t.map(a=>BS(a,e));return await Promise.all(r)}catch(r){throw console.error("Error adding multiple flights:",r),r}},HS=(t,e)=>{const r=co(mo,`users/${e}/flights`);return Q5(r,n=>{if(!n.exists()){t([]);return}const a=[],o=n.val();Object.keys(o).forEach(u=>{o[u]&&typeof o[u]=="object"&&Object.keys(o[u]).forEach(d=>{const h=o[u][d];h&&typeof h=="object"&&Object.keys(h).forEach(m=>{const y=h[m];if(y&&typeof y=="object"){const v=y.id&&typeof y.id=="number"&&!isNaN(y.id)&&y.id>0?y.id:a0(m);a.push({...y,id:v})}})})});const c=a.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime());t(c)}),()=>Z5(r)},kc=Object.freeze(Object.defineProperty({__proto__:null,addFlight:BS,addMultipleFlights:nL,getAllFlights:h1,getFlightsByMonth:rL,subscribeToAllFlights:HS,updateFlight:jS},Symbol.toStringTag,{value:"Module"})),aL=async(t,e)=>{try{return await RF(Za,t,e),{success:!0}}catch(r){const n=r;let a="로그인에 실패했습니다.";switch(n.code){case"auth/user-not-found":a="등록되지 않은 이메일입니다.";break;case"auth/wrong-password":a="비밀번호가 올바르지 않습니다.";break;case"auth/invalid-email":a="유효하지 않은 이메일 형식입니다.";break;case"auth/too-many-requests":a="너무 많은 로그인 시도가 있었습니다. 잠시 후 다시 시도해주세요.";break;default:a=n.message||"로그인에 실패했습니다."}return{success:!1,error:a}}},sL=async(t,e,r)=>{try{const a=(await IF(Za,t,e)).user;return await CS(a,{displayName:r}),{success:!0}}catch(n){const a=n;let o="회원가입에 실패했습니다.";switch(a.code){case"auth/email-already-in-use":o="이미 사용 중인 이메일입니다.";break;case"auth/weak-password":o="비밀번호가 너무 약합니다. 6자 이상으로 설정해주세요.";break;case"auth/invalid-email":o="유효하지 않은 이메일 형식입니다.";break;default:o=a.message||"회원가입에 실패했습니다."}return{success:!1,error:o}}},iL=async()=>{try{return await BF(Za),{success:!0}}catch(t){return{success:!1,error:t.message||"로그아웃에 실패했습니다."}}},oL=t=>UF(Za,t),cL=async t=>{try{const e=Za.currentUser;return e?(await CS(e,{displayName:t}),{success:!0}):{success:!1,error:"로그인이 필요합니다."}}catch(e){return{success:!1,error:e.message||"이름 변경에 실패했습니다."}}},lL=async(t,e)=>{try{const r=Za.currentUser;if(!r||!r.email)return{success:!1,error:"로그인이 필요합니다."};const n=Eo.credential(r.email,t);return await NF(r,n),await MF(r,e),{success:!0}}catch(r){const n=r;let a="비밀번호 변경에 실패했습니다.";switch(n.code){case"auth/wrong-password":a="현재 비밀번호가 올바르지 않습니다.";break;case"auth/weak-password":a="새 비밀번호가 너무 약합니다. 6자 이상으로 설정해주세요.";break;case"auth/requires-recent-login":a="보안을 위해 다시 로그인해주세요.";break;default:a=n.message||"비밀번호 변경에 실패했습니다."}return{success:!1,error:a}}},uL=async t=>{try{return await DF(Za,t),{success:!0}}catch(e){const r=e;let n="비밀번호 재설정 이메일 발송에 실패했습니다.";switch(r.code){case"auth/user-not-found":n="등록되지 않은 이메일입니다.";break;case"auth/invalid-email":n="유효하지 않은 이메일 형식입니다.";break;default:n=r.message||"알 수 없는 오류가 발생했습니다."}return{success:!1,error:n}}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zS=1252,fL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Dp={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ip=function(t){fL.indexOf(t)!=-1&&(zS=Dp[0]=t)};function dL(){Ip(1252)}var Da=function(t){Ip(t)};function VS(){Da(1200),dL()}function Sw(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function hL(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function GS(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var nu=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?hL(t.slice(2)):e==254&&r==255?GS(t.slice(2)):e==65279?t.slice(1):t},bf=function(e){return String.fromCharCode(e)},Aw=function(e){return String.fromCharCode(e)},Uu,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kw(t){for(var e="",r=0,n=0,a=0,o=0,c=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),o=r>>2,n=t.charCodeAt(h++),c=(r&3)<<4|n>>4,a=t.charCodeAt(h++),u=(n&15)<<2|a>>6,d=a&63,isNaN(n)?u=d=64:isNaN(a)&&(d=64),e+=gi.charAt(o)+gi.charAt(c)+gi.charAt(u)+gi.charAt(d);return e}function Jn(t){var e="",r=0,n=0,a=0,o=0,c=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)o=gi.indexOf(t.charAt(h++)),c=gi.indexOf(t.charAt(h++)),r=o<<2|c>>4,e+=String.fromCharCode(r),u=gi.indexOf(t.charAt(h++)),n=(c&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=gi.indexOf(t.charAt(h++)),a=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(a));return e}var Ft=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bo=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ai(t){return Ft?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Cw(t){return Ft?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ka=function(e){return Ft?bo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function So(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Rp(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Rp(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var di=Ft?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:bo(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function gL(t){for(var e=[],r=0,n=t.length+250,a=Ai(t.length+255),o=0;o<t.length;++o){var c=t.charCodeAt(o);if(c<128)a[r++]=c;else if(c<2048)a[r++]=192|c>>6&31,a[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var u=t.charCodeAt(++o)&1023;a[r++]=240|c>>8&7,a[r++]=128|c>>2&63,a[r++]=128|u>>6&15|(c&3)<<4,a[r++]=128|u&63}else a[r++]=224|c>>12&15,a[r++]=128|c>>6&63,a[r++]=128|c&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Ai(65535),n=65530)}return e.push(a.slice(0,r)),di(e)}var An=/\u0000/g,au=/[\u0001-\u0006]/g;function Cc(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ia(t,e){var r=""+t;return r.length>=e?r:yr("0",e-r.length)+r}function Op(t,e){var r=""+t;return r.length>=e?r:yr(" ",e-r.length)+r}function md(t,e){var r=""+t;return r.length>=e?r:r+yr(" ",e-r.length)}function mL(t,e){var r=""+Math.round(t);return r.length>=e?r:yr("0",e-r.length)+r}function pL(t,e){var r=""+t;return r.length>=e?r:yr("0",e-r.length)+r}var Nw=Math.pow(2,32);function mc(t,e){if(t>Nw||t<-Nw)return mL(t,e);var r=Math.round(t);return pL(r,e)}function pd(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Dw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xL(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Iw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function xd(t,e,r){for(var n=t<0?-1:1,a=t*n,o=0,c=1,u=0,d=1,h=0,m=0,y=Math.floor(a);h<e&&(y=Math.floor(a),u=y*c+o,m=y*h+d,!(a-y<5e-8));)a=1/(a-y),o=c,c=u,d=h,h=m;if(m>e&&(h>e?(m=d,u=o):(m=h,u=c)),!r)return[0,n*u,m];var v=Math.floor(n*u/m);return[v,n*u-v*m,m]}function ro(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),o=0,c=[],u={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++n,++u.D)),n===60)c=r?[1317,10,29]:[1900,2,29],o=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),c=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),n<60&&(o=(o+6)%7),r&&(o=bL(d,c))}return u.y=c[0],u.m=c[1],u.d=c[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=o,u}var YS=new Date(1899,11,31,0,0,0),vL=YS.getTime(),_L=new Date(1900,2,1,0,0,0);function WS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=_L&&(r+=1440*60*1e3),(r-(vL+(t.getTimezoneOffset()-YS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mp(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wL(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TL(t){var e=t<0?12:11,r=Mp(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function EL(t){var e=Mp(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Bu(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=TL(t):e===10?r=t.toFixed(10).substr(0,12):r=EL(t),Mp(wL(r.toUpperCase()))}function po(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Bu(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return va(14,WS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function bL(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function SL(t,e,r,n){var a="",o=0,c=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Dm[r.m-1][1];case 5:return Dm[r.m-1][0];default:return Dm[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return Dw[r.q][0];default:return Dw[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ia(r.S,e.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,o=Math.round(c*(r.S+r.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(a=Ia(o,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var m=h>0?Ia(d,h):"";return m}function mi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var $S=/%/g;function AL(t,e,r){var n=e.replace($S,""),a=e.length-n.length;return ks(t,n,r*Math.pow(10,2*a))+yr("%",a)}function kL(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ks(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function KS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+KS(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),r=(e/Math.pow(10,o)).toPrecision(n+1+(a+o)%a),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,m){return d+h+m.substr(0,(a+o)%a)+"."+m.substr(o)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var qS=/# (\?+)( ?)\/( ?)(\d+)/;function CL(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),o=Math.floor(a/n),c=a-o*n,u=n;return r+(o===0?"":""+o)+" "+(c===0?yr(" ",t[1].length+1+t[4].length):Op(c,t[1].length)+t[2]+"/"+t[3]+Ia(u,t[4].length))}function NL(t,e,r){return r+(e===0?"":""+e)+yr(" ",t[1].length+2+t[4].length)}var XS=/^#*0*\.([0#]+)/,QS=/\).*[0#]/,ZS=/\(###\) ###\\?-####/;function _n(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Rw(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Ow(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function DL(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function IL(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function fa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(QS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fa("n",n,r):"("+fa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return kL(t,e,r);if(e.indexOf("%")!==-1)return AL(t,e,r);if(e.indexOf("E")!==-1)return KS(e,r);if(e.charCodeAt(0)===36)return"$"+fa(t,e.substr(e.charAt(1)==" "?2:1),r);var a,o,c,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+mc(d,e.length);if(e.match(/^[#?]+$/))return a=mc(r,0),a==="0"&&(a=""),a.length>e.length?a:_n(e.substr(0,e.length-a.length))+a;if(o=e.match(qS))return CL(o,d,h);if(e.match(/^#+0+$/))return h+mc(d,e.length-e.indexOf("0"));if(o=e.match(XS))return a=Rw(r,o[1].length).replace(/^([^\.]+)$/,"$1."+_n(o[1])).replace(/\.$/,"."+_n(o[1])).replace(/\.(\d*)$/,function(_,w){return"."+w+yr("0",_n(o[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+Rw(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+mi(mc(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fa(t,e,-r):mi(""+(Math.floor(r)+DL(r,o[1].length)))+"."+Ia(Ow(r,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return fa(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cc(fa(t,e.replace(/[\\-]/g,""),r)),c=0,Cc(Cc(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return c<a.length?a.charAt(c++):_==="0"?"0":""}));if(e.match(ZS))return a=fa(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),u=xd(d,Math.pow(10,c)-1,!1),a=""+h,m=ks("n",o[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+o[2]+"/"+o[3],m=md(u[2],c),m.length<o[4].length&&(m=_n(o[4].substr(o[4].length-m.length))+m),a+=m,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),u=xd(d,Math.pow(10,c)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Op(u[1],c)+o[2]+"/"+o[3]+md(u[2],c):yr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=mc(r,0),e.length<=a.length?a:_n(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,v=e.length-a.length-y;return _n(e.substr(0,y)+a+e.substr(e.length-v))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=Ow(r,o[1].length),r<0?"-"+fa(t,e,-r):mi(IL(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ia(0,3-_.length):"")+_})+"."+Ia(c,o[1].length);switch(e){case"###,##0.00":return fa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var T=mi(mc(d,0));return T!=="0"?h+T:"";case"###,###.00":return fa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function RL(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ks(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function OL(t,e,r){var n=e.replace($S,""),a=e.length-n.length;return ks(t,n,r*Math.pow(10,2*a))+yr("%",a)}function JS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+JS(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%a;if(o<0&&(o+=a),r=(e/Math.pow(10,o)).toPrecision(n+1+(a+o)%a),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+o):r+="E+"+(c-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,m){return d+h+m.substr(0,(a+o)%a)+"."+m.substr(o)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(QS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wa("n",n,r):"("+Wa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return RL(t,e,r);if(e.indexOf("%")!==-1)return OL(t,e,r);if(e.indexOf("E")!==-1)return JS(e,r);if(e.charCodeAt(0)===36)return"$"+Wa(t,e.substr(e.charAt(1)==" "?2:1),r);var a,o,c,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ia(d,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:_n(e.substr(0,e.length-a.length))+a;if(o=e.match(qS))return NL(o,d,h);if(e.match(/^#+0+$/))return h+Ia(d,e.length-e.indexOf("0"));if(o=e.match(XS))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_n(o[1])).replace(/\.$/,"."+_n(o[1])),a=a.replace(/\.(\d*)$/,function(_,w){return"."+w+yr("0",_n(o[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+mi(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wa(t,e,-r):mi(""+r)+"."+yr("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Wa(t,e.replace(/^#,#*,/,""),r);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Cc(Wa(t,e.replace(/[\\-]/g,""),r)),c=0,Cc(Cc(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return c<a.length?a.charAt(c++):_==="0"?"0":""}));if(e.match(ZS))return a=Wa(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),u=xd(d,Math.pow(10,c)-1,!1),a=""+h,m=ks("n",o[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+o[2]+"/"+o[3],m=md(u[2],c),m.length<o[4].length&&(m=_n(o[4].substr(o[4].length-m.length))+m),a+=m,a;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),u=xd(d,Math.pow(10,c)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Op(u[1],c)+o[2]+"/"+o[3]+md(u[2],c):yr(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:_n(e.substr(0,e.length-a.length))+a;if(o=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,v=e.length-a.length-y;return _n(e.substr(0,y)+a+e.substr(e.length-v))}if(o=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wa(t,e,-r):mi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ia(0,3-_.length):"")+_})+"."+Ia(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=mi(""+d);return T!=="0"?h+T:"";default:if(e.match(/\.[0#?]*$/))return Wa(t,e.slice(0,e.lastIndexOf(".")),r)+_n(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ks(t,e,r){return(r|0)===r?Wa(t,e,r):fa(t,e,r)}function ML(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var eA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qc(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":pd(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(eA))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function FL(t,e,r,n){for(var a=[],o="",c=0,u="",d="t",h,m,y,v="H";c<t.length;)switch(u=t.charAt(c)){case"G":if(!pd(t,c))throw new Error("unrecognized character "+u+" in "+t);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(y=t.charCodeAt(++c))!==34&&c<t.length;)o+=String.fromCharCode(y);a[a.length]={t:"t",v:o},++c;break;case"\\":var T=t.charAt(++c),_=T==="("||T===")"?T:"t";a[a.length]={t:_,v:T},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(h==null&&(h=ro(e,r,t.charAt(c+1)==="2"),h==null))return"";a[a.length]={t:"X",v:t.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=ro(e,r),h==null))return"";for(o=u;++c<t.length&&t.charAt(c).toLowerCase()===u;)o+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=v),a[a.length]={t:u,v:o},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=ro(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",v="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",c+=5,v="h"):t.substr(c,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",c+=5,v="h"):(w.t="t",++c),h==null&&w.t==="T")return"";a[a.length]=w,d=u;break;case"[":for(o=u;t.charAt(c++)!=="]"&&c<t.length;)o+=t.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(eA)){if(h==null&&(h=ro(e,r),h==null))return"";a[a.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",qc(t)||(a[a.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=u;++c<t.length&&(u=t.charAt(c))==="0";)o+=u;a[a.length]={t:"s",v:o};break}case"0":case"#":for(o=u;++c<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(c))>-1;)o+=u;a[a.length]={t:"n",v:o};break;case"?":for(o=u;t.charAt(++c)===u;)o+=u;a[a.length]={t:u,v:o},d=u;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:n===1?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=u;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)o+=t.charAt(c);a[a.length]={t:"D",v:o};break;case" ":a[a.length]={t:u,v:u},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);a[a.length]={t:"t",v:u},++c;break}var b=0,N=0,R;for(c=a.length-1,d="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=v,d="h",b<1&&(b=1);break;case"s":(R=a[c].v.match(/\.0+$/))&&(N=Math.max(N,R[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=a[c].t;break;case"m":d==="s"&&(a[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[c].v.match(/[Hh]/)&&(b=1),b<2&&a[c].v.match(/[Mm]/)&&(b=2),b<3&&a[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var S="",U;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=SL(a[c].t.charCodeAt(0),a[c].v,h,N),a[c].t="t";break;case"n":case"?":for(U=c+1;a[U]!=null&&((u=a[U].t)==="?"||u==="D"||(u===" "||u==="t")&&a[U+1]!=null&&(a[U+1].t==="?"||a[U+1].t==="t"&&a[U+1].v==="/")||a[c].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[U].v==="/"||a[U].v===" "&&a[U+1]!=null&&a[U+1].t=="?"));)a[c].v+=a[U].v,a[U]={v:"",t:";"},++U;S+=a[c].v,c=U-1;break;case"G":a[c].t="t",a[c].v=po(e,r);break}var P="",W,D;if(S.length>0){S.charCodeAt(0)==40?(W=e<0&&S.charCodeAt(0)===45?-e:e,D=ks("n",S,W)):(W=e<0&&n>1?-e:e,D=ks("n",S,W),W<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),U=D.length-1;var q=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){q=c;break}var H=a.length;if(q===a.length&&D.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(U>=a[c].v.length-1?(U-=a[c].v.length,a[c].v=D.substr(U+1,a[c].v.length)):U<0?a[c].v="":(a[c].v=D.substr(0,U+1),U=-1),a[c].t="t",H=c);U>=0&&H<a.length&&(a[H].v=D.substr(0,U+1)+a[H].v)}else if(q!==a.length&&D.indexOf("E")===-1){for(U=D.indexOf(".")-1,c=q;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(m=a[c].v.indexOf(".")>-1&&c===q?a[c].v.indexOf(".")-1:a[c].v.length-1,P=a[c].v.substr(m+1);m>=0;--m)U>=0&&(a[c].v.charAt(m)==="0"||a[c].v.charAt(m)==="#")&&(P=D.charAt(U--)+P);a[c].v=P,a[c].t="t",H=c}for(U>=0&&H<a.length&&(a[H].v=D.substr(0,U+1)+a[H].v),U=D.indexOf(".")+1,c=q;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==q)){for(m=a[c].v.indexOf(".")>-1&&c===q?a[c].v.indexOf(".")+1:0,P=a[c].v.substr(0,m);m<a[c].v.length;++m)U<D.length&&(P+=D.charAt(U++));a[c].v=P,a[c].t="t",H=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(W=n>1&&e<0&&c>0&&a[c-1].v==="-"?-e:e,a[c].v=ks(a[c].t,a[c].v,W),a[c].t="t");var fe="";for(c=0;c!==a.length;++c)a[c]!=null&&(fe+=a[c].v);return fe}var Mw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Fw(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function LL(t,e){var r=ML(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var o=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,o];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(Mw),u=r[1].match(Mw);return Fw(e,c)?[n,r[0]]:Fw(e,u)?[n,r[1]]:[n,r[c!=null&&u!=null?2:1]]}return[n,o]}function va(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:_t)[t],n==null&&(n=r.table&&r.table[Iw[t]]||_t[Iw[t]]),n==null&&(n=yL[t]||"General");break}if(pd(n,0))return po(e,r);e instanceof Date&&(e=WS(e,r.date1904));var a=LL(n,e);if(pd(a[1]))return po(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return FL(a[1],e,r,a[0])}function no(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(_t[r]==null){e<0&&(e=r);continue}if(_t[r]==t){e=r;break}}e<0&&(e=391)}return _t[e]=t,e}function tA(){_t=xL()}var PL={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UL(t){var e=typeof t=="number"?_t[t]:t;return e=e.replace(rA,"(\\d+)"),new RegExp("^"+e+"$")}function BL(t,e,r){var n=-1,a=-1,o=-1,c=-1,u=-1,d=-1;(e.match(rA)||[]).forEach(function(y,v){var T=parseInt(r[v+1],10);switch(y.toLowerCase().charAt(0)){case"y":n=T;break;case"d":o=T;break;case"h":c=T;break;case"s":d=T;break;case"m":c>=0?u=T:a=T;break}}),d>=0&&u==-1&&a>=0&&(u=a,a=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return c==-1&&u==-1&&d==-1?h:n==-1&&a==-1&&o==-1?m:h+"T"+m}var jL=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,q=new Array(256),H=0;H!=256;++H)D=H,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,q[H]=D;return typeof Int32Array<"u"?new Int32Array(q):q}var r=e();function n(D){var q=0,H=0,fe=0,ne=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(fe=0;fe!=256;++fe)ne[fe]=D[fe];for(fe=0;fe!=256;++fe)for(H=D[fe],q=256+fe;q<4096;q+=256)H=ne[q]=H>>>8^D[H&255];var Q=[];for(fe=1;fe!=16;++fe)Q[fe-1]=typeof Int32Array<"u"?ne.subarray(fe*256,fe*256+256):ne.slice(fe*256,fe*256+256);return Q}var a=n(r),o=a[0],c=a[1],u=a[2],d=a[3],h=a[4],m=a[5],y=a[6],v=a[7],T=a[8],_=a[9],w=a[10],b=a[11],N=a[12],R=a[13],S=a[14];function U(D,q){for(var H=q^-1,fe=0,ne=D.length;fe<ne;)H=H>>>8^r[(H^D.charCodeAt(fe++))&255];return~H}function P(D,q){for(var H=q^-1,fe=D.length-15,ne=0;ne<fe;)H=S[D[ne++]^H&255]^R[D[ne++]^H>>8&255]^N[D[ne++]^H>>16&255]^b[D[ne++]^H>>>24]^w[D[ne++]]^_[D[ne++]]^T[D[ne++]]^v[D[ne++]]^y[D[ne++]]^m[D[ne++]]^h[D[ne++]]^d[D[ne++]]^u[D[ne++]]^c[D[ne++]]^o[D[ne++]]^r[D[ne++]];for(fe+=15;ne<fe;)H=H>>>8^r[(H^D[ne++])&255];return~H}function W(D,q){for(var H=q^-1,fe=0,ne=D.length,Q=0,ce=0;fe<ne;)Q=D.charCodeAt(fe++),Q<128?H=H>>>8^r[(H^Q)&255]:Q<2048?(H=H>>>8^r[(H^(192|Q>>6&31))&255],H=H>>>8^r[(H^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,ce=D.charCodeAt(fe++)&1023,H=H>>>8^r[(H^(240|Q>>8&7))&255],H=H>>>8^r[(H^(128|Q>>2&63))&255],H=H>>>8^r[(H^(128|ce>>6&15|(Q&3)<<4))&255],H=H>>>8^r[(H^(128|ce&63))&255]):(H=H>>>8^r[(H^(224|Q>>12&15))&255],H=H>>>8^r[(H^(128|Q>>6&63))&255],H=H>>>8^r[(H^(128|Q&63))&255]);return~H}return t.table=r,t.bstr=U,t.buf=P,t.str=W,t})(),Ut=(function(){var e={};e.version="1.2.1";function r(A,L){for(var I=A.split("/"),O=L.split("/"),F=0,B=0,le=Math.min(I.length,O.length);F<le;++F){if(B=I[F].length-O[F].length)return B;if(I[F]!=O[F])return I[F]<O[F]?-1:1}return I.length-O.length}function n(A){if(A.charAt(A.length-1)=="/")return A.slice(0,-1).indexOf("/")===-1?A:n(A.slice(0,-1));var L=A.lastIndexOf("/");return L===-1?A:A.slice(0,L+1)}function a(A){if(A.charAt(A.length-1)=="/")return a(A.slice(0,-1));var L=A.lastIndexOf("/");return L===-1?A:A.slice(L+1)}function o(A,L){typeof L=="string"&&(L=new Date(L));var I=L.getHours();I=I<<6|L.getMinutes(),I=I<<5|L.getSeconds()>>>1,A.write_shift(2,I);var O=L.getFullYear()-1980;O=O<<4|L.getMonth()+1,O=O<<5|L.getDate(),A.write_shift(2,O)}function c(A){var L=A.read_shift(2)&65535,I=A.read_shift(2)&65535,O=new Date,F=I&31;I>>>=5;var B=I&15;I>>>=4,O.setMilliseconds(0),O.setFullYear(I+1980),O.setMonth(B-1),O.setDate(F);var le=L&31;L>>>=5;var pe=L&63;return L>>>=6,O.setHours(L),O.setMinutes(pe),O.setSeconds(le<<1),O}function u(A){rn(A,0);for(var L={},I=0;A.l<=A.length-4;){var O=A.read_shift(2),F=A.read_shift(2),B=A.l+F,le={};switch(O){case 21589:I=A.read_shift(1),I&1&&(le.mtime=A.read_shift(4)),F>5&&(I&2&&(le.atime=A.read_shift(4)),I&4&&(le.ctime=A.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}A.l=B,L[O]=le}return L}var d;function h(){return d||(d={})}function m(A,L){if(A[0]==80&&A[1]==75)return vt(A,L);if((A[0]|32)==109&&(A[1]|32)==105)return Zc(A,L);if(A.length<512)throw new Error("CFB file size "+A.length+" < 512");var I=3,O=512,F=0,B=0,le=0,pe=0,re=0,ue=[],ge=A.slice(0,512);rn(ge,0);var Ne=y(ge);switch(I=Ne[0],I){case 3:O=512;break;case 4:O=4096;break;case 0:if(Ne[1]==0)return vt(A,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+I)}O!==512&&(ge=A.slice(0,O),rn(ge,28));var Me=A.slice(0,O);v(ge,I);var ze=ge.read_shift(4,"i");if(I===3&&ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ze);ge.l+=4,le=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),pe=ge.read_shift(4,"i"),F=ge.read_shift(4,"i"),re=ge.read_shift(4,"i"),B=ge.read_shift(4,"i");for(var Re=-1,Be=0;Be<109&&(Re=ge.read_shift(4,"i"),!(Re<0));++Be)ue[Be]=Re;var dt=T(A,O);b(re,B,dt,O,ue);var Vt=R(dt,le,ue,O);Vt[le].name="!Directory",F>0&&pe!==ce&&(Vt[pe].name="!MiniFAT"),Vt[ue[0]].name="!FAT",Vt.fat_addrs=ue,Vt.ssz=O;var Wt={},Jt=[],ta=[],Ba=[];S(le,Vt,dt,Jt,F,Wt,ta,pe),_(ta,Ba,Jt),Jt.shift();var Nn={FileIndex:ta,FullPaths:Ba};return L&&L.raw&&(Nn.raw={header:Me,sectors:dt}),Nn}function y(A){if(A[A.l]==80&&A[A.l+1]==75)return[0,0];A.chk(Ce,"Header Signature: "),A.l+=16;var L=A.read_shift(2,"u");return[A.read_shift(2,"u"),L]}function v(A,L){var I=9;switch(A.l+=2,I=A.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+I);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+I);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+I)}A.chk("0600","Mini Sector Shift: "),A.chk("000000000000","Reserved: ")}function T(A,L){for(var I=Math.ceil(A.length/L)-1,O=[],F=1;F<I;++F)O[F-1]=A.slice(F*L,(F+1)*L);return O[I-1]=A.slice(I*L),O}function _(A,L,I){for(var O=0,F=0,B=0,le=0,pe=0,re=I.length,ue=[],ge=[];O<re;++O)ue[O]=ge[O]=O,L[O]=I[O];for(;pe<ge.length;++pe)O=ge[pe],F=A[O].L,B=A[O].R,le=A[O].C,ue[O]===O&&(F!==-1&&ue[F]!==F&&(ue[O]=ue[F]),B!==-1&&ue[B]!==B&&(ue[O]=ue[B])),le!==-1&&(ue[le]=O),F!==-1&&O!=ue[O]&&(ue[F]=ue[O],ge.lastIndexOf(F)<pe&&ge.push(F)),B!==-1&&O!=ue[O]&&(ue[B]=ue[O],ge.lastIndexOf(B)<pe&&ge.push(B));for(O=1;O<re;++O)ue[O]===O&&(B!==-1&&ue[B]!==B?ue[O]=ue[B]:F!==-1&&ue[F]!==F&&(ue[O]=ue[F]));for(O=1;O<re;++O)if(A[O].type!==0){if(pe=O,pe!=ue[pe])do pe=ue[pe],L[O]=L[pe]+"/"+L[O];while(pe!==0&&ue[pe]!==-1&&pe!=ue[pe]);ue[O]=-1}for(L[0]+="/",O=1;O<re;++O)A[O].type!==2&&(L[O]+="/")}function w(A,L,I){for(var O=A.start,F=A.size,B=[],le=O;I&&F>0&&le>=0;)B.push(L.slice(le*Q,le*Q+Q)),F-=Q,le=Ji(I,le*4);return B.length===0?Br(0):di(B).slice(0,A.size)}function b(A,L,I,O,F){var B=ce;if(A===ce){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(A!==-1){var le=I[A],pe=(O>>>2)-1;if(!le)return;for(var re=0;re<pe&&(B=Ji(le,re*4))!==ce;++re)F.push(B);b(Ji(le,O-4),L-1,I,O,F)}}function N(A,L,I,O,F){var B=[],le=[];F||(F=[]);var pe=O-1,re=0,ue=0;for(re=L;re>=0;){F[re]=!0,B[B.length]=re,le.push(A[re]);var ge=I[Math.floor(re*4/O)];if(ue=re*4&pe,O<4+ue)throw new Error("FAT boundary crossed: "+re+" 4 "+O);if(!A[ge])break;re=Ji(A[ge],ue)}return{nodes:B,data:Yw([le])}}function R(A,L,I,O){var F=A.length,B=[],le=[],pe=[],re=[],ue=O-1,ge=0,Ne=0,Me=0,ze=0;for(ge=0;ge<F;++ge)if(pe=[],Me=ge+L,Me>=F&&(Me-=F),!le[Me]){re=[];var Re=[];for(Ne=Me;Ne>=0;){Re[Ne]=!0,le[Ne]=!0,pe[pe.length]=Ne,re.push(A[Ne]);var Be=I[Math.floor(Ne*4/O)];if(ze=Ne*4&ue,O<4+ze)throw new Error("FAT boundary crossed: "+Ne+" 4 "+O);if(!A[Be]||(Ne=Ji(A[Be],ze),Re[Ne]))break}B[Me]={nodes:pe,data:Yw([re])}}return B}function S(A,L,I,O,F,B,le,pe){for(var re=0,ue=O.length?2:0,ge=L[A].data,Ne=0,Me=0,ze;Ne<ge.length;Ne+=128){var Re=ge.slice(Ne,Ne+128);rn(Re,64),Me=Re.read_shift(2),ze=Bp(Re,0,Me-ue),O.push(ze);var Be={name:ze,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},dt=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);dt!==0&&(Be.ct=U(Re,Re.l-8));var Vt=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Vt!==0&&(Be.mt=U(Re,Re.l-8)),Be.start=Re.read_shift(4,"i"),Be.size=Re.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=ce,Be.name=""),Be.type===5?(re=Be.start,F>0&&re!==ce&&(L[re].name="!StreamData")):Be.size>=4096?(Be.storage="fat",L[Be.start]===void 0&&(L[Be.start]=N(I,Be.start,L.fat_addrs,L.ssz)),L[Be.start].name=Be.name,Be.content=L[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:re!==ce&&Be.start!==ce&&L[re]&&(Be.content=w(Be,L[re].data,(L[pe]||{}).data))),Be.content&&rn(Be.content,0),B[ze]=Be,le.push(Be)}}function U(A,L){return new Date((Xn(A,L+4)/1e7*Math.pow(2,32)+Xn(A,L)/1e7-11644473600)*1e3)}function P(A,L){return h(),m(d.readFileSync(A),L)}function W(A,L){var I=L&&L.type;switch(I||Ft&&Buffer.isBuffer(A)&&(I="buffer"),I||"base64"){case"file":return P(A,L);case"base64":return m(ka(Jn(A)),L);case"binary":return m(ka(A),L)}return m(A,L)}function D(A,L){var I=L||{},O=I.root||"Root Entry";if(A.FullPaths||(A.FullPaths=[]),A.FileIndex||(A.FileIndex=[]),A.FullPaths.length!==A.FileIndex.length)throw new Error("inconsistent CFB structure");A.FullPaths.length===0&&(A.FullPaths[0]=O+"/",A.FileIndex[0]={name:O,type:5}),I.CLSID&&(A.FileIndex[0].clsid=I.CLSID),q(A)}function q(A){var L="Sh33tJ5";if(!Ut.find(A,"/"+L)){var I=Br(4);I[0]=55,I[1]=I[3]=50,I[2]=54,A.FileIndex.push({name:L,type:2,content:I,size:4,L:69,R:69,C:69}),A.FullPaths.push(A.FullPaths[0]+L),H(A)}}function H(A,L){D(A);for(var I=!1,O=!1,F=A.FullPaths.length-1;F>=0;--F){var B=A.FileIndex[F];switch(B.type){case 0:O?I=!0:(A.FileIndex.pop(),A.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(B.R*B.L*B.C)&&(I=!0),B.R>-1&&B.L>-1&&B.R==B.L&&(I=!0);break;default:I=!0;break}}if(!(!I&&!L)){var le=new Date(1987,1,19),pe=0,re=Object.create?Object.create(null):{},ue=[];for(F=0;F<A.FullPaths.length;++F)re[A.FullPaths[F]]=!0,A.FileIndex[F].type!==0&&ue.push([A.FullPaths[F],A.FileIndex[F]]);for(F=0;F<ue.length;++F){var ge=n(ue[F][0]);O=re[ge],O||(ue.push([ge,{name:a(ge).replace("/",""),type:1,clsid:X,ct:le,mt:le,content:null}]),re[ge]=!0)}for(ue.sort(function(ze,Re){return r(ze[0],Re[0])}),A.FullPaths=[],A.FileIndex=[],F=0;F<ue.length;++F)A.FullPaths[F]=ue[F][0],A.FileIndex[F]=ue[F][1];for(F=0;F<ue.length;++F){var Ne=A.FileIndex[F],Me=A.FullPaths[F];if(Ne.name=a(Me).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||X,F===0)Ne.C=ue.length>1?1:-1,Ne.size=0,Ne.type=5;else if(Me.slice(-1)=="/"){for(pe=F+1;pe<ue.length&&n(A.FullPaths[pe])!=Me;++pe);for(Ne.C=pe>=ue.length?-1:pe,pe=F+1;pe<ue.length&&n(A.FullPaths[pe])!=n(Me);++pe);Ne.R=pe>=ue.length?-1:pe,Ne.type=1}else n(A.FullPaths[F+1]||"")==n(Me)&&(Ne.R=F+1),Ne.type=2}}}function fe(A,L){var I=L||{};if(I.fileType=="mad")return ea(A,I);switch(H(A),I.fileType){case"zip":return tt(A,I)}var O=(function(ze){for(var Re=0,Be=0,dt=0;dt<ze.FileIndex.length;++dt){var Vt=ze.FileIndex[dt];if(Vt.content){var Wt=Vt.content.length;Wt>0&&(Wt<4096?Re+=Wt+63>>6:Be+=Wt+511>>9)}}for(var Jt=ze.FullPaths.length+3>>2,ta=Re+7>>3,Ba=Re+127>>7,Nn=ta+Be+Jt+Ba,Bn=Nn+127>>7,as=Bn<=109?0:Math.ceil((Bn-109)/127);Nn+Bn+as+127>>7>Bn;)as=++Bn<=109?0:Math.ceil((Bn-109)/127);var jn=[1,as,Bn,Ba,Jt,Be,Re,0];return ze.FileIndex[0].size=Re<<6,jn[7]=(ze.FileIndex[0].start=jn[0]+jn[1]+jn[2]+jn[3]+jn[4]+jn[5])+(jn[6]+7>>3),jn})(A),F=Br(O[7]<<9),B=0,le=0;{for(B=0;B<8;++B)F.write_shift(1,xe[B]);for(B=0;B<8;++B)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),B=0;B<3;++B)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,O[2]),F.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:ce),F.write_shift(4,O[3]),F.write_shift(-4,O[1]?O[0]-1:ce),F.write_shift(4,O[1]),B=0;B<109;++B)F.write_shift(-4,B<O[2]?O[1]+B:-1)}if(O[1])for(le=0;le<O[1];++le){for(;B<236+le*127;++B)F.write_shift(-4,B<O[2]?O[1]+B:-1);F.write_shift(-4,le===O[1]-1?ce:le+1)}var pe=function(ze){for(le+=ze;B<le-1;++B)F.write_shift(-4,B+1);ze&&(++B,F.write_shift(-4,ce))};for(le=B=0,le+=O[1];B<le;++B)F.write_shift(-4,se.DIFSECT);for(le+=O[2];B<le;++B)F.write_shift(-4,se.FATSECT);pe(O[3]),pe(O[4]);for(var re=0,ue=0,ge=A.FileIndex[0];re<A.FileIndex.length;++re)ge=A.FileIndex[re],ge.content&&(ue=ge.content.length,!(ue<4096)&&(ge.start=le,pe(ue+511>>9)));for(pe(O[6]+7>>3);F.l&511;)F.write_shift(-4,se.ENDOFCHAIN);for(le=B=0,re=0;re<A.FileIndex.length;++re)ge=A.FileIndex[re],ge.content&&(ue=ge.content.length,!(!ue||ue>=4096)&&(ge.start=le,pe(ue+63>>6)));for(;F.l&511;)F.write_shift(-4,se.ENDOFCHAIN);for(B=0;B<O[4]<<2;++B){var Ne=A.FullPaths[B];if(!Ne||Ne.length===0){for(re=0;re<17;++re)F.write_shift(4,0);for(re=0;re<3;++re)F.write_shift(4,-1);for(re=0;re<12;++re)F.write_shift(4,0);continue}ge=A.FileIndex[B],B===0&&(ge.start=ge.size?ge.start-1:ce);var Me=B===0&&I.root||ge.name;if(ue=2*(Me.length+1),F.write_shift(64,Me,"utf16le"),F.write_shift(2,ue),F.write_shift(1,ge.type),F.write_shift(1,ge.color),F.write_shift(-4,ge.L),F.write_shift(-4,ge.R),F.write_shift(-4,ge.C),ge.clsid)F.write_shift(16,ge.clsid,"hex");else for(re=0;re<4;++re)F.write_shift(4,0);F.write_shift(4,ge.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,ge.start),F.write_shift(4,ge.size),F.write_shift(4,0)}for(B=1;B<A.FileIndex.length;++B)if(ge=A.FileIndex[B],ge.size>=4096)if(F.l=ge.start+1<<9,Ft&&Buffer.isBuffer(ge.content))ge.content.copy(F,F.l,0,ge.size),F.l+=ge.size+511&-512;else{for(re=0;re<ge.size;++re)F.write_shift(1,ge.content[re]);for(;re&511;++re)F.write_shift(1,0)}for(B=1;B<A.FileIndex.length;++B)if(ge=A.FileIndex[B],ge.size>0&&ge.size<4096)if(Ft&&Buffer.isBuffer(ge.content))ge.content.copy(F,F.l,0,ge.size),F.l+=ge.size+63&-64;else{for(re=0;re<ge.size;++re)F.write_shift(1,ge.content[re]);for(;re&63;++re)F.write_shift(1,0)}if(Ft)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function ne(A,L){var I=A.FullPaths.map(function(re){return re.toUpperCase()}),O=I.map(function(re){var ue=re.split("/");return ue[ue.length-(re.slice(-1)=="/"?2:1)]}),F=!1;L.charCodeAt(0)===47?(F=!0,L=I[0].slice(0,-1)+L):F=L.indexOf("/")!==-1;var B=L.toUpperCase(),le=F===!0?I.indexOf(B):O.indexOf(B);if(le!==-1)return A.FileIndex[le];var pe=!B.match(au);for(B=B.replace(An,""),pe&&(B=B.replace(au,"!")),le=0;le<I.length;++le)if((pe?I[le].replace(au,"!"):I[le]).replace(An,"")==B||(pe?O[le].replace(au,"!"):O[le]).replace(An,"")==B)return A.FileIndex[le];return null}var Q=64,ce=-2,Ce="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ce,FREESECT:-1,HEADER_SIGNATURE:Ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Oe(A,L,I){h();var O=fe(A,I);d.writeFileSync(L,O)}function J(A){for(var L=new Array(A.length),I=0;I<A.length;++I)L[I]=String.fromCharCode(A[I]);return L.join("")}function M(A,L){var I=fe(A,L);switch(L&&L.type||"buffer"){case"file":return h(),d.writeFileSync(L.filename,I),I;case"binary":return typeof I=="string"?I:J(I);case"base64":return kw(typeof I=="string"?I:J(I));case"buffer":if(Ft)return Buffer.isBuffer(I)?I:bo(I);case"array":return typeof I=="string"?ka(I):I}return I}var K;function C(A){try{var L=A.InflateRaw,I=new L;if(I._processChunk(new Uint8Array([3,0]),I._finishFlushFlag),I.bytesRead)K=A;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function z(A,L){if(!K)return Ve(A,L);var I=K.InflateRaw,O=new I,F=O._processChunk(A.slice(A.l),O._finishFlushFlag);return A.l+=O.bytesRead,F}function V(A){return K?K.deflateRawSync(A):Qe(A)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(A){var L=(A<<1|A<<11)&139536|(A<<5|A<<15)&558144;return(L>>16|L>>8|L)&255}for(var be=typeof Uint8Array<"u",Se=be?new Uint8Array(256):[],Je=0;Je<256;++Je)Se[Je]=Ae(Je);function j(A,L){var I=Se[A&255];return L<=8?I>>>8-L:(I=I<<8|Se[A>>8&255],L<=16?I>>>16-L:(I=I<<8|Se[A>>16&255],I>>>24-L))}function Tt(A,L){var I=L&7,O=L>>>3;return(A[O]|(I<=6?0:A[O+1]<<8))>>>I&3}function ut(A,L){var I=L&7,O=L>>>3;return(A[O]|(I<=5?0:A[O+1]<<8))>>>I&7}function pt(A,L){var I=L&7,O=L>>>3;return(A[O]|(I<=4?0:A[O+1]<<8))>>>I&15}function $e(A,L){var I=L&7,O=L>>>3;return(A[O]|(I<=3?0:A[O+1]<<8))>>>I&31}function we(A,L){var I=L&7,O=L>>>3;return(A[O]|(I<=1?0:A[O+1]<<8))>>>I&127}function ft(A,L,I){var O=L&7,F=L>>>3,B=(1<<I)-1,le=A[F]>>>O;return I<8-O||(le|=A[F+1]<<8-O,I<16-O)||(le|=A[F+2]<<16-O,I<24-O)||(le|=A[F+3]<<24-O),le&B}function De(A,L,I){var O=L&7,F=L>>>3;return O<=5?A[F]|=(I&7)<<O:(A[F]|=I<<O&255,A[F+1]=(I&7)>>8-O),L+3}function et(A,L,I){var O=L&7,F=L>>>3;return I=(I&1)<<O,A[F]|=I,L+1}function Ge(A,L,I){var O=L&7,F=L>>>3;return I<<=O,A[F]|=I&255,I>>>=8,A[F+1]=I,L+8}function Le(A,L,I){var O=L&7,F=L>>>3;return I<<=O,A[F]|=I&255,I>>>=8,A[F+1]=I&255,A[F+2]=I>>>8,L+16}function je(A,L){var I=A.length,O=2*I>L?2*I:L+5,F=0;if(I>=L)return A;if(Ft){var B=Cw(O);if(A.copy)A.copy(B);else for(;F<A.length;++F)B[F]=A[F];return B}else if(be){var le=new Uint8Array(O);if(le.set)le.set(A);else for(;F<I;++F)le[F]=A[F];return le}return A.length=O,A}function Xe(A){for(var L=new Array(A),I=0;I<A;++I)L[I]=0;return L}function ot(A,L,I){var O=1,F=0,B=0,le=0,pe=0,re=A.length,ue=be?new Uint16Array(32):Xe(32);for(B=0;B<32;++B)ue[B]=0;for(B=re;B<I;++B)A[B]=0;re=A.length;var ge=be?new Uint16Array(re):Xe(re);for(B=0;B<re;++B)ue[F=A[B]]++,O<F&&(O=F),ge[B]=0;for(ue[0]=0,B=1;B<=O;++B)ue[B+16]=pe=pe+ue[B-1]<<1;for(B=0;B<re;++B)pe=A[B],pe!=0&&(ge[B]=ue[pe+16]++);var Ne=0;for(B=0;B<re;++B)if(Ne=A[B],Ne!=0)for(pe=j(ge[B],O)>>O-Ne,le=(1<<O+4-Ne)-1;le>=0;--le)L[pe|le<<Ne]=Ne&15|B<<4;return O}var He=be?new Uint16Array(512):Xe(512),ht=be?new Uint16Array(32):Xe(32);if(!be){for(var We=0;We<512;++We)He[We]=0;for(We=0;We<32;++We)ht[We]=0}(function(){for(var A=[],L=0;L<32;L++)A.push(5);ot(A,ht,32);var I=[];for(L=0;L<=143;L++)I.push(8);for(;L<=255;L++)I.push(9);for(;L<=279;L++)I.push(7);for(;L<=287;L++)I.push(8);ot(I,He,288)})();var nt=(function(){for(var L=be?new Uint8Array(32768):[],I=0,O=0;I<Te.length-1;++I)for(;O<Te[I+1];++O)L[O]=I;for(;O<32768;++O)L[O]=29;var F=be?new Uint8Array(259):[];for(I=0,O=0;I<ae.length-1;++I)for(;O<ae[I+1];++O)F[O]=I;function B(pe,re){for(var ue=0;ue<pe.length;){var ge=Math.min(65535,pe.length-ue),Ne=ue+ge==pe.length;for(re.write_shift(1,+Ne),re.write_shift(2,ge),re.write_shift(2,~ge&65535);ge-- >0;)re[re.l++]=pe[ue++]}return re.l}function le(pe,re){for(var ue=0,ge=0,Ne=be?new Uint16Array(32768):[];ge<pe.length;){var Me=Math.min(65535,pe.length-ge);if(Me<10){for(ue=De(re,ue,+(ge+Me==pe.length)),ue&7&&(ue+=8-(ue&7)),re.l=ue/8|0,re.write_shift(2,Me),re.write_shift(2,~Me&65535);Me-- >0;)re[re.l++]=pe[ge++];ue=re.l*8;continue}ue=De(re,ue,+(ge+Me==pe.length)+2);for(var ze=0;Me-- >0;){var Re=pe[ge];ze=(ze<<5^Re)&32767;var Be=-1,dt=0;if((Be=Ne[ze])&&(Be|=ge&-32768,Be>ge&&(Be-=32768),Be<ge))for(;pe[Be+dt]==pe[ge+dt]&&dt<250;)++dt;if(dt>2){Re=F[dt],Re<=22?ue=Ge(re,ue,Se[Re+1]>>1)-1:(Ge(re,ue,3),ue+=5,Ge(re,ue,Se[Re-23]>>5),ue+=3);var Vt=Re<8?0:Re-4>>2;Vt>0&&(Le(re,ue,dt-ae[Re]),ue+=Vt),Re=L[ge-Be],ue=Ge(re,ue,Se[Re]>>3),ue-=3;var Wt=Re<4?0:Re-2>>1;Wt>0&&(Le(re,ue,ge-Be-Te[Re]),ue+=Wt);for(var Jt=0;Jt<dt;++Jt)Ne[ze]=ge&32767,ze=(ze<<5^pe[ge])&32767,++ge;Me-=dt-1}else Re<=143?Re=Re+48:ue=et(re,ue,1),ue=Ge(re,ue,Se[Re]),Ne[ze]=ge&32767,++ge}ue=Ge(re,ue,0)-1}return re.l=(ue+7)/8|0,re.l}return function(re,ue){return re.length<8?B(re,ue):le(re,ue)}})();function Qe(A){var L=Br(50+Math.floor(A.length*1.1)),I=nt(A,L);return L.slice(0,I)}var Qt=be?new Uint16Array(32768):Xe(32768),Qr=be?new Uint16Array(32768):Xe(32768),ye=be?new Uint16Array(128):Xe(128),Ie=1,qe=1;function Pe(A,L){var I=$e(A,L)+257;L+=5;var O=$e(A,L)+1;L+=5;var F=pt(A,L)+4;L+=4;for(var B=0,le=be?new Uint8Array(19):Xe(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ue=be?new Uint8Array(8):Xe(8),ge=be?new Uint8Array(8):Xe(8),Ne=le.length,Me=0;Me<F;++Me)le[Y[Me]]=B=ut(A,L),re<B&&(re=B),ue[B]++,L+=3;var ze=0;for(ue[0]=0,Me=1;Me<=re;++Me)ge[Me]=ze=ze+ue[Me-1]<<1;for(Me=0;Me<Ne;++Me)(ze=le[Me])!=0&&(pe[Me]=ge[ze]++);var Re=0;for(Me=0;Me<Ne;++Me)if(Re=le[Me],Re!=0){ze=Se[pe[Me]]>>8-Re;for(var Be=(1<<7-Re)-1;Be>=0;--Be)ye[ze|Be<<Re]=Re&7|Me<<3}var dt=[];for(re=1;dt.length<I+O;)switch(ze=ye[we(A,L)],L+=ze&7,ze>>>=3){case 16:for(B=3+Tt(A,L),L+=2,ze=dt[dt.length-1];B-- >0;)dt.push(ze);break;case 17:for(B=3+ut(A,L),L+=3;B-- >0;)dt.push(0);break;case 18:for(B=11+we(A,L),L+=7;B-- >0;)dt.push(0);break;default:dt.push(ze),re<ze&&(re=ze);break}var Vt=dt.slice(0,I),Wt=dt.slice(I);for(Me=I;Me<286;++Me)Vt[Me]=0;for(Me=O;Me<30;++Me)Wt[Me]=0;return Ie=ot(Vt,Qt,286),qe=ot(Wt,Qr,30),L}function Ue(A,L){if(A[0]==3&&!(A[1]&3))return[Ai(L),2];for(var I=0,O=0,F=Cw(L||1<<18),B=0,le=F.length>>>0,pe=0,re=0;(O&1)==0;){if(O=ut(A,I),I+=3,O>>>1)O>>1==1?(pe=9,re=5):(I=Pe(A,I),pe=Ie,re=qe);else{I&7&&(I+=8-(I&7));var ue=A[I>>>3]|A[(I>>>3)+1]<<8;if(I+=32,ue>0)for(!L&&le<B+ue&&(F=je(F,B+ue),le=F.length);ue-- >0;)F[B++]=A[I>>>3],I+=8;continue}for(;;){!L&&le<B+32767&&(F=je(F,B+32767),le=F.length);var ge=ft(A,I,pe),Ne=O>>>1==1?He[ge]:Qt[ge];if(I+=Ne&15,Ne>>>=4,(Ne>>>8&255)===0)F[B++]=Ne;else{if(Ne==256)break;Ne-=257;var Me=Ne<8?0:Ne-4>>2;Me>5&&(Me=0);var ze=B+ae[Ne];Me>0&&(ze+=ft(A,I,Me),I+=Me),ge=ft(A,I,re),Ne=O>>>1==1?ht[ge]:Qr[ge],I+=Ne&15,Ne>>>=4;var Re=Ne<4?0:Ne-2>>1,Be=Te[Ne];for(Re>0&&(Be+=ft(A,I,Re),I+=Re),!L&&le<ze&&(F=je(F,ze+100),le=F.length);B<ze;)F[B]=F[B-Be],++B}}}return L?[F,I+7>>>3]:[F.slice(0,B),I+7>>>3]}function Ve(A,L){var I=A.slice(A.l||0),O=Ue(I,L);return A.l+=O[1],O[0]}function gt(A,L){if(A)typeof console<"u"&&console.error(L);else throw new Error(L)}function vt(A,L){var I=A;rn(I,0);var O=[],F=[],B={FileIndex:O,FullPaths:F};D(B,{root:L.root});for(var le=I.length-4;(I[le]!=80||I[le+1]!=75||I[le+2]!=5||I[le+3]!=6)&&le>=0;)--le;I.l=le+4,I.l+=4;var pe=I.read_shift(2);I.l+=6;var re=I.read_shift(4);for(I.l=re,le=0;le<pe;++le){I.l+=20;var ue=I.read_shift(4),ge=I.read_shift(4),Ne=I.read_shift(2),Me=I.read_shift(2),ze=I.read_shift(2);I.l+=8;var Re=I.read_shift(4),Be=u(I.slice(I.l+Ne,I.l+Ne+Me));I.l+=Ne+Me+ze;var dt=I.l;I.l=Re+4,Ot(I,ue,ge,B,Be),I.l=dt}return B}function Ot(A,L,I,O,F){A.l+=2;var B=A.read_shift(2),le=A.read_shift(2),pe=c(A);if(B&8257)throw new Error("Unsupported ZIP encryption");for(var re=A.read_shift(4),ue=A.read_shift(4),ge=A.read_shift(4),Ne=A.read_shift(2),Me=A.read_shift(2),ze="",Re=0;Re<Ne;++Re)ze+=String.fromCharCode(A[A.l++]);if(Me){var Be=u(A.slice(A.l,A.l+Me));(Be[21589]||{}).mt&&(pe=Be[21589].mt),((F||{})[21589]||{}).mt&&(pe=F[21589].mt)}A.l+=Me;var dt=A.slice(A.l,A.l+ue);switch(le){case 8:dt=z(A,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var Vt=!1;B&8&&(re=A.read_shift(4),re==134695760&&(re=A.read_shift(4),Vt=!0),ue=A.read_shift(4),ge=A.read_shift(4)),ue!=L&&gt(Vt,"Bad compressed size: "+L+" != "+ue),ge!=I&&gt(Vt,"Bad uncompressed size: "+I+" != "+ge),Ir(O,ze,dt,{unsafe:!0,mt:pe})}function tt(A,L){var I=L||{},O=[],F=[],B=Br(1),le=I.compression?8:0,pe=0,re=0,ue=0,ge=0,Ne=0,Me=A.FullPaths[0],ze=Me,Re=A.FileIndex[0],Be=[],dt=0;for(re=1;re<A.FullPaths.length;++re)if(ze=A.FullPaths[re].slice(Me.length),Re=A.FileIndex[re],!(!Re.size||!Re.content||ze=="Sh33tJ5")){var Vt=ge,Wt=Br(ze.length);for(ue=0;ue<ze.length;++ue)Wt.write_shift(1,ze.charCodeAt(ue)&127);Wt=Wt.slice(0,Wt.l),Be[Ne]=jL.buf(Re.content,0);var Jt=Re.content;le==8&&(Jt=V(Jt)),B=Br(30),B.write_shift(4,67324752),B.write_shift(2,20),B.write_shift(2,pe),B.write_shift(2,le),Re.mt?o(B,Re.mt):B.write_shift(4,0),B.write_shift(-4,Be[Ne]),B.write_shift(4,Jt.length),B.write_shift(4,Re.content.length),B.write_shift(2,Wt.length),B.write_shift(2,0),ge+=B.length,O.push(B),ge+=Wt.length,O.push(Wt),ge+=Jt.length,O.push(Jt),B=Br(46),B.write_shift(4,33639248),B.write_shift(2,0),B.write_shift(2,20),B.write_shift(2,pe),B.write_shift(2,le),B.write_shift(4,0),B.write_shift(-4,Be[Ne]),B.write_shift(4,Jt.length),B.write_shift(4,Re.content.length),B.write_shift(2,Wt.length),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(4,0),B.write_shift(4,Vt),dt+=B.l,F.push(B),dt+=Wt.length,F.push(Wt),++Ne}return B=Br(22),B.write_shift(4,101010256),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,Ne),B.write_shift(2,Ne),B.write_shift(4,dt),B.write_shift(4,ge),B.write_shift(2,0),di([di(O),di(F),B])}var Lt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mt(A,L){if(A.ctype)return A.ctype;var I=A.name||"",O=I.match(/\.([^\.]+)$/);return O&&Lt[O[1]]||L&&(O=(I=L).match(/[\.\\]([^\.\\])+$/),O&&Lt[O[1]])?Lt[O[1]]:"application/octet-stream"}function Un(A){for(var L=kw(A),I=[],O=0;O<L.length;O+=76)I.push(L.slice(O,O+76));return I.join(`\r
`)+`\r
`}function Pa(A){var L=A.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var ge=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var I=[],O=L.split(`\r
`),F=0;F<O.length;++F){var B=O[F];if(B.length==0){I.push("");continue}for(var le=0;le<B.length;){var pe=76,re=B.slice(le,le+pe);re.charAt(pe-1)=="="?pe--:re.charAt(pe-2)=="="?pe-=2:re.charAt(pe-3)=="="&&(pe-=3),re=B.slice(le,le+pe),le+=pe,le<B.length&&(re+="="),I.push(re)}}return I.join(`\r
`)}function Zt(A){for(var L=[],I=0;I<A.length;++I){for(var O=A[I];I<=A.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+A[++I];L.push(O)}for(var F=0;F<L.length;++F)L[F]=L[F].replace(/[=][0-9A-Fa-f]{2}/g,function(B){return String.fromCharCode(parseInt(B.slice(1),16))});return ka(L.join(`\r
`))}function Io(A,L,I){for(var O="",F="",B="",le,pe=0;pe<10;++pe){var re=L[pe];if(!re||re.match(/^\s*$/))break;var ue=re.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":O=ue[2].trim();break;case"content-type":B=ue[2].trim();break;case"content-transfer-encoding":F=ue[2].trim();break}}switch(++pe,F.toLowerCase()){case"base64":le=ka(Jn(L.slice(pe).join("")));break;case"quoted-printable":le=Zt(L.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var ge=Ir(A,O.slice(I.length),le,{unsafe:!0});B&&(ge.ctype=B)}function Zc(A,L){if(J(A.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var I=L&&L.root||"",O=(Ft&&Buffer.isBuffer(A)?A.toString("binary"):J(A)).split(`\r
`),F=0,B="";for(F=0;F<O.length;++F)if(B=O[F],!!/^Content-Location:/i.test(B)&&(B=B.slice(B.indexOf("file")),I||(I=B.slice(0,B.lastIndexOf("/")+1)),B.slice(0,I.length)!=I))for(;I.length>0&&(I=I.slice(0,I.length-1),I=I.slice(0,I.lastIndexOf("/")+1),B.slice(0,I.length)!=I););var le=(O[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var pe="--"+(le[1]||""),re=[],ue=[],ge={FileIndex:re,FullPaths:ue};D(ge);var Ne,Me=0;for(F=0;F<O.length;++F){var ze=O[F];ze!==pe&&ze!==pe+"--"||(Me++&&Io(ge,O.slice(Ne,F),I),Ne=F)}return ge}function ea(A,L){var I=L||{},O=I.boundary||"SheetJS";O="------="+O;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],B=A.FullPaths[0],le=B,pe=A.FileIndex[0],re=1;re<A.FullPaths.length;++re)if(le=A.FullPaths[re].slice(B.length),pe=A.FileIndex[re],!(!pe.size||!pe.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dt){return"_x"+dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dt){return"_u"+dt.charCodeAt(0).toString(16)+"_"});for(var ue=pe.content,ge=Ft&&Buffer.isBuffer(ue)?ue.toString("binary"):J(ue),Ne=0,Me=Math.min(1024,ge.length),ze=0,Re=0;Re<=Me;++Re)(ze=ge.charCodeAt(Re))>=32&&ze<128&&++Ne;var Be=Ne>=Me*4/5;F.push(O),F.push("Content-Location: "+(I.root||"file:///C:/SheetJS/")+le),F.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),F.push("Content-Type: "+Mt(pe,le)),F.push(""),F.push(Be?Pa(ge):Un(ge))}return F.push(O+`--\r
`),F.join(`\r
`)}function Dr(A){var L={};return D(L,A),L}function Ir(A,L,I,O){var F=O&&O.unsafe;F||D(A);var B=!F&&Ut.find(A,L);if(!B){var le=A.FullPaths[0];L.slice(0,le.length)==le?le=L:(le.slice(-1)!="/"&&(le+="/"),le=(le+L).replace("//","/")),B={name:a(L),type:2},A.FileIndex.push(B),A.FullPaths.push(le),F||Ut.utils.cfb_gc(A)}return B.content=I,B.size=I?I.length:0,O&&(O.CLSID&&(B.clsid=O.CLSID),O.mt&&(B.mt=O.mt),O.ct&&(B.ct=O.ct)),B}function Ua(A,L){D(A);var I=Ut.find(A,L);if(I){for(var O=0;O<A.FileIndex.length;++O)if(A.FileIndex[O]==I)return A.FileIndex.splice(O,1),A.FullPaths.splice(O,1),!0}return!1}function Ii(A,L,I){D(A);var O=Ut.find(A,L);if(O){for(var F=0;F<A.FileIndex.length;++F)if(A.FileIndex[F]==O)return A.FileIndex[F].name=a(I),A.FullPaths[F]=I,!0}return!1}function Ri(A){H(A,!0)}return e.find=ne,e.read=W,e.parse=m,e.write=M,e.writeFile=Oe,e.utils={cfb_new:Dr,cfb_add:Ir,cfb_del:Ua,cfb_mov:Ii,cfb_gc:Ri,ReadShift:pu,CheckField:bA,prep_blob:rn,bconcat:di,use_zlib:C,_deflateRaw:Qe,_inflateRaw:Ve,consts:se},e})();function HL(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Ja(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Fp(t){for(var e=[],r=Ja(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var yd=new Date(1899,11,30,0,0,0);function Cn(t,e){var r=t.getTime(),n=yd.getTime()+(t.getTimezoneOffset()-yd.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var nA=new Date,zL=yd.getTime()+(nA.getTimezoneOffset()-yd.getTimezoneOffset())*6e4,Lw=nA.getTimezoneOffset();function qd(t){var e=new Date;return e.setTime(t*24*60*60*1e3+zL),e.getTimezoneOffset()!==Lw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Lw)*6e4),e}function VL(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var o=1;o!=a.length;++o)if(a[o]){switch(r=1,o>3&&(n=!0),a[o].slice(a[o].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[o].slice(a[o].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[o],10)}return e}var Pw=new Date("2017-02-19T19:06:09.000Z"),aA=isNaN(Pw.getFullYear())?new Date("2/19/17"):Pw,GL=aA.getFullYear()==2017;function Xr(t,e){var r=new Date(t);if(GL)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(aA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function xo(t,e){if(Ft&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return iu(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return iu(GS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return iu(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return iu(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return r[o]||o})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function an(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=an(t[r]));return e}function yr(t,e){for(var r="";r.length<e;)r+=t;return r}function Oa(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,o){return r=-r,o}),!isNaN(e=Number(n)))?e/r:e}var YL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Uc(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),o=e.getDate();if(isNaN(o))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&YL.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||o>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var WL=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var o=r.split(n),c=[o[0]],u=1;u<o.length;++u)c.push(a),c.push(o[u]);return c}})();function sA(t){return t?t.content&&t.type?xo(t.content,!0):t.data?nu(t.data):t.asNodeBuffer&&Ft?nu(t.asNodeBuffer().toString("binary")):t.asBinary?nu(t.asBinary()):t._data&&t._data.getContent?nu(xo(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function iA(t){if(!t)return null;if(t.data)return Sw(t.data);if(t.asNodeBuffer&&Ft)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?Sw(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function $L(t){return t&&t.name.slice(-4)===".bin"?iA(t):sA(t)}function da(t,e){for(var r=t.FullPaths||Ja(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),o=0;o<r.length;++o){var c=r[o].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==c||a==c)return t.files?t.files[r[o]]:t.FileIndex[o]}return null}function Lp(t,e){var r=da(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Fr(t,e,r){if(!r)return $L(Lp(t,e));if(!e)return null;try{return Fr(t,e)}catch{return null}}function Qn(t,e,r){if(!r)return sA(Lp(t,e));if(!e)return null;try{return Qn(t,e)}catch{return null}}function KL(t,e,r){return iA(Lp(t,e))}function Uw(t){for(var e=t.FullPaths||Ja(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function qL(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Ft?n=bo(r):n=gL(r),Ut.utils.cfb_add(t,e,n)}Ut.utils.cfb_add(t,e,r)}else t.file(e,r)}function oA(t,e){switch(e.type){case"base64":return Ut.read(t,{type:"base64"});case"binary":return Ut.read(t,{type:"binary"});case"buffer":case"array":return Ut.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function su(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var cA=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,XL=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Bw=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,QL=/<[^>]*>/g,pn=cA.match(Bw)?Bw:QL,ZL=/<\w*:/,JL=/<(\/?)\w+:/;function lt(t,e,r){for(var n={},a=0,o=0;a!==t.length&&!((o=t.charCodeAt(a))===32||o===10||o===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var c=t.match(XL),u=0,d="",h=0,m="",y="",v=1;if(c)for(h=0;h!=c.length;++h){for(y=c[h],o=0;o!=y.length&&y.charCodeAt(o)!==61;++o);for(m=y.slice(0,o).trim();y.charCodeAt(o+1)==32;)++o;for(v=(a=y.charCodeAt(o+1))==34||a==39?1:0,d=y.slice(o+1+v,y.length-v),u=0;u!=m.length&&m.charCodeAt(u)!==58;++u);if(u===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=d,n[m.toLowerCase()]=d;else{var T=(u===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(u+1);if(n[T]&&m.slice(u-3,u)=="ext")continue;n[T]=d,n[T.toLowerCase()]=d}}return n}function rs(t){return t.replace(JL,"<$1")}var lA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e9=Fp(lA),jt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",o=a.indexOf("<![CDATA[");if(o==-1)return a.replace(t,function(u,d){return lA[u]||String.fromCharCode(parseInt(d,u.indexOf("x")>-1?16:10))||u}).replace(e,function(u,d){return String.fromCharCode(parseInt(d,16))});var c=a.indexOf("]]>");return r(a.slice(0,o))+a.slice(o+9,c)+r(a.slice(c+3))}})(),t9=/[&<>'"]/g,r9=/[\u0000-\u001f]/g;function Pp(t){var e=t+"";return e.replace(t9,function(r){return e9[r]}).replace(/\n/g,"<br/>").replace(r9,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var jw=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function hr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Im(t){for(var e="",r=0,n=0,a=0,o=0,c=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=a&63,e+=String.fromCharCode(c);continue}if(o=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|o&63);continue}c=t.charCodeAt(r++),u=((n&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function Hw(t){var e=Ai(2*t.length),r,n,a=1,o=0,c=0,u;for(n=0;n<t.length;n+=a)a=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),a=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=r%256,e[o++]=r>>>8;return e.slice(0,o).toString("ucs2")}function zw(t){return bo(t,"binary").toString("utf8")}var Sf="foo bar bazâð£",ur=Ft&&(zw(Sf)==Im(Sf)&&zw||Hw(Sf)==Im(Sf)&&Hw)||Im,iu=Ft?function(t){return bo(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},ju=(function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),uA=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),n9=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),a9=/<\/?(?:vt:)?variant>/g,s9=/<(?:vt:)([^>]*)>([\s\S]*)</;function Vw(t,e){var r=lt(t),n=t.match(n9(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(o){var c=o.replace(a9,"").match(s9);c&&a.push({v:ur(c[2]),t:c[1]})}),a}var i9=/(^\s|\s$|\n)/;function o9(t){return Ja(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function c9(t,e,r){return"<"+t+(r!=null?o9(r):"")+(e!=null?(e.match(i9)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Up(t){if(Ft&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ur(So(Rp(t)));throw new Error("Bad input format: expected Buffer or string")}var Hu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,l9={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},u9=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function f9(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,o=5;o>=0;--o)a=a*256+t[e+o];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function d9(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,o=0,c=n?-e:e;isFinite(c)?c==0?a=o=0:(a=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?a=-1022:(o-=Math.pow(2,52),a+=1023)):(a=2047,o=isNaN(e)?26985:0);for(var u=0;u<=5;++u,o/=256)t[r+u]=o&255;t[r+6]=(a&15)<<4|o&15,t[r+7]=a>>4|n}var Gw=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,o=t[0][n].length;a<o;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},Yw=Ft?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:bo(e)})):Gw(t)}:Gw,Ww=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(bs(t,a)));return n.join("").replace(An,"")},Bp=Ft?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(An,""):Ww(t,e,r)}:Ww,$w=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},fA=Ft?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):$w(t,e,r)}:$w,Kw=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(xc(t,a)));return n.join("")},s0=Ft?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Kw(e,r,n)}:Kw,dA=function(t,e){var r=Xn(t,e);return r>0?s0(t,e+4,e+4+r-1):""},hA=dA,gA=function(t,e){var r=Xn(t,e);return r>0?s0(t,e+4,e+4+r-1):""},mA=gA,pA=function(t,e){var r=2*Xn(t,e);return r>0?s0(t,e+4,e+4+r-1):""},xA=pA,yA=function(e,r){var n=Xn(e,r);return n>0?Bp(e,r+4,r+4+n):""},vA=yA,_A=function(t,e){var r=Xn(t,e);return r>0?s0(t,e+4,e+4+r):""},wA=_A,TA=function(t,e){return f9(t,e)},vd=TA,EA=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ft&&(hA=function(e,r){if(!Buffer.isBuffer(e))return dA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},mA=function(e,r){if(!Buffer.isBuffer(e))return gA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xA=function(e,r){if(!Buffer.isBuffer(e))return pA(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},vA=function(e,r){if(!Buffer.isBuffer(e))return yA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},wA=function(e,r){if(!Buffer.isBuffer(e))return _A(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},vd=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):TA(e,r)},EA=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xc=function(t,e){return t[e]},bs=function(t,e){return t[e+1]*256+t[e]},h9=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Xn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ji=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},g9=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function pu(t,e){var r="",n,a,o=[],c,u,d,h;switch(e){case"dbcs":if(h=this.l,Ft&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(bs(this,h)),h+=2;t*=2;break;case"utf8":r=s0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Bp(this,this.l,this.l+t);break;case"wstr":return pu.call(this,t,"dbcs");case"lpstr-ansi":r=hA(this,this.l),t=4+Xn(this,this.l);break;case"lpstr-cp":r=mA(this,this.l),t=4+Xn(this,this.l);break;case"lpwstr":r=xA(this,this.l),t=4+2*Xn(this,this.l);break;case"lpp4":t=4+Xn(this,this.l),r=vA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Xn(this,this.l),r=wA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=xc(this,this.l+t++))!==0;)o.push(bf(c));r=o.join("");break;case"_wstr":for(t=0,r="";(c=bs(this,this.l+t))!==0;)o.push(bf(c)),t+=2;t+=2,r=o.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return c=xc(this,h),this.l=h+1,u=pu.call(this,t-d,c?"dbcs-cont":"sbcs-cont"),o.join("")+u;o.push(bf(bs(this,h))),h+=2}r=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return c=xc(this,h),this.l=h+1,u=pu.call(this,t-d,c?"dbcs-cont":"sbcs-cont"),o.join("")+u;o.push(bf(xc(this,h))),h+=1}r=o.join("");break;default:switch(t){case 1:return n=xc(this,this.l),this.l++,n;case 2:return n=(e==="i"?h9:bs)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Ji:g9)(this,this.l),this.l+=4,n):(a=Xn(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=vd(this,this.l):a=vd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=fA(this,this.l,t);break}}return this.l+=t,r}var m9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},p9=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},x9=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function y9(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)x9(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var c=e.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,m9(this,e,this.l);break;case 8:if(n=8,r==="f"){d9(this,e,this.l);break}case 16:break;case-4:n=4,p9(this,e,this.l);break}return this.l+=n,this}function bA(t,e){var r=fA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function rn(t,e){t.l=e,t.read_shift=pu,t.chk=bA,t.write_shift=y9}function mn(t,e){t.l+=e}function Br(t){var e=Ai(t);return rn(e,0),e}function Fs(t,e,r){if(t){var n,a,o;rn(t,t.l||0);for(var c=t.length,u=0,d=0;t.l<c;){u=t.read_shift(1),u&128&&(u=(u&127)+((t.read_shift(1)&127)<<7));var h=Sd[u]||Sd[65535];for(n=t.read_shift(1),o=n&127,a=1;a<4&&n&128;++a)o+=((n=t.read_shift(1))&127)<<7*a;d=t.l+o;var m=h.f&&h.f(t,o,r);if(t.l=d,e(m,h,u))return}}}function g1(){var t=[],e=Ft?256:2048,r=function(h){var m=Br(h);return rn(m,0),m},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},o=function(h){return n&&h<n.length-n.l?n:(a(),n=r(Math.max(h+1,e)))},c=function(){return a(),di(t)},u=function(h){a(),n=h,n.l==null&&(n.l=n.length),o(e)};return{next:o,push:u,end:c,_bufs:t}}function xu(t,e,r){var n=an(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function qw(t,e,r){var n=an(t);return n.s=xu(n.s,e.s,r),n.e=xu(n.e,e.s,r),n}function yu(t,e){if(t.cRel&&t.c<0)for(t=an(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=an(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=yt(t);return!t.cRel&&t.cRel!=null&&(r=w9(r)),!t.rRel&&t.rRel!=null&&(r=v9(r)),r}function Rm(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+zr(t.s.c)+":"+(t.e.cRel?"":"$")+zr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+sn(t.s.r)+":"+(t.e.rRel?"":"$")+sn(t.e.r):yu(t.s,e.biff)+":"+yu(t.e,e.biff)}function jp(t){return parseInt(_9(t),10)-1}function sn(t){return""+(t+1)}function v9(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _9(t){return t.replace(/\$(\d+)$/,"$1")}function Hp(t){for(var e=T9(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function zr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function w9(t){return t.replace(/^([A-Z])/,"$$$1")}function T9(t){return t.replace(/^\$([A-Z])/,"$1")}function E9(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bn(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function yt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Xc(t){var e=t.indexOf(":");return e==-1?{s:bn(t),e:bn(t)}:{s:bn(t.slice(0,e)),e:bn(t.slice(e+1))}}function Bt(t,e){return typeof e>"u"||typeof e=="number"?Bt(t.s,t.e):(typeof t!="string"&&(t=yt(t)),typeof e!="string"&&(e=yt(e)),t==e?t:t+":"+e)}function Er(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,o=t.length;for(r=0;n<o&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<o&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===o||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=o&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=o&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function Xw(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=va(t.z,r?Cn(e):e)}catch{}try{return t.w=va((t.XF||{}).numFmtId||(r?14:0),r?Cn(e):e)}catch{return""+e}}function Rs(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Co[t.v]||t.v:e==null?Xw(t,t.v):Xw(t,e))}function Di(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function SA(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,o=t||(a?[]:{}),c=0,u=0;if(o&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?bn(n.origin):n.origin;c=d.r,u=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var m=Er(o["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),c==-1&&(h.e.r=c=m.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[y].length;++v)if(!(typeof e[y][v]>"u")){var T={v:e[y][v]},_=c+y,w=u+v;if(h.s.r>_&&(h.s.r=_),h.s.c>w&&(h.s.c=w),h.e.r<_&&(h.e.r=_),h.e.c<w&&(h.e.c=w),e[y][v]&&typeof e[y][v]=="object"&&!Array.isArray(e[y][v])&&!(e[y][v]instanceof Date))T=e[y][v];else if(Array.isArray(T.v)&&(T.f=e[y][v][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(n.nullError)T.t="e",T.v=0;else if(n.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=n.dateNF||_t[14],n.cellDates?(T.t="d",T.w=va(T.z,Cn(T.v))):(T.t="n",T.v=Cn(T.v),T.w=va(T.z,T.v))):T.t="s";if(a)o[_]||(o[_]=[]),o[_][w]&&o[_][w].z&&(T.z=o[_][w].z),o[_][w]=T;else{var b=yt({c:w,r:_});o[b]&&o[b].z&&(T.z=o[b].z),o[b]=T}}}return h.s.c<1e7&&(o["!ref"]=Bt(h)),o}function Qc(t,e){return SA(null,t,e)}function b9(t){return t.read_shift(4,"i")}function gn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function S9(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function zp(t,e){var r=t.l,n=t.read_shift(1),a=gn(t),o=[],c={t:a,h:a};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)o.push(S9(t));c.r=o}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}var A9=zp;function _a(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Ao(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var k9=gn;function Vp(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var C9=gn,m1=Vp;function Gp(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?vd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ji(e,0)>>2;return r?a/100:a}function AA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var ko=AA;function dn(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function N9(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),o=t.read_shift(2,"i"),c=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var h=ao[a];h&&(e.rgb=Vu(h));break;case 2:e.rgb=Vu([c,u,d]);break;case 3:e.theme=a;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function D9(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function kA(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function I9(t){return kA(t,1)}function R9(t){return kA(t,2)}var Yp=2,Fn=3,Af=11,Qw=12,_d=19,kf=64,O9=65,M9=71,F9=4108,L9=4126,Kr=80,CA=81,P9=[Kr,CA],U9={1:{n:"CodePage",t:Yp},2:{n:"Category",t:Kr},3:{n:"PresentationFormat",t:Kr},4:{n:"ByteCount",t:Fn},5:{n:"LineCount",t:Fn},6:{n:"ParagraphCount",t:Fn},7:{n:"SlideCount",t:Fn},8:{n:"NoteCount",t:Fn},9:{n:"HiddenCount",t:Fn},10:{n:"MultimediaClipCount",t:Fn},11:{n:"ScaleCrop",t:Af},12:{n:"HeadingPairs",t:F9},13:{n:"TitlesOfParts",t:L9},14:{n:"Manager",t:Kr},15:{n:"Company",t:Kr},16:{n:"LinksUpToDate",t:Af},17:{n:"CharacterCount",t:Fn},19:{n:"SharedDoc",t:Af},22:{n:"HyperlinksChanged",t:Af},23:{n:"AppVersion",t:Fn,p:"version"},24:{n:"DigSig",t:O9},26:{n:"ContentType",t:Kr},27:{n:"ContentStatus",t:Kr},28:{n:"Language",t:Kr},29:{n:"Version",t:Kr},255:{},2147483648:{n:"Locale",t:_d},2147483651:{n:"Behavior",t:_d},1919054434:{}},B9={1:{n:"CodePage",t:Yp},2:{n:"Title",t:Kr},3:{n:"Subject",t:Kr},4:{n:"Author",t:Kr},5:{n:"Keywords",t:Kr},6:{n:"Comments",t:Kr},7:{n:"Template",t:Kr},8:{n:"LastAuthor",t:Kr},9:{n:"RevNumber",t:Kr},10:{n:"EditTime",t:kf},11:{n:"LastPrinted",t:kf},12:{n:"CreatedDate",t:kf},13:{n:"ModifiedDate",t:kf},14:{n:"PageCount",t:Fn},15:{n:"WordCount",t:Fn},16:{n:"CharCount",t:Fn},17:{n:"Thumbnail",t:M9},18:{n:"Application",t:Kr},19:{n:"DocSecurity",t:Fn},255:{},2147483648:{n:"Locale",t:_d},2147483651:{n:"Behavior",t:_d},1919054434:{}},Zw={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},j9=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function H9(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var z9=H9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ao=an(z9),Co={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},NA={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Jw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function V9(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function G9(t){var e=V9();if(!t||!t.match)return e;var r={};if((t.match(pn)||[]).forEach(function(n){var a=lt(n);switch(a[0].replace(ZL,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[Jw[a.ContentType]]!==void 0&&e[Jw[a.ContentType]].push(a.PartName);break}}),e.xmlns!==l9.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var _c={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function p1(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function vu(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(pn)||[]).forEach(function(a){var o=lt(a);if(o[0]==="<Relationship"){var c={};c.Type=o.Type,c.Target=o.Target,c.Id=o.Id,o.TargetMode&&(c.TargetMode=o.TargetMode);var u=o.TargetMode==="External"?o.Target:su(o.Target,e);r[u]=c,n[o.Id]=c}}),r["!id"]=n,r}var Y9="application/vnd.oasis.opendocument.spreadsheet";function W9(t,e){for(var r=Up(t),n,a;n=Hu.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lt(n[0],!1),a.path=="/"&&a.type!==Y9)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var _u=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$9=(function(){for(var t=new Array(_u.length),e=0;e<_u.length;++e){var r=_u[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function DA(t){var e={};t=ur(t);for(var r=0;r<_u.length;++r){var n=_u[r],a=t.match($9[r]);a!=null&&a.length>0&&(e[n[1]]=jt(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Xr(e[n[1]]))}return e}var K9=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function IA(t,e,r,n){var a=[];if(typeof t=="string")a=Vw(t,n);else for(var o=0;o<t.length;++o)a=a.concat(t[o].map(function(m){return{v:m}}));var c=typeof e=="string"?Vw(e,n).map(function(m){return m.v}):e,u=0,d=0;if(c.length>0)for(var h=0;h!==a.length;h+=2){switch(d=+a[h+1].v,a[h].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=c.slice(u,u+d);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=d,r.DefinedNames=c.slice(u,u+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=c.slice(u,u+d);break}u+=d}}function q9(t,e,r){var n={};return e||(e={}),t=ur(t),K9.forEach(function(a){var o=(t.match(ju(a[0]))||[])[1];switch(a[2]){case"string":o&&(e[a[1]]=jt(o));break;case"bool":e[a[1]]=o==="true";break;case"raw":var c=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));c&&c.length>0&&(n[a[1]]=c[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&IA(n.HeadingPairs,n.TitlesOfParts,e,r),e}var X9=/<[^>]+>[^<]*/g;function Q9(t,e){var r={},n="",a=t.match(X9);if(a)for(var o=0;o!=a.length;++o){var c=a[o],u=lt(c);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jt(u.name);break;case"</property>":n=null;break;default:if(c.indexOf("<vt:")===0){var d=c.split(">"),h=d[0].slice(4),m=d[1];switch(h){case"lpstr":case"bstr":case"lpwstr":r[n]=jt(m);break;case"bool":r[n]=hr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=Xr(m);break;case"cy":case"error":r[n]=jt(m);break;default:if(h.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",c,h,d)}}else if(c.slice(0,2)!=="</"){if(e.WTF)throw new Error(c)}}}return r}var Z9={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Om;function J9(t,e,r){Om||(Om=Fp(Z9)),e=Om[e]||e,t[e]=r}function Wp(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function RA(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function OA(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function MA(t,e,r){return e===31?OA(t):RA(t,e,r)}function x1(t,e,r){return MA(t,e,r===!1?0:4)}function eP(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return MA(t,e,0)}function tP(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(An,""),t.l-a&2&&(t.l+=2)}return r}function rP(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(An,"");return r}function nP(t){var e=t.l,r=wd(t,CA);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=wd(t,Fn);return[r,n]}function aP(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(nP(t));return r}function eT(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var o=t.read_shift(4),c=t.read_shift(4);n[o]=t.read_shift(c,e===1200?"utf16le":"utf8").replace(An,"").replace(au,"!"),e===1200&&c%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function FA(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function sP(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function wd(t,e,r){var n=t.read_shift(2),a,o=r||{};if(t.l+=2,e!==Qw&&n!==e&&P9.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Qw?n:e){case 2:return a=t.read_shift(2,"i"),o.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return RA(t,n,4).replace(An,"");case 31:return OA(t);case 64:return Wp(t);case 65:return FA(t);case 71:return sP(t);case 80:return x1(t,n,!o.raw).replace(An,"");case 81:return eP(t,n).replace(An,"");case 4108:return aP(t);case 4126:case 4127:return n==4127?tP(t):rP(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function tT(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),o=[],c=0,u=0,d=-1,h={};for(c=0;c!=a;++c){var m=t.read_shift(4),y=t.read_shift(4);o[c]=[m,y+r]}o.sort(function(R,S){return R[1]-S[1]});var v={};for(c=0;c!=a;++c){if(t.l!==o[c][1]){var T=!0;if(c>0&&e)switch(e[o[c-1][0]].t){case 2:t.l+2===o[c][1]&&(t.l+=2,T=!1);break;case 80:t.l<=o[c][1]&&(t.l=o[c][1],T=!1);break;case 4108:t.l<=o[c][1]&&(t.l=o[c][1],T=!1);break}if((!e||c==0)&&t.l<=o[c][1]&&(T=!1,t.l=o[c][1]),T)throw new Error("Read Error: Expected address "+o[c][1]+" at "+t.l+" :"+c)}if(e){var _=e[o[c][0]];if(v[_.n]=wd(t,_.t,{raw:!0}),_.p==="version"&&(v[_.n]=String(v[_.n]>>16)+"."+("0000"+String(v[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(v[_.n]){case 0:v[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Da(u=v[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[_.n])}}else if(o[c][0]===1){if(u=v.CodePage=wd(t,Yp),Da(u),d!==-1){var w=t.l;t.l=o[d][1],h=eT(t,u),t.l=w}}else if(o[c][0]===0){if(u===0){d=c,t.l=o[c+1][1];continue}h=eT(t,u)}else{var b=h[o[c][0]],N;switch(t[t.l]){case 65:t.l+=4,N=FA(t);break;case 30:t.l+=4,N=x1(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,N=x1(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,N=t.read_shift(4,"i");break;case 19:t.l+=4,N=t.read_shift(4);break;case 5:t.l+=4,N=t.read_shift(8,"f");break;case 11:t.l+=4,N=Ar(t,4);break;case 64:t.l+=4,N=Xr(Wp(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[b]=N}}return t.l=r+n,v}function rT(t,e,r){var n=t.content;if(!n)return{};rn(n,0);var a,o,c,u,d=0;n.chk("feff","Byte Order: "),n.read_shift(2);var h=n.read_shift(4),m=n.read_shift(16);if(m!==Ut.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(o=n.read_shift(16),u=n.read_shift(4),a===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);a===2&&(c=n.read_shift(16),d=n.read_shift(4));var y=tT(n,e),v={SystemIdentifier:h};for(var T in y)v[T]=y[T];if(v.FMTID=o,a===1)return v;if(d-n.l==2&&(n.l+=2),n.l!==d)throw new Error("Length mismatch 2: "+n.l+" !== "+d);var _;try{_=tT(n,null)}catch{}for(T in _)v[T]=_[T];return v.FMTID=[o,c],v}function ii(t,e){return t.read_shift(e),null}function iP(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function Ar(t,e){return t.read_shift(e)===1}function Lr(t){return t.read_shift(2,"u")}function LA(t,e){return iP(t,e,Lr)}function oP(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function i0(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var o=t.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var c=n?t.read_shift(n,a):"";return c}function cP(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,o=1+(r&1),c=0,u,d={};a&&(c=t.read_shift(2)),n&&(u=t.read_shift(4));var h=o==2?"dbcs-cont":"sbcs-cont",m=e===0?"":t.read_shift(e,h);return a&&(t.l+=4*c),n&&(t.l+=u),d.t=m,a||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function yo(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function o0(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):yo(t,n,r)}function No(t,e,r){if(r.biff>5)return o0(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function lP(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function uP(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(An,"");return n&&(t.l+=24),a}function fP(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var o=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var c=t.read_shift(o>>1,"utf16le").replace(An,"");return r+c}function dP(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return uP(t);case"0303000000000000c000000000000046":return fP(t);default:throw new Error("Unsupported Moniker "+r)}}function Cf(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(An,""):"";return r}function hP(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var o,c,u,d,h="",m,y;a&16&&(o=Cf(t,r-t.l)),a&128&&(c=Cf(t,r-t.l)),(a&257)===257&&(u=Cf(t,r-t.l)),(a&257)===1&&(d=dP(t,r-t.l)),a&8&&(h=Cf(t,r-t.l)),a&32&&(m=t.read_shift(16)),a&64&&(y=Wp(t)),t.l=r;var v=c||u||d||"";v&&h&&(v+="#"+h),v||(v="#"+h),a&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var T={Target:v};return m&&(T.guid=m),y&&(T.time=y),o&&(T.Tooltip=o),T}function PA(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function UA(t,e){var r=PA(t);return r[3]=0,r}function ns(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function gP(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function mP(t,e,r){return e===0?"":No(t,e,r)}function pP(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),o=t.read_shift(n,"i"),c=t.read_shift(n,"i");return[a,o,c]}function BA(t){var e=t.read_shift(2),r=Gp(t);return[e,r]}function xP(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=i0(t,e,r),o=t.read_shift(2);if(n-=t.l,o!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+o);return t.l+=o,a}function Xd(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function jA(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var yP=jA;function HA(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function vP(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function _P(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function un(t){t.l+=2,t.l+=t.read_shift(2)}var wP={0:un,4:un,5:un,6:un,7:_P,8:un,9:un,10:un,11:un,12:un,13:vP,14:un,15:un,16:un,17:un,18:un,19:un,20:un,21:HA};function TP(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(wP[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Nf(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function EP(t,e){return e===0||t.read_shift(2),1200}function bP(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=No(t,0,r);return t.read_shift(e+n-t.l),a}function SP(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function AP(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,o=t.read_shift(1);switch(o){case 0:o="Worksheet";break;case 1:o="Macrosheet";break;case 2:o="Chartsheet";break;case 6:o="VBAModule";break}var c=i0(t,0,r);return c.length===0&&(c="Sheet1"),{pos:n,hs:a,dt:o,name:c}}function kP(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),o=[],c=0;c!=a&&t.l<r;++c)o.push(cP(t));return o.Count=n,o.Unique=a,o}function CP(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function NP(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function DP(t){var e=gP(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function IP(t){return t.read_shift(2),t.read_shift(4)}function nT(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var o={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[o,a]}function RP(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2),d=t.read_shift(2),h=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:o,CurTab:c,FirstTab:u,Selected:d,TabRatio:h}}function OP(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function MP(){}function FP(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=i0(t,0,r),n}function LP(t){var e=ns(t);return e.isst=t.read_shift(4),e}function PP(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=ns(t);r.biff==2&&t.l++;var o=o0(t,n-t.l,r);return a.val=o,a}function UP(t,e,r){var n=t.read_shift(2),a=No(t,0,r);return[n,a]}var BP=No;function aT(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,o=t.read_shift(a),c=t.read_shift(a),u=t.read_shift(2),d=t.read_shift(2);return t.l=n,{s:{r:o,c:u},e:{r:c,c:d}}}function jP(t){var e=t.read_shift(2),r=t.read_shift(2),n=BA(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function HP(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),o=[];t.l<r;)o.push(BA(t));if(t.l!==r)throw new Error("MulRK read error");var c=t.read_shift(2);if(o.length!=c-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:c,rkrec:o}}function zP(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),o=[];t.l<r;)o.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var c=t.read_shift(2);if(o.length!=c-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:c,ixfe:o}}function VP(t,e,r,n){var a={},o=t.read_shift(4),c=t.read_shift(4),u=t.read_shift(4),d=t.read_shift(2);return a.patternType=j9[u>>26],n.cellStyles&&(a.alc=o&7,a.fWrap=o>>3&1,a.alcV=o>>4&7,a.fJustLast=o>>7&1,a.trot=o>>8&255,a.cIndent=o>>16&15,a.fShrinkToFit=o>>20&1,a.iReadOrder=o>>22&2,a.fAtrNum=o>>26&1,a.fAtrFnt=o>>27&1,a.fAtrAlc=o>>28&1,a.fAtrBdr=o>>29&1,a.fAtrPat=o>>30&1,a.fAtrProt=o>>31&1,a.dgLeft=c&15,a.dgRight=c>>4&15,a.dgTop=c>>8&15,a.dgBottom=c>>12&15,a.icvLeft=c>>16&127,a.icvRight=c>>23&127,a.grbitDiag=c>>30&3,a.icvTop=u&127,a.icvBottom=u>>7&127,a.icvDiag=u>>14&127,a.dgDiag=u>>21&15,a.icvFore=d&127,a.icvBack=d>>7&127,a.fsxButton=d>>14&1),a}function GP(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=VP(t,e,n.fStyle,r),n}function YP(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function sT(t,e,r){var n=ns(t);(r.biff==2||e==9)&&++t.l;var a=oP(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function WP(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ns(t),a=dn(t);return n.val=a,n}var iT=mP;function $P(t,e,r){var n=t.l+e,a=t.read_shift(2),o=t.read_shift(2);if(r.sbcch=o,o==1025||o==14849)return[o,a];if(o<1||o>255)throw new Error("Unexpected SupBook type: "+o);for(var c=yo(t,o),u=[];n>t.l;)u.push(o0(t));return[o,a,c,u]}function oT(t,e,r){var n=t.read_shift(2),a,o={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=xP(t,e-2,r)),o.body=a||t.read_shift(e-2),typeof a=="string"&&(o.Name=a),o}var KP=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function cT(t,e,r){var n=t.l+e,a=t.read_shift(2),o=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),d=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var h=yo(t,c,r);a&32&&(h=KP[h.charCodeAt(0)]);var m=n-t.l;r&&r.biff==2&&--m;var y=n==t.l||u===0||!(m>0)?[]:NH(t,m,r,u);return{chKey:o,Name:h,itab:d,rgce:y}}function zA(t,e,r){if(r.biff<8)return qP(t,e,r);for(var n=[],a=t.l+e,o=t.read_shift(r.biff>8?4:2);o--!==0;)n.push(pP(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function qP(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=i0(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function XP(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),o=yo(t,n,r),c=yo(t,a,r);return[o,c]}function QP(t,e,r){var n=jA(t);t.l++;var a=t.read_shift(1);return e-=8,[DH(t,e,r),a,n]}function lT(t,e,r){var n=yP(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,kH(t,e,r)]}function ZP(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function JP(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),u=No(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},u,c,o]}}function eU(t,e,r){return JP(t,e,r)}function tU(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Xd(t));return r}function rU(t,e,r){if(r&&r.biff<8)return aU(t,e,r);var n=HA(t),a=TP(t,e-22,n[1]);return{cmo:n,ft:a}}var nU={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function aU(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var c=[];return c.push((nU[n]||mn)(t,e,r)),{cmo:[a,n,o],ft:c}}function sU(t,e,r){var n=t.l,a="";try{t.l+=4;var o=(r.lastobj||{cmo:[0,0]}).cmo[1],c;[0,5,7,11,12,14].indexOf(o)==-1?t.l+=6:c=lP(t,6,r);var u=t.read_shift(2);t.read_shift(2),Lr(t,2);var d=t.read_shift(2);t.l+=d;for(var h=1;h<t.lens.length-1;++h){if(t.l-n!=t.lens[h])throw new Error("TxO: bad continue record");var m=t[t.l],y=yo(t,t.lens[h+1]-t.lens[h]-1);if(a+=y,a.length>=(m?u:2*u))break}if(a.length!==u&&a.length!==u*2)throw new Error("cchText: "+u+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function iU(t,e){var r=Xd(t);t.l+=16;var n=hP(t,e-24);return[r,n]}function oU(t,e){t.read_shift(2);var r=Xd(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(An,""),[r,n]}function cU(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=Zw[r]||r,r=t.read_shift(2),e[1]=Zw[r]||r,e}function lU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(UA(t));return r}function uU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(UA(t));return r}function fU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function VA(t,e,r){if(!r.cellStyles)return mn(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s:a,e:o,w:c,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function dU(t,e){var r={};return e<32||(t.l+=16,r.header=dn(t),r.footer=dn(t),t.l+=2),r}function hU(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}var gU=ns,mU=LA,pU=o0;function xU(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function yU(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ns(t);++t.l;var a=No(t,e-7,r);return n.t="str",n.val=a,n}function vU(t){var e=ns(t);++t.l;var r=dn(t);return e.t="n",e.val=r,e}function _U(t){var e=ns(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function wU(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function TU(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function EU(t,e,r){var n=t.l+e,a=ns(t),o=t.read_shift(2),c=yo(t,o,r);return t.l=n,a.t="str",a.val=c,a}var bU=[2,3,48,49,131,139,140,245],uT=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],m=Ai(1);switch(d.type){case"base64":m=ka(Jn(u));break;case"binary":m=ka(u);break;case"buffer":case"array":m=u;break}rn(m,0);var y=m.read_shift(1),v=!!(y&136),T=!1,_=!1;switch(y){case 2:break;case 3:break;case 48:T=!0,v=!0;break;case 49:T=!0,v=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var w=0,b=521;y==2&&(w=m.read_shift(2)),m.l+=3,y!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),y!=2&&(b=m.read_shift(2));var N=m.read_shift(2),R=d.codepage||1252;y!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(R=t[m[m.l]]),m.l+=1,m.l+=2),_&&(m.l+=36);for(var S=[],U={},P=Math.min(m.length,y==2?521:b-10-(T?264:0)),W=_?32:11;m.l<P&&m[m.l]!=13;)switch(U={},U.name=Uu.utils.decode(R,m.slice(m.l,m.l+W)).replace(/[\u0000\r\n].*$/g,""),m.l+=W,U.type=String.fromCharCode(m.read_shift(1)),y!=2&&!_&&(U.offset=m.read_shift(4)),U.len=m.read_shift(1),y==2&&(U.offset=m.read_shift(2)),U.dec=m.read_shift(1),U.name.length&&S.push(U),y!=2&&(m.l+=_?13:14),U.type){case"B":(!T||U.len!=8)&&d.WTF&&console.log("Skipping "+U.name+":"+U.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+U.name+":"+U.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+U.type)}if(m[m.l]!==13&&(m.l=b-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=b;var D=0,q=0;for(h[0]=[],q=0;q!=S.length;++q)h[0][q]=S[q].name;for(;w-- >0;){if(m[m.l]===42){m.l+=N;continue}for(++m.l,h[++D]=[],q=0,q=0;q!=S.length;++q){var H=m.slice(m.l,m.l+S[q].len);m.l+=S[q].len,rn(H,0);var fe=Uu.utils.decode(R,H);switch(S[q].type){case"C":fe.trim().length&&(h[D][q]=fe.replace(/\s+$/,""));break;case"D":fe.length===8?h[D][q]=new Date(+fe.slice(0,4),+fe.slice(4,6)-1,+fe.slice(6,8)):h[D][q]=fe;break;case"F":h[D][q]=parseFloat(fe.trim());break;case"+":case"I":h[D][q]=_?H.read_shift(-4,"i")^2147483648:H.read_shift(4,"i");break;case"L":switch(fe.trim().toUpperCase()){case"Y":case"T":h[D][q]=!0;break;case"N":case"F":h[D][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+fe+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));h[D][q]="##MEMO##"+(_?parseInt(fe.trim(),10):H.read_shift(4));break;case"N":fe=fe.replace(/\u0000/g,"").trim(),fe&&fe!="."&&(h[D][q]=+fe||0);break;case"@":h[D][q]=new Date(H.read_shift(-8,"f")-621356832e5);break;case"T":h[D][q]=new Date((H.read_shift(4)-2440588)*864e5+H.read_shift(4));break;case"Y":h[D][q]=H.read_shift(4,"i")/1e4+H.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[D][q]=-H.read_shift(-8,"f");break;case"B":if(T&&S[q].len==8){h[D][q]=H.read_shift(8,"f");break}case"G":case"P":H.l+=S[q].len;break;case"0":if(S[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[q].type)}}}if(y!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=S,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=Qc(r(u,h),h);return m["!cols"]=h.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete h.DBF,m}function a(u,d){try{return Di(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(u,d){var h=d||{};if(+h.codepage>=0&&Da(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=g1(),y=b1(u,{header:1,raw:!0,cellDates:!0}),v=y[0],T=y.slice(1),_=u["!cols"]||[],w=0,b=0,N=0,R=1;for(w=0;w<v.length;++w){if(((_[w]||{}).DBF||{}).name){v[w]=_[w].DBF.name,++N;continue}if(v[w]!=null){if(++N,typeof v[w]=="number"&&(v[w]=v[w].toString(10)),typeof v[w]!="string")throw new Error("DBF Invalid column name "+v[w]+" |"+typeof v[w]+"|");if(v.indexOf(v[w])!==w){for(b=0;b<1024;++b)if(v.indexOf(v[w]+"_"+b)==-1){v[w]+="_"+b;break}}}}var S=Er(u["!ref"]),U=[],P=[],W=[];for(w=0;w<=S.e.c-S.s.c;++w){var D="",q="",H=0,fe=[];for(b=0;b<T.length;++b)T[b][w]!=null&&fe.push(T[b][w]);if(fe.length==0||v[w]==null){U[w]="?";continue}for(b=0;b<fe.length;++b){switch(typeof fe[b]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=fe[b]instanceof Date?"D":"C";break;default:q="C"}H=Math.max(H,String(fe[b]).length),D=D&&D!=q?"C":q}H>250&&(H=250),q=((_[w]||{}).DBF||{}).type,q=="C"&&_[w].DBF.len>H&&(H=_[w].DBF.len),D=="B"&&q=="N"&&(D="N",W[w]=_[w].DBF.dec,H=_[w].DBF.len),P[w]=D=="C"||q=="N"?H:o[D]||0,R+=P[w],U[w]=D}var ne=m.next(32);for(ne.write_shift(4,318902576),ne.write_shift(4,T.length),ne.write_shift(2,296+32*N),ne.write_shift(2,R),w=0;w<4;++w)ne.write_shift(4,0);for(ne.write_shift(4,0|(+e[zS]||3)<<8),w=0,b=0;w<v.length;++w)if(v[w]!=null){var Q=m.next(32),ce=(v[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,ce,"sbcs"),Q.write_shift(1,U[w]=="?"?"C":U[w],"sbcs"),Q.write_shift(4,b),Q.write_shift(1,P[w]||o[U[w]]||0),Q.write_shift(1,W[w]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),b+=P[w]||o[U[w]]||0}var Ce=m.next(264);for(Ce.write_shift(4,13),w=0;w<65;++w)Ce.write_shift(4,0);for(w=0;w<T.length;++w){var xe=m.next(R);for(xe.write_shift(1,0),b=0;b<v.length;++b)if(v[b]!=null)switch(U[b]){case"L":xe.write_shift(1,T[w][b]==null?63:T[w][b]?84:70);break;case"B":xe.write_shift(8,T[w][b]||0,"f");break;case"N":var X="0";for(typeof T[w][b]=="number"&&(X=T[w][b].toFixed(W[b]||0)),N=0;N<P[b]-X.length;++N)xe.write_shift(1,32);xe.write_shift(1,X,"sbcs");break;case"D":T[w][b]?(xe.write_shift(4,("0000"+T[w][b].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(T[w][b].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+T[w][b].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var se=String(T[w][b]!=null?T[w][b]:"").slice(0,P[b]);for(xe.write_shift(1,se,"sbcs"),N=0;N<P[b]-se.length;++N)xe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:c}})(),SU=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ja(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,T){var _=t[T];return typeof _=="number"?Aw(_):_},n=function(v,T,_){var w=T.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return w==59?v:Aw(w)};t["|"]=254;function a(v,T){switch(T.type){case"base64":return o(Jn(v),T);case"binary":return o(v,T);case"buffer":return o(Ft&&Buffer.isBuffer(v)?v.toString("binary"):So(v),T);case"array":return o(xo(v),T)}throw new Error("Unrecognized type "+T.type)}function o(v,T){var _=v.split(/[\n\r]+/),w=-1,b=-1,N=0,R=0,S=[],U=[],P=null,W={},D=[],q=[],H=[],fe=0,ne;for(+T.codepage>=0&&Da(+T.codepage);N!==_.length;++N){fe=0;var Q=_[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ce=Q.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),Ce=ce[0],xe;if(Q.length>0)switch(Ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ce[1].charAt(0)=="P"&&U.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,se=!1,Oe=!1,J=!1,M=-1,K=-1;for(R=1;R<ce.length;++R)switch(ce[R].charAt(0)){case"A":break;case"X":b=parseInt(ce[R].slice(1))-1,se=!0;break;case"Y":for(w=parseInt(ce[R].slice(1))-1,se||(b=0),ne=S.length;ne<=w;++ne)S[ne]=[];break;case"K":xe=ce[R].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(Oa(xe))?isNaN(Uc(xe).getDate())||(xe=Xr(xe)):(xe=Oa(xe),P!==null&&qc(P)&&(xe=qd(xe))),X=!0;break;case"E":J=!0;var C=Nc(ce[R].slice(1),{r:w,c:b});S[w][b]=[S[w][b],C];break;case"S":Oe=!0,S[w][b]=[S[w][b],"S5S"];break;case"G":break;case"R":M=parseInt(ce[R].slice(1))-1;break;case"C":K=parseInt(ce[R].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Q)}if(X&&(S[w][b]&&S[w][b].length==2?S[w][b][0]=xe:S[w][b]=xe,P=null),Oe){if(J)throw new Error("SYLK shared formula cannot have own formula");var z=M>-1&&S[M][K];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");S[w][b][1]=JA(z[1],{r:w-M,c:b-K})}break;case"F":var V=0;for(R=1;R<ce.length;++R)switch(ce[R].charAt(0)){case"X":b=parseInt(ce[R].slice(1))-1,++V;break;case"Y":for(w=parseInt(ce[R].slice(1))-1,ne=S.length;ne<=w;++ne)S[ne]=[];break;case"M":fe=parseInt(ce[R].slice(1))/20;break;case"F":break;case"G":break;case"P":P=U[parseInt(ce[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(H=ce[R].slice(1).split(" "),ne=parseInt(H[0],10);ne<=parseInt(H[1],10);++ne)fe=parseInt(H[2],10),q[ne-1]=fe===0?{hidden:!0}:{wch:fe},Bc(q[ne-1]);break;case"C":b=parseInt(ce[R].slice(1))-1,q[b]||(q[b]={});break;case"R":w=parseInt(ce[R].slice(1))-1,D[w]||(D[w]={}),fe>0?(D[w].hpt=fe,D[w].hpx=Gu(fe)):fe===0&&(D[w].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Q)}V<1&&(P=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+Q)}}return D.length>0&&(W["!rows"]=D),q.length>0&&(W["!cols"]=q),T&&T.sheetRows&&(S=S.slice(0,T.sheetRows)),[S,W]}function c(v,T){var _=a(v,T),w=_[0],b=_[1],N=Qc(w,T);return Ja(b).forEach(function(R){N[R]=b[R]}),N}function u(v,T){return Di(c(v,T),T)}function d(v,T,_,w){var b="C;Y"+(_+1)+";X"+(w+1)+";K";switch(v.t){case"n":b+=v.v||0,v.f&&!v.F&&(b+=";E"+fj(v.f,{r:_,c:w}));break;case"b":b+=v.v?"TRUE":"FALSE";break;case"e":b+=v.w||v.v;break;case"d":b+='"'+(v.w||v.v)+'"';break;case"s":b+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function h(v,T){T.forEach(function(_,w){var b="F;W"+(w+1)+" "+(w+1)+" ";_.hidden?b+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Ed(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=bd(_.wpx)),typeof _.wch=="number"&&(b+=Math.round(_.wch))),b.charAt(b.length-1)!=" "&&v.push(b)})}function m(v,T){T.forEach(function(_,w){var b="F;";_.hidden?b+="M0;":_.hpt?b+="M"+20*_.hpt+";":_.hpx&&(b+="M"+20*XA(_.hpx)+";"),b.length>2&&v.push(b+"R"+(w+1))})}function y(v,T){var _=["ID;PWXL;N;E"],w=[],b=Er(v["!ref"]),N,R=Array.isArray(v),S=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),v["!cols"]&&h(_,v["!cols"]),v["!rows"]&&m(_,v["!rows"]),_.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var U=b.s.r;U<=b.e.r;++U)for(var P=b.s.c;P<=b.e.c;++P){var W=yt({r:U,c:P});N=R?(v[U]||[])[P]:v[W],!(!N||N.v==null&&(!N.f||N.F))&&w.push(d(N,v,U,P))}return _.join(S)+S+w.join(S)+S+"E"+S}return{to_workbook:u,to_sheet:c,from_sheet:y}})(),AU=(function(){function t(o,c){switch(c.type){case"base64":return e(Jn(o),c);case"binary":return e(o,c);case"buffer":return e(Ft&&Buffer.isBuffer(o)?o.toString("binary"):So(o),c);case"array":return e(xo(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var u=o.split(`
`),d=-1,h=-1,m=0,y=[];m!==u.length;++m){if(u[m].trim()==="BOT"){y[++d]=[],h=0;continue}if(!(d<0)){var v=u[m].trim().split(","),T=v[0],_=v[1];++m;for(var w=u[m]||"";(w.match(/["]/g)||[]).length&1&&m<u.length-1;)w+=`
`+u[++m];switch(w=w.trim(),+T){case-1:if(w==="BOT"){y[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?y[d][h]=!0:w==="FALSE"?y[d][h]=!1:isNaN(Oa(_))?isNaN(Uc(_).getDate())?y[d][h]=_:y[d][h]=Xr(_):y[d][h]=Oa(_),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),y[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return c&&c.sheetRows&&(y=y.slice(0,c.sheetRows)),y}function r(o,c){return Qc(t(o,c),c)}function n(o,c){return Di(r(o,c),c)}var a=(function(){var o=function(d,h,m,y,v){d.push(h),d.push(m+","+y),d.push('"'+v.replace(/"/g,'""')+'"')},c=function(d,h,m,y){d.push(h+","+m),d.push(h==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(d){var h=[],m=Er(d["!ref"]),y,v=Array.isArray(d);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,m.e.r-m.s.r+1,""),o(h,"TUPLES",0,m.e.c-m.s.c+1,""),o(h,"DATA",0,0,"");for(var T=m.s.r;T<=m.e.r;++T){c(h,-1,0,"BOT");for(var _=m.s.c;_<=m.e.c;++_){var w=yt({r:T,c:_});if(y=v?(d[T]||[])[_]:d[w],!y){c(h,1,0,"");continue}switch(y.t){case"n":var b=y.w;!b&&y.v!=null&&(b=y.v),b==null?y.f&&!y.F?c(h,1,0,"="+y.f):c(h,1,0,""):c(h,0,b,"V");break;case"b":c(h,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":c(h,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=va(y.z||_t[14],Cn(Xr(y.v)))),c(h,0,y.w,"V");break;default:c(h,1,0,"")}}}c(h,-1,0,"EOD");var N=`\r
`,R=h.join(N);return R}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),kU=(function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(y,v){for(var T=y.split(`
`),_=-1,w=-1,b=0,N=[];b!==T.length;++b){var R=T[b].trim().split(":");if(R[0]==="cell"){var S=bn(R[1]);if(N.length<=S.r)for(_=N.length;_<=S.r;++_)N[_]||(N[_]=[]);switch(_=S.r,w=S.c,R[2]){case"t":N[_][w]=t(R[3]);break;case"v":N[_][w]=+R[3];break;case"vtf":var U=R[R.length-1];case"vtc":switch(R[3]){case"nl":N[_][w]=!!+R[4];break;default:N[_][w]=+R[4];break}R[2]=="vtf"&&(N[_][w]=[N[_][w],U])}}}return v&&v.sheetRows&&(N=N.slice(0,v.sheetRows)),N}function n(y,v){return Qc(r(y,v),v)}function a(y,v){return Di(n(y,v),v)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(y){if(!y||!y["!ref"])return"";for(var v=[],T=[],_,w="",b=Xc(y["!ref"]),N=Array.isArray(y),R=b.s.r;R<=b.e.r;++R)for(var S=b.s.c;S<=b.e.c;++S)if(w=yt({r:R,c:S}),_=N?(y[R]||[])[S]:y[w],!(!_||_.v==null||_.t==="z")){switch(T=["cell",w,"t"],_.t){case"s":case"str":T.push(e(_.v));break;case"n":_.f?(T[2]="vtf",T[3]="n",T[4]=_.v,T[5]=e(_.f)):(T[2]="v",T[3]=_.v);break;case"b":T[2]="vt"+(_.f?"f":"c"),T[3]="nl",T[4]=_.v?"1":"0",T[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var U=Cn(Xr(_.v));T[2]="vtc",T[3]="nd",T[4]=""+U,T[5]=_.w||va(_.z||_t[14],U);break;case"e":continue}v.push(T.join(":"))}return v.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(y){return[o,c,u,c,h(y),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:m}})(),zu=(function(){function t(m,y,v,T,_){_.raw?y[v][T]=m:m===""||(m==="TRUE"?y[v][T]=!0:m==="FALSE"?y[v][T]=!1:isNaN(Oa(m))?isNaN(Uc(m).getDate())?y[v][T]=m:y[v][T]=Xr(m):y[v][T]=Oa(m))}function e(m,y){var v=y||{},T=[];if(!m||m.length===0)return T;for(var _=m.split(/[\r\n]/),w=_.length-1;w>=0&&_[w].length===0;)--w;for(var b=10,N=0,R=0;R<=w;++R)N=_[R].indexOf(" "),N==-1?N=_[R].length:N++,b=Math.max(b,N);for(R=0;R<=w;++R){T[R]=[];var S=0;for(t(_[R].slice(0,b).trim(),T,R,S,v),S=1;S<=(_[R].length-b)/10+1;++S)t(_[R].slice(b+(S-1)*10,b+S*10).trim(),T,R,S,v)}return v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(m){for(var y={},v=!1,T=0,_=0;T<m.length;++T)(_=m.charCodeAt(T))==34?v=!v:!v&&_ in r&&(y[_]=(y[_]||0)+1);_=[];for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&_.push([y[T],T]);if(!_.length){y=n;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&_.push([y[T],T])}return _.sort(function(w,b){return w[0]-b[0]||n[w[1]]-n[b[1]]}),r[_.pop()[1]]||44}function o(m,y){var v=y||{},T="",_=v.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(T=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(T=m.charAt(4),m=m.slice(6)):T=a(m.slice(0,1024)):v&&v.FS?T=v.FS:T=a(m.slice(0,1024));var b=0,N=0,R=0,S=0,U=0,P=T.charCodeAt(0),W=!1,D=0,q=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var H=v.dateNF!=null?UL(v.dateNF):null;function fe(){var ne=m.slice(S,U),Q={};if(ne.charAt(0)=='"'&&ne.charAt(ne.length-1)=='"'&&(ne=ne.slice(1,-1).replace(/""/g,'"')),ne.length===0)Q.t="z";else if(v.raw)Q.t="s",Q.v=ne;else if(ne.trim().length===0)Q.t="s",Q.v=ne;else if(ne.charCodeAt(0)==61)ne.charCodeAt(1)==34&&ne.charCodeAt(ne.length-1)==34?(Q.t="s",Q.v=ne.slice(2,-1).replace(/""/g,'"')):hj(ne)?(Q.t="n",Q.f=ne.slice(1)):(Q.t="s",Q.v=ne);else if(ne=="TRUE")Q.t="b",Q.v=!0;else if(ne=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(R=Oa(ne)))Q.t="n",v.cellText!==!1&&(Q.w=ne),Q.v=R;else if(!isNaN(Uc(ne).getDate())||H&&ne.match(H)){Q.z=v.dateNF||_t[14];var ce=0;H&&ne.match(H)&&(ne=BL(ne,v.dateNF,ne.match(H)||[]),ce=1),v.cellDates?(Q.t="d",Q.v=Xr(ne,ce)):(Q.t="n",Q.v=Cn(Xr(ne,ce))),v.cellText!==!1&&(Q.w=va(Q.z,Q.v instanceof Date?Cn(Q.v):Q.v)),v.cellNF||delete Q.z}else Q.t="s",Q.v=ne;if(Q.t=="z"||(v.dense?(_[b]||(_[b]=[]),_[b][N]=Q):_[yt({c:N,r:b})]=Q),S=U+1,q=m.charCodeAt(S),w.e.c<N&&(w.e.c=N),w.e.r<b&&(w.e.r=b),D==P)++N;else if(N=0,++b,v.sheetRows&&v.sheetRows<=b)return!0}e:for(;U<m.length;++U)switch(D=m.charCodeAt(U)){case 34:q===34&&(W=!W);break;case P:case 10:case 13:if(!W&&fe())break e;break}return U-S>0&&fe(),_["!ref"]=Bt(w),_}function c(m,y){return!(y&&y.PRN)||y.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?o(m,y):Qc(e(m,y),y)}function u(m,y){var v="",T=y.type=="string"?[0,0,0,0]:ex(m,y);switch(y.type){case"base64":v=Jn(m);break;case"binary":v=m;break;case"buffer":y.codepage==65001?v=m.toString("utf8"):y.codepage&&typeof Uu<"u"||(v=Ft&&Buffer.isBuffer(m)?m.toString("binary"):So(m));break;case"array":v=xo(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+y.type)}return T[0]==239&&T[1]==187&&T[2]==191?v=ur(v.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?v=ur(v):y.type=="binary"&&typeof Uu<"u",v.slice(0,19)=="socialcalc:version:"?kU.to_sheet(y.type=="string"?v:ur(v),y):c(v,y)}function d(m,y){return Di(u(m,y),y)}function h(m){for(var y=[],v=Er(m["!ref"]),T,_=Array.isArray(m),w=v.s.r;w<=v.e.r;++w){for(var b=[],N=v.s.c;N<=v.e.c;++N){var R=yt({r:w,c:N});if(T=_?(m[w]||[])[N]:m[R],!T||T.v==null){b.push("          ");continue}for(var S=(T.w||(Rs(T),T.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(N===0?" ":""))}y.push(b.join(""))}return y.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})();function CU(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=SU.to_workbook(t,r);return r.WTF=n,a}catch(o){if(r.WTF=n,!o.message.match(/SYLK bad record ID/)&&n)throw o;return zu.to_workbook(t,e)}}var wu=(function(){function t(C,z,V){if(C){rn(C,C.l||0);for(var Y=V.Enum||M;C.l<C.length;){var ae=C.read_shift(2),Te=Y[ae]||Y[65535],Ae=C.read_shift(2),be=C.l+Ae,Se=Te.f&&Te.f(C,Ae,V);if(C.l=be,z(Se,Te,ae))return}}}function e(C,z){switch(z.type){case"base64":return r(ka(Jn(C)),z);case"binary":return r(ka(C),z);case"buffer":case"array":return r(C,z)}throw"Unsupported type "+z.type}function r(C,z){if(!C)return C;var V=z||{},Y=V.dense?[]:{},ae="Sheet1",Te="",Ae=0,be={},Se=[],Je=[],j={s:{r:0,c:0},e:{r:0,c:0}},Tt=V.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)V.Enum=M,t(C,function(we,ft,De){switch(De){case 0:V.vers=we,we>=4096&&(V.qpro=!0);break;case 6:j=we;break;case 204:we&&(Te=we);break;case 222:Te=we;break;case 15:case 51:V.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:De==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=V.dateNF||_t[14],V.cellDates&&(we[1].t="d",we[1].v=qd(we[1].v))),V.qpro&&we[3]>Ae&&(Y["!ref"]=Bt(j),be[ae]=Y,Se.push(ae),Y=V.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},Ae=we[3],ae=Te||"Sheet"+(Ae+1),Te="");var et=V.dense?(Y[we[0].r]||[])[we[0].c]:Y[yt(we[0])];if(et){et.t=we[1].t,et.v=we[1].v,we[1].z!=null&&(et.z=we[1].z),we[1].f!=null&&(et.f=we[1].f);break}V.dense?(Y[we[0].r]||(Y[we[0].r]=[]),Y[we[0].r][we[0].c]=we[1]):Y[yt(we[0])]=we[1];break}},V);else if(C[2]==26||C[2]==14)V.Enum=K,C[2]==14&&(V.qpro=!0,C.l=0),t(C,function(we,ft,De){switch(De){case 204:ae=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>Ae&&(Y["!ref"]=Bt(j),be[ae]=Y,Se.push(ae),Y=V.dense?[]:{},j={s:{r:0,c:0},e:{r:0,c:0}},Ae=we[3],ae="Sheet"+(Ae+1)),Tt>0&&we[0].r>=Tt)break;V.dense?(Y[we[0].r]||(Y[we[0].r]=[]),Y[we[0].r][we[0].c]=we[1]):Y[yt(we[0])]=we[1],j.e.c<we[0].c&&(j.e.c=we[0].c),j.e.r<we[0].r&&(j.e.r=we[0].r);break;case 27:we[14e3]&&(Je[we[14e3][0]]=we[14e3][1]);break;case 1537:Je[we[0]]=we[1],we[0]==Ae&&(ae=we[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(Y["!ref"]=Bt(j),be[Te||ae]=Y,Se.push(Te||ae),!Je.length)return{SheetNames:Se,Sheets:be};for(var ut={},pt=[],$e=0;$e<Je.length;++$e)be[Se[$e]]?(pt.push(Je[$e]||Se[$e]),ut[Je[$e]]=be[Je[$e]]||be[Se[$e]]):(pt.push(Je[$e]),ut[Je[$e]]={"!ref":"A1"});return{SheetNames:pt,Sheets:ut}}function n(C,z){var V=z||{};if(+V.codepage>=0&&Da(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=g1(),ae=Er(C["!ref"]),Te=Array.isArray(C),Ae=[];Sa(Y,0,o(1030)),Sa(Y,6,d(ae));for(var be=Math.min(ae.e.r,8191),Se=ae.s.r;Se<=be;++Se)for(var Je=sn(Se),j=ae.s.c;j<=ae.e.c;++j){Se===ae.s.r&&(Ae[j]=zr(j));var Tt=Ae[j]+Je,ut=Te?(C[Se]||[])[j]:C[Tt];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?Sa(Y,13,T(Se,j,ut.v)):Sa(Y,14,w(Se,j,ut.v));else{var pt=Rs(ut);Sa(Y,15,y(Se,j,pt.slice(0,239)))}}return Sa(Y,1),Y.end()}function a(C,z){var V=z||{};if(+V.codepage>=0&&Da(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=g1();Sa(Y,0,c(C));for(var ae=0,Te=0;ae<C.SheetNames.length;++ae)(C.Sheets[C.SheetNames[ae]]||{})["!ref"]&&Sa(Y,27,J(C.SheetNames[ae],Te++));var Ae=0;for(ae=0;ae<C.SheetNames.length;++ae){var be=C.Sheets[C.SheetNames[ae]];if(!(!be||!be["!ref"])){for(var Se=Er(be["!ref"]),Je=Array.isArray(be),j=[],Tt=Math.min(Se.e.r,8191),ut=Se.s.r;ut<=Tt;++ut)for(var pt=sn(ut),$e=Se.s.c;$e<=Se.e.c;++$e){ut===Se.s.r&&(j[$e]=zr($e));var we=j[$e]+pt,ft=Je?(be[ut]||[])[$e]:be[we];if(!(!ft||ft.t=="z"))if(ft.t=="n")Sa(Y,23,fe(ut,$e,Ae,ft.v));else{var De=Rs(ft);Sa(Y,22,D(ut,$e,Ae,De.slice(0,239)))}}++Ae}}return Sa(Y,1),Y.end()}function o(C){var z=Br(2);return z.write_shift(2,C),z}function c(C){var z=Br(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var V=0,Y=0,ae=0,Te=0;Te<C.SheetNames.length;++Te){var Ae=C.SheetNames[Te],be=C.Sheets[Ae];if(!(!be||!be["!ref"])){++ae;var Se=Xc(be["!ref"]);V<Se.e.r&&(V=Se.e.r),Y<Se.e.c&&(Y=Se.e.c)}}return V>8191&&(V=8191),z.write_shift(2,V),z.write_shift(1,ae),z.write_shift(1,Y),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function u(C,z,V){var Y={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&V.qpro?(Y.s.c=C.read_shift(1),C.l++,Y.s.r=C.read_shift(2),Y.e.c=C.read_shift(1),C.l++,Y.e.r=C.read_shift(2),Y):(Y.s.c=C.read_shift(2),Y.s.r=C.read_shift(2),z==12&&V.qpro&&(C.l+=2),Y.e.c=C.read_shift(2),Y.e.r=C.read_shift(2),z==12&&V.qpro&&(C.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function d(C){var z=Br(8);return z.write_shift(2,C.s.c),z.write_shift(2,C.s.r),z.write_shift(2,C.e.c),z.write_shift(2,C.e.r),z}function h(C,z,V){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(Y[0].c=C.read_shift(1),Y[3]=C.read_shift(1),Y[0].r=C.read_shift(2),C.l+=2):(Y[2]=C.read_shift(1),Y[0].c=C.read_shift(2),Y[0].r=C.read_shift(2)),Y}function m(C,z,V){var Y=C.l+z,ae=h(C,z,V);if(ae[1].t="s",V.vers==20768){C.l++;var Te=C.read_shift(1);return ae[1].v=C.read_shift(Te,"utf8"),ae}return V.qpro&&C.l++,ae[1].v=C.read_shift(Y-C.l,"cstr"),ae}function y(C,z,V){var Y=Br(7+V.length);Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,C),Y.write_shift(1,39);for(var ae=0;ae<Y.length;++ae){var Te=V.charCodeAt(ae);Y.write_shift(1,Te>=128?95:Te)}return Y.write_shift(1,0),Y}function v(C,z,V){var Y=h(C,z,V);return Y[1].v=C.read_shift(2,"i"),Y}function T(C,z,V){var Y=Br(7);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,C),Y.write_shift(2,V,"i"),Y}function _(C,z,V){var Y=h(C,z,V);return Y[1].v=C.read_shift(8,"f"),Y}function w(C,z,V){var Y=Br(13);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,C),Y.write_shift(8,V,"f"),Y}function b(C,z,V){var Y=C.l+z,ae=h(C,z,V);if(ae[1].v=C.read_shift(8,"f"),V.qpro)C.l=Y;else{var Te=C.read_shift(2);U(C.slice(C.l,C.l+Te),ae),C.l+=Te}return ae}function N(C,z,V){var Y=z&32768;return z&=-32769,z=(Y?C:0)+(z>=8192?z-16384:z),(Y?"":"$")+(V?zr(z):sn(z))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function U(C,z){rn(C,0);for(var V=[],Y=0,ae="",Te="",Ae="",be="";C.l<C.length;){var Se=C[C.l++];switch(Se){case 0:V.push(C.read_shift(8,"f"));break;case 1:Te=N(z[0].c,C.read_shift(2),!0),ae=N(z[0].r,C.read_shift(2),!1),V.push(Te+ae);break;case 2:{var Je=N(z[0].c,C.read_shift(2),!0),j=N(z[0].r,C.read_shift(2),!1);Te=N(z[0].c,C.read_shift(2),!0),ae=N(z[0].r,C.read_shift(2),!1),V.push(Je+j+":"+Te+ae)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(C.read_shift(2));break;case 6:{for(var Tt="";Se=C[C.l++];)Tt+=String.fromCharCode(Se);V.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:be=V.pop(),Ae=V.pop(),V.push(["AND","OR"][Se-20]+"("+Ae+","+be+")");break;default:if(Se<32&&S[Se])be=V.pop(),Ae=V.pop(),V.push(Ae+S[Se]+be);else if(R[Se]){if(Y=R[Se][1],Y==69&&(Y=C[C.l++]),Y>V.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+V.join("|")+"|");return}var ut=V.slice(-Y);V.length-=Y,V.push(R[Se][0]+"("+ut.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}V.length==1?z[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function P(C){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=C.read_shift(2),z[3]=C[C.l++],z[0].c=C[C.l++],z}function W(C,z){var V=P(C);return V[1].t="s",V[1].v=C.read_shift(z-4,"cstr"),V}function D(C,z,V,Y){var ae=Br(6+Y.length);ae.write_shift(2,C),ae.write_shift(1,V),ae.write_shift(1,z),ae.write_shift(1,39);for(var Te=0;Te<Y.length;++Te){var Ae=Y.charCodeAt(Te);ae.write_shift(1,Ae>=128?95:Ae)}return ae.write_shift(1,0),ae}function q(C,z){var V=P(C);V[1].v=C.read_shift(2);var Y=V[1].v>>1;if(V[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return V[1].v=Y,V}function H(C,z){var V=P(C),Y=C.read_shift(4),ae=C.read_shift(4),Te=C.read_shift(2);if(Te==65535)return Y===0&&ae===3221225472?(V[1].t="e",V[1].v=15):Y===0&&ae===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Ae=Te&32768;return Te=(Te&32767)-16446,V[1].v=(1-Ae*2)*(ae*Math.pow(2,Te+32)+Y*Math.pow(2,Te)),V}function fe(C,z,V,Y){var ae=Br(14);if(ae.write_shift(2,C),ae.write_shift(1,V),ae.write_shift(1,z),Y==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Te=0,Ae=0,be=0,Se=0;return Y<0&&(Te=1,Y=-Y),Ae=Math.log2(Y)|0,Y/=Math.pow(2,Ae-31),Se=Y>>>0,(Se&2147483648)==0&&(Y/=2,++Ae,Se=Y>>>0),Y-=Se,Se|=2147483648,Se>>>=0,Y*=Math.pow(2,32),be=Y>>>0,ae.write_shift(4,be),ae.write_shift(4,Se),Ae+=16383+(Te?32768:0),ae.write_shift(2,Ae),ae}function ne(C,z){var V=H(C);return C.l+=z-14,V}function Q(C,z){var V=P(C),Y=C.read_shift(4);return V[1].v=Y>>6,V}function ce(C,z){var V=P(C),Y=C.read_shift(8,"f");return V[1].v=Y,V}function Ce(C,z){var V=ce(C);return C.l+=z-10,V}function xe(C,z){return C[C.l+z-1]==0?C.read_shift(z,"cstr"):""}function X(C,z){var V=C[C.l++];V>z-1&&(V=z-1);for(var Y="";Y.length<V;)Y+=String.fromCharCode(C[C.l++]);return Y}function se(C,z,V){if(!(!V.qpro||z<21)){var Y=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var ae=C.read_shift(z-21,"cstr");return[Y,ae]}}function Oe(C,z){for(var V={},Y=C.l+z;C.l<Y;){var ae=C.read_shift(2);if(ae==14e3){for(V[ae]=[0,""],V[ae][0]=C.read_shift(2);C[C.l];)V[ae][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return V}function J(C,z){var V=Br(5+C.length);V.write_shift(2,14e3),V.write_shift(2,z);for(var Y=0;Y<C.length;++Y){var ae=C.charCodeAt(Y);V[V.l++]=ae>127?95:ae}return V[V.l++]=0,V}var M={0:{n:"BOF",f:Lr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:H},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:ne},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:ce},40:{n:"FORMULA28",f:Ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function NU(t){var e={},r=t.match(pn),n=0,a=!1;if(r)for(;n!=r.length;++n){var o=lt(r[n]);switch(o[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!o.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(o.val=="1")break;e.cp=Dp[parseInt(o.val,10)];break;case"<outline":if(!o.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=o.val;break;case"<sz":e.sz=o.val;break;case"<strike":if(!o.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!o.val)break;switch(o.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(o.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(o.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":o.rgb&&(e.color=o.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=o.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=o.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(o[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+o[0])}}return e}var DU=(function(){var t=ju("t"),e=ju("rPr");function r(o){var c=o.match(t);if(!c)return{t:"s",v:""};var u={t:"s",v:jt(c[1])},d=o.match(e);return d&&(u.s=NU(d[1])),u}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(c){return c.replace(n,"").split(a).map(r).filter(function(u){return u.v})}})(),IU=(function(){var e=/(\r\n|\n)/g;function r(a,o,c){var u=[];a.u&&u.push("text-decoration: underline;"),a.uval&&u.push("text-underline-style:"+a.uval+";"),a.sz&&u.push("font-size:"+a.sz+"pt;"),a.outline&&u.push("text-effect: outline;"),a.shadow&&u.push("text-shadow: auto;"),o.push('<span style="'+u.join("")+'">'),a.b&&(o.push("<b>"),c.push("</b>")),a.i&&(o.push("<i>"),c.push("</i>")),a.strike&&(o.push("<s>"),c.push("</s>"));var d=a.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(o.push("<"+d+">"),c.push("</"+d+">")),c.push("</span>"),a}function n(a){var o=[[],a.v,[]];return a.v?(a.s&&r(a.s,o[0],o[2]),o[0].join("")+o[1].replace(e,"<br/>")+o[2].join("")):""}return function(o){return o.map(n).join("")}})(),RU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,OU=/<(?:\w+:)?r>/,MU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $p(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jt(ur(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ur(t),r&&(n.h=Pp(n.t))):t.match(OU)&&(n.r=ur(t),n.t=jt(ur((t.replace(MU,"").match(RU)||[]).join("").replace(pn,""))),r&&(n.h=IU(DU(n.r)))),n):{t:""}}var FU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,LU=/<(?:\w+:)?(?:si|sstItem)>/g,PU=/<\/(?:\w+:)?(?:si|sstItem)>/;function UU(t,e){var r=[],n="";if(!t)return r;var a=t.match(FU);if(a){n=a[2].replace(LU,"").split(PU);for(var o=0;o!=n.length;++o){var c=$p(n[o].trim(),e);c!=null&&(r[r.length]=c)}a=lt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function BU(t){return[t.read_shift(4),t.read_shift(4)]}function jU(t,e){var r=[],n=!1;return Fs(t,function(o,c,u){switch(u){case 159:r.Count=o[0],r.Unique=o[1];break;case 19:r.push(o);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(c.T,!n||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function GA(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Cs(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function HU(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Cs(t,4),e.U=Cs(t,4),e.W=Cs(t,4),e}function zU(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),o=[];a-- >0;)o.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=o,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function VU(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(zU(t));return e}function GU(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function YU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Cs(t,4),e.U=Cs(t,4),e.W=Cs(t,4),e}function WU(t){var e=YU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function YA(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function WA(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function $U(t){var e=Cs(t);switch(e.Minor){case 2:return[e.Minor,KU(t)];case 3:return[e.Minor,qU()];case 4:return[e.Minor,XU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function KU(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=YA(t,r),a=WA(t,t.length-t.l);return{t:"Std",h:n,v:a}}function qU(){throw new Error("File is password-protected: ECMA-376 Extensible")}function XU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(pn,function(o){var c=lt(o);switch(rs(c[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(u){n[u]=c[u]});break;case"<dataIntegrity":n.encryptedHmacKey=c.encryptedHmacKey,n.encryptedHmacValue=c.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=c.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(c);break;default:throw c[0]}}),n}function QU(t,e){var r={},n=r.EncryptionVersionInfo=Cs(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=YA(t,a),e-=a,r.EncryptionVerifier=WA(t,e),r}function ZU(t){var e={},r=e.EncryptionVersionInfo=Cs(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function JU(t){var e=0,r,n=GA(t),a=n.length+1,o,c,u,d,h;for(r=Ai(a),r[0]=n.length,o=1;o!=a;++o)r[o]=n[o-1];for(o=a-1;o>=0;--o)c=r[o],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^c;return e^52811}var $A=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(c){return(c/2|c*128)&255},a=function(c,u){return n(c^u)},o=function(c){for(var u=e[c.length-1],d=104,h=c.length-1;h>=0;--h)for(var m=c[h],y=0;y!=7;++y)m&64&&(u^=r[d]),m*=2,--d;return u};return function(c){for(var u=GA(c),d=o(u),h=u.length,m=Ai(16),y=0;y!=16;++y)m[y]=0;var v,T,_;for((h&1)===1&&(v=d>>8,m[h]=a(t[0],v),--h,v=d&255,T=u[u.length-1],m[h]=a(T,v));h>0;)--h,v=d>>8,m[h]=a(u[h],v),--h,v=d&255,m[h]=a(u[h],v);for(h=15,_=15-u.length;_>0;)v=d>>8,m[h]=a(t[_],v),--h,--_,v=d&255,m[h]=a(u[h],v),--h,--_;return m}})(),eB=function(t,e,r,n,a){a||(a=e),n||(n=$A(t));var o,c;for(o=0;o!=e.length;++o)c=e[o],c^=n[r],c=(c>>5|c<<3)&255,a[o]=c,++r;return[a,r,n]},tB=function(t){var e=0,r=$A(t);return function(n){var a=eB("",n,e,r);return e=a[1],a[0]}};function rB(t,e,r,n){var a={key:Lr(t),verificationBytes:Lr(t)};return r.password&&(a.verifier=JU(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=tB(r.password)),a}function nB(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=ZU(t):n.Data=QU(t,e),n}function aB(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?nB(t,e-2,n):rB(t,r.biff>=8?e:e-2,r,n),n}var sB=(function(){function t(a,o){switch(o.type){case"base64":return e(Jn(a),o);case"binary":return e(a,o);case"buffer":return e(Ft&&Buffer.isBuffer(a)?a.toString("binary"):So(a),o);case"array":return e(xo(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){var c=o||{},u=c.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,y){Array.isArray(u)&&(u[y]=[]);for(var v=/\\\w+\b/g,T=0,_,w=-1;_=v.exec(m);){switch(_[0]){case"\\cell":var b=m.slice(T,v.lastIndex-_[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var N={v:b,t:"s"};Array.isArray(u)?u[y][w]=N:u[yt({r:y,c:w})]=N}break}T=v.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=Bt(h),u}function r(a,o){return Di(t(a,o),o)}function n(a){for(var o=["{\\rtf1\\ansi"],c=Er(a["!ref"]),u,d=Array.isArray(a),h=c.s.r;h<=c.e.r;++h){o.push("\\trowd\\trautofit1");for(var m=c.s.c;m<=c.e.c;++m)o.push("\\cellx"+(m+1));for(o.push("\\pard\\intbl"),m=c.s.c;m<=c.e.c;++m){var y=yt({r:h,c:m});u=d?(a[h]||[])[m]:a[y],!(!u||u.v==null&&(!u.f||u.F))&&(o.push(" "+(u.w||(Rs(u),u.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function iB(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Vu(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function oB(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),o=Math.min(e,r,n),c=a-o;if(c===0)return[0,0,e];var u=0,d=0,h=a+o;switch(d=c/(h>1?2-h:h),a){case e:u=((r-n)/c+6)%6;break;case r:u=(n-e)/c+2;break;case n:u=(e-r)/c+4;break}return[u/6,d,h/2]}function cB(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),o=n-a/2,c=[o,o,o],u=6*e,d;if(r!==0)switch(u|0){case 0:case 6:d=a*u,c[0]+=a,c[1]+=d;break;case 1:d=a*(2-u),c[0]+=d,c[1]+=a;break;case 2:d=a*(u-2),c[1]+=a,c[2]+=d;break;case 3:d=a*(4-u),c[1]+=d,c[2]+=a;break;case 4:d=a*(u-4),c[2]+=a,c[0]+=d;break;case 5:d=a*(6-u),c[2]+=d,c[0]+=a;break}for(var h=0;h!=3;++h)c[h]=Math.round(c[h]*255);return c}function Td(t,e){if(e===0)return t;var r=oB(iB(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Vu(cB(r))}var KA=6,lB=15,uB=1,wn=KA;function Ed(t){return Math.floor((t+Math.round(128/wn)/256)*wn)}function bd(t){return Math.floor((t-5)/wn*100+.5)/100}function y1(t){return Math.round((t*wn+5)/wn*256)/256}function Mm(t){return y1(bd(Ed(t)))}function Kp(t){var e=Math.abs(t-Mm(t)),r=wn;if(e>.005)for(wn=uB;wn<lB;++wn)Math.abs(t-Mm(t))<=e&&(e=Math.abs(t-Mm(t)),r=wn);wn=r}function Bc(t){t.width?(t.wpx=Ed(t.width),t.wch=bd(t.wpx),t.MDW=wn):t.wpx?(t.wch=bd(t.wpx),t.width=y1(t.wch),t.MDW=wn):typeof t.wch=="number"&&(t.width=y1(t.wch),t.wpx=Ed(t.width),t.MDW=wn),t.customWidth&&delete t.customWidth}var fB=96,qA=fB;function XA(t){return t*96/qA}function Gu(t){return t*qA/96}var dB={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function hB(t,e,r,n){e.Borders=[];var a={},o=!1;(t[0].match(pn)||[]).forEach(function(c){var u=lt(c);switch(rs(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},u.diagonalUp&&(a.diagonalUp=hr(u.diagonalUp)),u.diagonalDown&&(a.diagonalDown=hr(u.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+u[0]+" in borders")}})}function gB(t,e,r,n){e.Fills=[];var a={},o=!1;(t[0].match(pn)||[]).forEach(function(c){var u=lt(c);switch(rs(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":u.patternType&&(a.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),u.indexed&&(a.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(a.bgColor.theme=parseInt(u.theme,10)),u.tint&&(a.bgColor.tint=parseFloat(u.tint)),u.rgb&&(a.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),u.theme&&(a.fgColor.theme=parseInt(u.theme,10)),u.tint&&(a.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(a.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+u[0]+" in fills")}})}function mB(t,e,r,n){e.Fonts=[];var a={},o=!1;(t[0].match(pn)||[]).forEach(function(c){var u=lt(c);switch(rs(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":u.val&&(a.name=ur(u.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=u.val?hr(u.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=u.val?hr(u.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(u.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=u.val?hr(u.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=u.val?hr(u.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=u.val?hr(u.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=u.val?hr(u.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=u.val?hr(u.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":u.val&&(a.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(a.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(a.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(a.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=Dp[parseInt(u.val,10)];break;case"<color":if(a.color||(a.color={}),u.auto&&(a.color.auto=hr(u.auto)),u.rgb)a.color.rgb=u.rgb.slice(-6);else if(u.indexed){a.color.index=parseInt(u.indexed,10);var d=ao[a.color.index];a.color.index==81&&(d=ao[1]),d||(d=ao[1]),a.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else u.theme&&(a.color.theme=parseInt(u.theme,10),u.tint&&(a.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Td(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(n&&n.WTF&&!o)throw new Error("unrecognized "+u[0]+" in fonts")}})}function pB(t,e,r){e.NumberFmt=[];for(var n=Ja(_t),a=0;a<n.length;++a)e.NumberFmt[n[a]]=_t[n[a]];var o=t[0].match(pn);if(o)for(a=0;a<o.length;++a){var c=lt(o[a]);switch(rs(c[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=jt(ur(c.formatCode)),d=parseInt(c.numFmtId,10);if(e.NumberFmt[d]=u,d>0){if(d>392){for(d=392;d>60&&e.NumberFmt[d]!=null;--d);e.NumberFmt[d]=u}no(u,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+c[0]+" in numFmts")}}}var Df=["numFmtId","fillId","fontId","borderId","xfId"],If=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xB(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(pn)||[]).forEach(function(o){var c=lt(o),u=0;switch(rs(c[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=c,delete n[0],u=0;u<Df.length;++u)n[Df[u]]&&(n[Df[u]]=parseInt(n[Df[u]],10));for(u=0;u<If.length;++u)n[If[u]]&&(n[If[u]]=hr(n[If[u]]));if(e.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[u]){n.numFmtId=u;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};c.vertical&&(d.vertical=c.vertical),c.horizontal&&(d.horizontal=c.horizontal),c.textRotation!=null&&(d.textRotation=c.textRotation),c.indent&&(d.indent=c.indent),c.wrapText&&(d.wrapText=hr(c.wrapText)),n.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+c[0]+" in cellXfs")}})}var yB=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,o=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,d,h){var m={};if(!u)return m;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var y;return(y=u.match(e))&&pB(y,m,h),(y=u.match(a))&&mB(y,m,d,h),(y=u.match(n))&&gB(y,m,d,h),(y=u.match(o))&&hB(y,m,d,h),(y=u.match(r))&&xB(y,m,h),m}})();function vB(t,e){var r=t.read_shift(2),n=gn(t);return[r,n]}function _B(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=D9(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var o=t.read_shift(2);switch(o===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(n.underline=c);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=N9(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gn(t),n}var wB=mn;function TB(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}var EB=mn;function bB(t,e,r){var n={};n.NumberFmt=[];for(var a in _t)n.NumberFmt[a]=_t[a];n.CellXf=[],n.Fonts=[];var o=[],c=!1;return Fs(t,function(d,h,m){switch(m){case 44:n.NumberFmt[d[0]]=d[1],no(d[1],d[0]);break;case 43:n.Fonts.push(d),d.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(d.color.rgb=Td(e.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:o[o.length-1]==617&&n.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:o.push(m),c=!0;break;case 38:o.pop(),c=!1;break;default:if(h.T>0)o.push(m);else if(h.T<0)o.pop();else if(!c||r.WTF&&o[o.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var SB=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function AB(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(pn)||[]).forEach(function(a){var o=lt(a);switch(o[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=o.val;break;case"<a:sysClr":n.rgb=o.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":o[0].charAt(1)==="/"?(e.themeElements.clrScheme[SB.indexOf(o[0])]=n,n={}):n.name=o[0].slice(3,o[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+o[0]+" in clrScheme")}})}function kB(){}function CB(){}var NB=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,DB=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,IB=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function RB(t,e,r){e.themeElements={};var n;[["clrScheme",NB,AB],["fontScheme",DB,kB],["fmtScheme",IB,CB]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var OB=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function QA(t,e){(!t||t.length===0)&&(t=MB());var r,n={};if(!(r=t.match(OB)))throw new Error("themeElements not found in theme");return RB(r[0],n,e),n.raw=t,n}function MB(t,e){var r=[cA];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function FB(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var o=t.slice(t.l);t.l=n;var c;try{c=oA(o,{type:"array"})}catch{return}var u=Qn(c,"theme/theme/theme1.xml",!0);if(u)return QA(u,r)}}function LB(t){return t.read_shift(4)}function PB(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=UB(t,4);break;case 2:e.xclrValue=PA(t);break;case 3:e.xclrValue=LB(t);break;case 4:t.l+=4;break}return t.l+=8,e}function UB(t,e){return mn(t,e)}function BB(t,e){return mn(t,e)}function jB(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=PB(t);break;case 6:n[1]=BB(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function HB(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),o=[];a-- >0;)o.push(jB(t,r-t.l));return{ixfe:n,ext:o}}function zB(t,e){e.forEach(function(r){r[0]})}function VB(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:gn(t)}}function GB(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function YB(t){return t.l+=4,t.read_shift(4)!=0}function WB(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},o=[],c=!1,u=2;return Fs(t,function(d,h,m){switch(m){case 335:n.Types.push({name:d.name});break;case 51:d.forEach(function(y){u==1?n.Cell.push({type:n.Types[y[0]-1].name,index:y[1]}):u==0&&n.Value.push({type:n.Types[y[0]-1].name,index:y[1]})});break;case 337:u=d?1:0;break;case 338:u=2;break;case 35:o.push(m),c=!0;break;case 36:o.pop(),c=!1;break;default:if(!h.T){if(!c||a.WTF&&o[o.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function $B(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,o=2,c;return t.replace(pn,function(u){var d=lt(u);switch(rs(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<n.Types.length;++h)n.Types[h].name==d.name&&(c=n.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":o==1?n.Cell.push({type:n.Types[d.t-1].name,index:+d.v}):o==0&&n.Value.push({type:n.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":o=1;break;case"</cellMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"</valueMetadata>":o=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!c)break;c.offsets||(c.offsets=[]),c.offsets.push(+d.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return u}),n}function KB(t){var e=[];if(!t)return e;var r=1;return(t.match(pn)||[]).forEach(function(n){var a=lt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function qB(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=yt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function XB(t,e,r){var n=[];return Fs(t,function(o,c,u){switch(u){case 63:n.push(o);break;default:if(!c.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function QB(t,e,r,n){if(!t)return t;var a=n||{},o=!1;Fs(t,function(u,d,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(!d.T){if(!o||a.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},a)}function ZB(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function fT(t,e,r,n){var a=Array.isArray(t),o;e.forEach(function(c){var u=bn(c.ref);if(a?(t[u.r]||(t[u.r]=[]),o=t[u.r][u.c]):o=t[c.ref],!o){o={t:"z"},a?t[u.r][u.c]=o:t[c.ref]=o;var d=Er(t["!ref"]||"BDWGO1000001:A1");d.s.r>u.r&&(d.s.r=u.r),d.e.r<u.r&&(d.e.r=u.r),d.s.c>u.c&&(d.s.c=u.c),d.e.c<u.c&&(d.e.c=u.c);var h=Bt(d);h!==t["!ref"]&&(t["!ref"]=h)}o.c||(o.c=[]);var m={a:c.author,t:c.t,r:c.r,T:r};c.h&&(m.h=c.h);for(var y=o.c.length-1;y>=0;--y){if(!r&&o.c[y].T)return;r&&!o.c[y].T&&o.c.splice(y,1)}if(r&&n){for(y=0;y<n.length;++y)if(m.a==n[y].id){m.a=n[y].name||m.a;break}}o.c.push(m)})}function JB(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(c){if(!(c===""||c.trim()==="")){var u=c.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var o=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return o&&o[1]&&o[1].split(/<\/\w*:?comment>/).forEach(function(c){if(!(c===""||c.trim()==="")){var u=c.match(/<(?:\w+:)?comment[^>]*>/);if(u){var d=lt(u[0]),h={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},m=bn(d.ref);if(!(e.sheetRows&&e.sheetRows<=m.r)){var y=c.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!y&&!!y[1]&&$p(y[1])||{r:"",t:"",h:""};h.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),h.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(h.h=v.h),n.push(h)}}}}),n}function ej(t,e){var r=[],n=!1,a={},o=0;return t.replace(pn,function(u,d){var h=lt(u);switch(rs(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":o=d+u.length;break;case"</text>":a.t=t.slice(o,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return u}),r}function tj(t,e){var r=[],n=!1;return t.replace(pn,function(o){var c=lt(o);switch(rs(c[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:c.displayname,id:c.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function rj(t){var e={};e.iauthor=t.read_shift(4);var r=ko(t);return e.rfx=r.s,e.ref=yt(r.s),t.l+=16,e}var nj=gn;function aj(t,e){var r=[],n=[],a={},o=!1;return Fs(t,function(u,d,h){switch(h){case 632:n.push(u);break;case 635:a=u;break;case 637:a.t=u.t,a.h=u.h,a.r=u.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}var sj="application/vnd.ms-office.vbaProject";function ij(t){var e=Ut.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ut.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Ut.write(e)}function oj(){return{"!type":"dialog"}}function cj(){return{"!type":"dialog"}}function lj(){return{"!type":"macro"}}function uj(){return{"!type":"macro"}}var Nc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,o,c){var u=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),c.length==0?u=!0:c.charAt(0)=="["&&(u=!0,c=c.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,m=c.length>0?parseInt(c,10)|0:0;return u?m+=e.c:--m,d?h+=e.r:--h,a+(u?"":"$")+zr(m)+(d?"":"$")+sn(h)}return function(a,o){return e=o,a.replace(t,r)}})(),ZA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fj=(function(){return function(e,r){return e.replace(ZA,function(n,a,o,c,u,d){var h=Hp(c)-(o?0:r.c),m=jp(d)-(u?0:r.r),y=m==0?"":u?m+1:"["+m+"]",v=h==0?"":o?h+1:"["+h+"]";return a+"R"+y+"C"+v})}})();function JA(t,e){return t.replace(ZA,function(r,n,a,o,c,u){return n+(a=="$"?a+o:zr(Hp(o)+e.c))+(c=="$"?c+u:sn(jp(u)+e.r))})}function dj(t,e,r){var n=Xc(e),a=n.s,o=bn(r),c={r:o.r-a.r,c:o.c-a.c};return JA(t,c)}function hj(t){return t.length!=1}function dT(t){return t.replace(/_xlfn\./g,"")}function Mr(t){t.l+=1}function ki(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function e4(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return t4(t);r.biff==12&&(n=4)}var a=t.read_shift(n),o=t.read_shift(n),c=ki(t),u=ki(t);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:u[0],cRel:u[1],rRel:u[2]}}}function t4(t){var e=ki(t),r=ki(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gj(t,e,r){if(r.biff<8)return t4(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),o=ki(t),c=ki(t);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function r4(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return mj(t);var n=t.read_shift(r&&r.biff==12?4:2),a=ki(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function mj(t){var e=ki(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function pj(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function xj(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return yj(t);var a=t.read_shift(n>=12?4:2),o=t.read_shift(2),c=(o&16384)>>14,u=(o&32768)>>15;if(o&=16383,u==1)for(;a>524287;)a-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:a,c:o,cRel:c,rRel:u}}function yj(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function vj(t,e,r){var n=(t[t.l++]&96)>>5,a=e4(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function _j(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var c=e4(t,o,r);return[n,a,c]}function wj(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Tj(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[n,a]}function Ej(t,e,r){var n=(t[t.l++]&96)>>5,a=gj(t,e-1,r);return[n,a]}function bj(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function hT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Sj(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],o=0;o<=n;++o)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Aj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Cj(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Nj(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function n4(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Dj(t){return t.read_shift(2),n4(t)}function Ij(t){return t.read_shift(2),n4(t)}function Rj(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=r4(t,0,r);return[n,a]}function Oj(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=xj(t,0,r);return[n,a]}function Mj(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var o=r4(t,0,r);return[n,a,o]}function Fj(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[LH[a],i4[a],n]}function Lj(t,e,r){var n=t[t.l++],a=t.read_shift(1),o=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Pj(t);return[a,(o[0]===0?i4:FH)[o[1]]]}function Pj(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Uj(t,e,r){t.l+=r&&r.biff==2?3:4}function Bj(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function jj(t){return t.l++,Co[t.read_shift(1)]}function Hj(t){return t.l++,t.read_shift(2)}function zj(t){return t.l++,t.read_shift(1)!==0}function Vj(t){return t.l++,dn(t)}function Gj(t,e,r){return t.l++,i0(t,e-1,r)}function Yj(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ar(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Co[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=dn(t);break;case 2:r[1]=No(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Wj(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],o=0;o!=n;++o)a.push((r.biff==12?ko:Xd)(t));return a}function $j(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var o=0,c=[];o!=n&&(c[o]=[]);++o)for(var u=0;u!=a;++u)c[o][u]=Yj(t,r.biff);return c}function Kj(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,o=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,o]}function qj(t,e,r){if(r.biff==5)return Xj(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),o=t.read_shift(4);return[n,a,o]}function Xj(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Qj(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Zj(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Jj(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function eH(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[n,a]}var tH=mn,rH=mn,nH=mn;function c0(t,e,r){return t.l+=2,[pj(t)]}function qp(t){return t.l+=6,[]}var aH=c0,sH=qp,iH=qp,oH=c0;function a4(t){return t.l+=2,[Lr(t),t.read_shift(2)&1]}var cH=c0,lH=a4,uH=qp,fH=c0,dH=c0,hH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gH(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),o=t.read_shift(2),c=hH[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:n,c:a,C:o}}function mH(t){return t.l+=2,[t.read_shift(4)]}function pH(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function xH(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function yH(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function vH(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _H(t){return t.l+=4,[0,0]}var gT={1:{n:"PtgExp",f:Bj},2:{n:"PtgTbl",f:nH},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:Gj},26:{n:"PtgSheet",f:pH},27:{n:"PtgEndSheet",f:xH},28:{n:"PtgErr",f:jj},29:{n:"PtgBool",f:zj},30:{n:"PtgInt",f:Hj},31:{n:"PtgNum",f:Vj},32:{n:"PtgArray",f:bj},33:{n:"PtgFunc",f:Fj},34:{n:"PtgFuncVar",f:Lj},35:{n:"PtgName",f:Kj},36:{n:"PtgRef",f:Rj},37:{n:"PtgArea",f:vj},38:{n:"PtgMemArea",f:Qj},39:{n:"PtgMemErr",f:tH},40:{n:"PtgMemNoMem",f:rH},41:{n:"PtgMemFunc",f:Zj},42:{n:"PtgRefErr",f:Jj},43:{n:"PtgAreaErr",f:wj},44:{n:"PtgRefN",f:Oj},45:{n:"PtgAreaN",f:Ej},46:{n:"PtgMemAreaN",f:yH},47:{n:"PtgMemNoMemN",f:vH},57:{n:"PtgNameX",f:qj},58:{n:"PtgRef3d",f:Mj},59:{n:"PtgArea3d",f:_j},60:{n:"PtgRefErr3d",f:eH},61:{n:"PtgAreaErr3d",f:Tj},255:{}},wH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TH={1:{n:"PtgElfLel",f:a4},2:{n:"PtgElfRw",f:fH},3:{n:"PtgElfCol",f:aH},6:{n:"PtgElfRwV",f:dH},7:{n:"PtgElfColV",f:oH},10:{n:"PtgElfRadical",f:cH},11:{n:"PtgElfRadicalS",f:uH},13:{n:"PtgElfColS",f:sH},15:{n:"PtgElfColSV",f:iH},16:{n:"PtgElfRadicalLel",f:lH},25:{n:"PtgList",f:gH},29:{n:"PtgSxName",f:mH},255:{}},EH={0:{n:"PtgAttrNoop",f:_H},1:{n:"PtgAttrSemi",f:Nj},2:{n:"PtgAttrIf",f:kj},4:{n:"PtgAttrChoose",f:Sj},8:{n:"PtgAttrGoto",f:Aj},16:{n:"PtgAttrSum",f:Uj},32:{n:"PtgAttrBaxcel",f:hT},33:{n:"PtgAttrBaxcel",f:hT},64:{n:"PtgAttrSpace",f:Dj},65:{n:"PtgAttrSpaceSemi",f:Ij},128:{n:"PtgAttrIfError",f:Cj},255:{}};function l0(t,e,r,n){if(n.biff<8)return mn(t,e);for(var a=t.l+e,o=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=$j(t,0,n),o.push(r[c][1]);break;case"PtgMemArea":r[c][2]=Wj(t,r[c][1],n),o.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=t.read_shift(4),o.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=a-t.l,e!==0&&o.push(mn(t,e)),o}function u0(t,e,r){for(var n=t.l+e,a,o,c=[];n!=t.l;)e=n-t.l,o=t[t.l],a=gT[o]||gT[wH[o]],(o===24||o===25)&&(a=(o===24?TH:EH)[t[t.l+1]]),!a||!a.f?mn(t,e):c.push([a.n,a.f(t,e,r)]);return c}function bH(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],o=0;o<n.length;++o){var c=n[o];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var SH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function AH(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function s4(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function mT(t,e,r){var n=s4(t,e,r);return n=="#REF"?n:AH(n,r)}function fn(t,e,r,n,a){var o=a&&a.biff||8,c={s:{c:0,r:0}},u=[],d,h,m,y=0,v=0,T,_="";if(!t[0]||!t[0][0])return"";for(var w=-1,b="",N=0,R=t[0].length;N<R;++N){var S=t[0][N];switch(S[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:b=yr(" ",t[0][w][1][1]);break;case 1:b=yr("\r",t[0][w][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+b,w=-1}u.push(h+SH[S[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=xu(S[1][1],c,a),u.push(yu(m,o));break;case"PtgRefN":m=r?xu(S[1][1],r,a):S[1][1],u.push(yu(m,o));break;case"PtgRef3d":y=S[1][1],m=xu(S[1][2],c,a),_=mT(n,y,a),u.push(_+"!"+yu(m,o));break;case"PtgFunc":case"PtgFuncVar":var U=S[1][0],P=S[1][1];U||(U=0),U&=127;var W=U==0?[]:u.slice(-U);u.length-=U,P==="User"&&(P=W.shift()),u.push(P+"("+W.join(",")+")");break;case"PtgBool":u.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(S[1]);break;case"PtgNum":u.push(String(S[1]));break;case"PtgStr":u.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(S[1]);break;case"PtgAreaN":T=qw(S[1][1],r?{s:r}:c,a),u.push(Rm(T,a));break;case"PtgArea":T=qw(S[1][1],c,a),u.push(Rm(T,a));break;case"PtgArea3d":y=S[1][1],T=S[1][2],_=mT(n,y,a),u.push(_+"!"+Rm(T,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=S[1][2];var D=(n.names||[])[v-1]||(n[0]||[])[v],q=D?D.Name:"SH33TJSNAME"+String(v);q&&q.slice(0,6)=="_xlfn."&&!a.xlfn&&(q=q.slice(6)),u.push(q);break;case"PtgNameX":var H=S[1][1];v=S[1][2];var fe;if(a.biff<=5)H<0&&(H=-H),n[H]&&(fe=n[H][v]);else{var ne="";if(((n[H]||[])[0]||[])[0]==14849||(((n[H]||[])[0]||[])[0]==1025?n[H][v]&&n[H][v].itab>0&&(ne=n.SheetNames[n[H][v].itab-1]+"!"):ne=n.SheetNames[v-1]+"!"),n[H]&&n[H][v])ne+=n[H][v].Name;else if(n[0]&&n[0][v])ne+=n[0][v].Name;else{var Q=(s4(n,H,a)||"").split(";;");Q[v-1]?ne=Q[v-1]:ne+="SH33TJSERRX"}u.push(ne);break}fe||(fe={Name:"SH33TJSERRY"}),u.push(fe.Name);break;case"PtgParen":var ce="(",Ce=")";if(w>=0){switch(b="",t[0][w][1][0]){case 2:ce=yr(" ",t[0][w][1][1])+ce;break;case 3:ce=yr("\r",t[0][w][1][1])+ce;break;case 4:Ce=yr(" ",t[0][w][1][1])+Ce;break;case 5:Ce=yr("\r",t[0][w][1][1])+Ce;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(ce+u.pop()+Ce);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:S[1][1],r:S[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[yt(m)]){var X=n.sharedf[yt(m)];u.push(fn(X,c,xe,n,a))}else{var se=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){u.push(fn(h[1],c,xe,n,a)),se=!0;break}se||u.push(S[1])}break;case"PtgArray":u.push("{"+bH(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&Oe.indexOf(t[0][N][0])==-1){S=t[0][w];var J=!0;switch(S[1][0]){case 4:J=!1;case 0:b=yr(" ",S[1][1]);break;case 5:J=!1;case 1:b=yr("\r",S[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}u.push((J?b:"")+u.pop()+(J?"":b)),w=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function kH(t,e,r){var n=t.l+e,a=r.biff==2?1:2,o,c=t.read_shift(a);if(c==65535)return[[],mn(t,e-2)];var u=u0(t,c,r);return e!==c+a&&(o=l0(t,e-c-a,u,r)),t.l=n,[u,o]}function CH(t,e,r){var n=t.l+e,a=r.biff==2?1:2,o,c=t.read_shift(a);if(c==65535)return[[],mn(t,e-2)];var u=u0(t,c,r);return e!==c+a&&(o=l0(t,e-c-a,u,r)),t.l=n,[u,o]}function NH(t,e,r,n){var a=t.l+e,o=u0(t,n,r),c;return a!==t.l&&(c=l0(t,a-t.l,o,r)),[o,c]}function DH(t,e,r){var n=t.l+e,a,o=t.read_shift(2),c=u0(t,o,r);return o==65535?[[],mn(t,e-2)]:(e!==o+2&&(a=l0(t,n-o-2,c,r)),[c,a])}function IH(t){var e;if(bs(t,t.l+6)!==65535)return[dn(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Fm(t,e,r){var n=t.l+e,a=ns(t);r.biff==2&&++t.l;var o=IH(t),c=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var u=CH(t,n-t.l,r);return{cell:a,val:o[0],formula:u,shared:c>>3&1,tt:o[1]}}function Qd(t,e,r){var n=t.read_shift(4),a=u0(t,n,r),o=t.read_shift(4),c=o>0?l0(t,o,a,r):null;return[a,c]}var RH=Qd,Zd=Qd,OH=Qd,MH=Qd,FH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},i4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},LH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pT(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Lm(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Tu={},Dc={};function Eu(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function o4(t,e,r,n,a,o){try{n.cellNF&&(t.z=_t[e])}catch(u){if(n.WTF)throw u}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Xr(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(_t[e]==null&&no(PL[e]||"General",e),t.t==="e")t.w=t.w||Co[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Bu(t.v);else if(t.t==="d"){var c=Cn(t.v);(c|0)===c?t.w=c.toString(10):t.w=Bu(c)}else{if(t.v===void 0)return"";t.w=po(t.v,Dc)}else t.t==="d"?t.w=va(e,Cn(t.v),Dc):t.w=va(e,t.v,Dc)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{t.s=o.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Td(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Td(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&o.Fills)throw u}}}function PH(t,e){var r=Er(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Bt(r))}var UH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,BH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jH=/<(?:\w:)?hyperlink [^>]*>/mg,HH=/"(\w*:\w*)"/,zH=/<(?:\w:)?col\b[^>]*[\/]?>/g,VH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,GH=/<(?:\w:)?pageMargins[^>]*\/>/g,c4=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,YH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,WH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $H(t,e,r,n,a,o,c){if(!t)return t;n||(n={"!id":{}});var u=e.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",m="",y=t.match(BH);y?(h=t.slice(0,y.index),m=t.slice(y.index+y[0].length)):h=m=t;var v=h.match(c4);v?Xp(v[0],u,a,r):(v=h.match(YH))&&KH(v[0],v[1]||"",u,a,r);var T=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var _=h.slice(T,T+50).match(HH);_&&PH(u,_[1])}var w=h.match(WH);w&&w[1]&&ez(w[1],a);var b=[];if(e.cellStyles){var N=h.match(zH);N&&QH(b,N)}y&&tz(y[1],u,e,d,o,c);var R=m.match(VH);R&&(u["!autofilter"]=ZH(R[0]));var S=[],U=m.match(UH);if(U)for(T=0;T!=U.length;++T)S[T]=Er(U[T].slice(U[T].indexOf('"')+1));var P=m.match(jH);P&&qH(u,P,n);var W=m.match(GH);if(W&&(u["!margins"]=XH(lt(W[0]))),!u["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(u["!ref"]=Bt(d)),e.sheetRows>0&&u["!ref"]){var D=Er(u["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>d.e.r&&(D.e.r=d.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>d.e.c&&(D.e.c=d.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Bt(D))}return b.length>0&&(u["!cols"]=b),S.length>0&&(u["!merges"]=S),u}function Xp(t,e,r,n){var a=lt(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=jt(ur(a.codeName)))}function KH(t,e,r,n,a){Xp(t.slice(0,t.indexOf(">")),r,n,a)}function qH(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var o=lt(ur(e[a]),!0);if(!o.ref)return;var c=((r||{})["!id"]||[])[o.id];c?(o.Target=c.Target,o.location&&(o.Target+="#"+jt(o.location))):(o.Target="#"+jt(o.location),c={Target:o.Target,TargetMode:"Internal"}),o.Rel=c,o.tooltip&&(o.Tooltip=o.tooltip,delete o.tooltip);for(var u=Er(o.ref),d=u.s.r;d<=u.e.r;++d)for(var h=u.s.c;h<=u.e.c;++h){var m=yt({c:h,r:d});n?(t[d]||(t[d]=[]),t[d][h]||(t[d][h]={t:"z",v:void 0}),t[d][h].l=o):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=o)}}}function XH(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function QH(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=lt(e[n],!0);a.hidden&&(a.hidden=hr(a.hidden));var o=parseInt(a.min,10)-1,c=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,Kp(a.width)),Bc(a);o<=c;)t[o++]=an(a)}}function ZH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var JH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ez(t,e){e.Views||(e.Views=[{}]),(t.match(JH)||[]).forEach(function(r,n){var a=lt(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),hr(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var tz=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,o=ju("v"),c=ju("f");return function(d,h,m,y,v,T){for(var _=0,w="",b=[],N=[],R=0,S=0,U=0,P="",W,D,q=0,H=0,fe,ne,Q=0,ce=0,Ce=Array.isArray(T.CellXf),xe,X=[],se=[],Oe=Array.isArray(h),J=[],M={},K=!1,C=!!m.sheetStubs,z=d.split(e),V=0,Y=z.length;V!=Y;++V){w=z[V].trim();var ae=w.length;if(ae!==0){var Te=0;e:for(_=0;_<ae;++_)switch(w[_]){case">":if(w[_-1]!="/"){++_;break e}if(m&&m.cellStyles){if(D=lt(w.slice(Te,_),!0),q=D.r!=null?parseInt(D.r,10):q+1,H=-1,m.sheetRows&&m.sheetRows<q)continue;M={},K=!1,D.ht&&(K=!0,M.hpt=parseFloat(D.ht),M.hpx=Gu(M.hpt)),D.hidden=="1"&&(K=!0,M.hidden=!0),D.outlineLevel!=null&&(K=!0,M.level=+D.outlineLevel),K&&(J[q-1]=M)}break;case"<":Te=_;break}if(Te>=_)break;if(D=lt(w.slice(Te,_),!0),q=D.r!=null?parseInt(D.r,10):q+1,H=-1,!(m.sheetRows&&m.sheetRows<q)){y.s.r>q-1&&(y.s.r=q-1),y.e.r<q-1&&(y.e.r=q-1),m&&m.cellStyles&&(M={},K=!1,D.ht&&(K=!0,M.hpt=parseFloat(D.ht),M.hpx=Gu(M.hpt)),D.hidden=="1"&&(K=!0,M.hidden=!0),D.outlineLevel!=null&&(K=!0,M.level=+D.outlineLevel),K&&(J[q-1]=M)),b=w.slice(_).split(t);for(var Ae=0;Ae!=b.length&&b[Ae].trim().charAt(0)=="<";++Ae);for(b=b.slice(Ae),_=0;_!=b.length;++_)if(w=b[_].trim(),w.length!==0){if(N=w.match(r),R=_,S=0,U=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,N!=null&&N.length===2){for(R=0,P=N[1],S=0;S!=P.length&&!((U=P.charCodeAt(S)-64)<1||U>26);++S)R=26*R+U;--R,H=R}else++H;for(S=0;S!=w.length&&w.charCodeAt(S)!==62;++S);if(++S,D=lt(w.slice(0,S),!0),D.r||(D.r=yt({r:q-1,c:H})),P=w.slice(S),W={t:""},(N=P.match(o))!=null&&N[1]!==""&&(W.v=jt(N[1])),m.cellFormula){if((N=P.match(c))!=null&&N[1]!==""){if(W.f=jt(ur(N[1])).replace(/\r\n/g,`
`),m.xlfn||(W.f=dT(W.f)),N[0].indexOf('t="array"')>-1)W.F=(P.match(a)||[])[1],W.F.indexOf(":")>-1&&X.push([Er(W.F),W.F]);else if(N[0].indexOf('t="shared"')>-1){ne=lt(N[0]);var be=jt(ur(N[1]));m.xlfn||(be=dT(be)),se[parseInt(ne.si,10)]=[ne,be,D.r]}}else(N=P.match(/<f[^>]*\/>/))&&(ne=lt(N[0]),se[ne.si]&&(W.f=dj(se[ne.si][1],se[ne.si][2],D.r)));var Se=bn(D.r);for(S=0;S<X.length;++S)Se.r>=X[S][0].s.r&&Se.r<=X[S][0].e.r&&Se.c>=X[S][0].s.c&&Se.c<=X[S][0].e.c&&(W.F=X[S][1])}if(D.t==null&&W.v===void 0)if(W.f||W.F)W.v=0,W.t="n";else if(C)W.t="z";else continue;else W.t=D.t||"n";switch(y.s.c>H&&(y.s.c=H),y.e.c<H&&(y.e.c=H),W.t){case"n":if(W.v==""||W.v==null){if(!C)continue;W.t="z"}else W.v=parseFloat(W.v);break;case"s":if(typeof W.v>"u"){if(!C)continue;W.t="z"}else fe=Tu[parseInt(W.v,10)],W.v=fe.t,W.r=fe.r,m.cellHTML&&(W.h=fe.h);break;case"str":W.t="s",W.v=W.v!=null?ur(W.v):"",m.cellHTML&&(W.h=Pp(W.v));break;case"inlineStr":N=P.match(n),W.t="s",N!=null&&(fe=$p(N[1]))?(W.v=fe.t,m.cellHTML&&(W.h=fe.h)):W.v="";break;case"b":W.v=hr(W.v);break;case"d":m.cellDates?W.v=Xr(W.v,1):(W.v=Cn(Xr(W.v,1)),W.t="n");break;case"e":(!m||m.cellText!==!1)&&(W.w=W.v),W.v=NA[W.v];break}if(Q=ce=0,xe=null,Ce&&D.s!==void 0&&(xe=T.CellXf[D.s],xe!=null&&(xe.numFmtId!=null&&(Q=xe.numFmtId),m.cellStyles&&xe.fillId!=null&&(ce=xe.fillId))),o4(W,Q,ce,m,v,T),m.cellDates&&Ce&&W.t=="n"&&qc(_t[Q])&&(W.t="d",W.v=qd(W.v)),D.cm&&m.xlmeta){var Je=(m.xlmeta.Cell||[])[+D.cm-1];Je&&Je.type=="XLDAPR"&&(W.D=!0)}if(Oe){var j=bn(D.r);h[j.r]||(h[j.r]=[]),h[j.r][j.c]=W}else h[D.r]=W}}}}J.length>0&&(h["!rows"]=J)}})();function rz(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=n,o&7&&(r.level=o&7),o&16&&(r.hidden=!0),o&32&&(r.hpt=a/20),r}var nz=ko;function az(){}function sz(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=k9(t),r}function iz(t){var e=_a(t);return[e]}function oz(t){var e=Ao(t);return[e]}function cz(t){var e=_a(t),r=t.read_shift(1);return[e,r,"b"]}function lz(t){var e=Ao(t),r=t.read_shift(1);return[e,r,"b"]}function uz(t){var e=_a(t),r=t.read_shift(1);return[e,r,"e"]}function fz(t){var e=Ao(t),r=t.read_shift(1);return[e,r,"e"]}function dz(t){var e=_a(t),r=t.read_shift(4);return[e,r,"s"]}function hz(t){var e=Ao(t),r=t.read_shift(4);return[e,r,"s"]}function gz(t){var e=_a(t),r=dn(t);return[e,r,"n"]}function l4(t){var e=Ao(t),r=dn(t);return[e,r,"n"]}function mz(t){var e=_a(t),r=Gp(t);return[e,r,"n"]}function pz(t){var e=Ao(t),r=Gp(t);return[e,r,"n"]}function xz(t){var e=_a(t),r=zp(t);return[e,r,"is"]}function yz(t){var e=_a(t),r=gn(t);return[e,r,"str"]}function vz(t){var e=Ao(t),r=gn(t);return[e,r,"str"]}function _z(t,e,r){var n=t.l+e,a=_a(t);a.r=r["!row"];var o=t.read_shift(1),c=[a,o,"b"];if(r.cellFormula){t.l+=2;var u=Zd(t,n-t.l,r);c[3]=fn(u,null,a,r.supbooks,r)}else t.l=n;return c}function wz(t,e,r){var n=t.l+e,a=_a(t);a.r=r["!row"];var o=t.read_shift(1),c=[a,o,"e"];if(r.cellFormula){t.l+=2;var u=Zd(t,n-t.l,r);c[3]=fn(u,null,a,r.supbooks,r)}else t.l=n;return c}function Tz(t,e,r){var n=t.l+e,a=_a(t);a.r=r["!row"];var o=dn(t),c=[a,o,"n"];if(r.cellFormula){t.l+=2;var u=Zd(t,n-t.l,r);c[3]=fn(u,null,a,r.supbooks,r)}else t.l=n;return c}function Ez(t,e,r){var n=t.l+e,a=_a(t);a.r=r["!row"];var o=gn(t),c=[a,o,"str"];if(r.cellFormula){t.l+=2;var u=Zd(t,n-t.l,r);c[3]=fn(u,null,a,r.supbooks,r)}else t.l=n;return c}var bz=ko;function Sz(t,e){var r=t.l+e,n=ko(t),a=Vp(t),o=gn(t),c=gn(t),u=gn(t);t.l=r;var d={rfx:n,relId:a,loc:o,display:u};return c&&(d.Tooltip=c),d}function Az(){}function kz(t,e,r){var n=t.l+e,a=AA(t),o=t.read_shift(1),c=[a];if(c[2]=o,r.cellFormula){var u=RH(t,n-t.l,r);c[1]=u}else t.l=n;return c}function Cz(t,e,r){var n=t.l+e,a=ko(t),o=[a];if(r.cellFormula){var c=MH(t,n-t.l,r);o[1]=c,t.l=n}else t.l=n;return o}var Nz=["left","right","top","bottom","header","footer"];function Dz(t){var e={};return Nz.forEach(function(r){e[r]=dn(t)}),e}function Iz(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Rz(){}function Oz(){}function Mz(t,e,r,n,a,o,c){if(!t)return t;var u=e||{};n||(n={"!id":{}});var d=u.dense?[]:{},h,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=!1,v=!1,T,_,w,b,N,R,S,U,P,W=[];u.biff=12,u["!row"]=0;var D=0,q=!1,H=[],fe={},ne=u.supbooks||a.supbooks||[[]];if(ne.sharedf=fe,ne.arrayf=H,ne.SheetNames=a.SheetNames||a.Sheets.map(function(Oe){return Oe.name}),!u.supbooks&&(u.supbooks=ne,a.Names))for(var Q=0;Q<a.Names.length;++Q)ne[0][Q+1]=a.Names[Q];var ce=[],Ce=[],xe=!1;Sd[16]={n:"BrtShortReal",f:l4};var X;if(Fs(t,function(J,M,K){if(!v)switch(K){case 148:h=J;break;case 0:T=J,u.sheetRows&&u.sheetRows<=T.r&&(v=!0),U=sn(b=T.r),u["!row"]=T.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=Gu(J.hpt)),Ce[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:J[2]},J[2]){case"n":_.v=J[1];break;case"s":S=Tu[J[1]],_.v=S.t,_.r=S.r;break;case"b":_.v=!!J[1];break;case"e":_.v=J[1],u.cellText!==!1&&(_.w=Co[_.v]);break;case"str":_.t="s",_.v=J[1];break;case"is":_.t="s",_.v=J[1].t;break}if((w=c.CellXf[J[0].iStyleRef])&&o4(_,w.numFmtId,null,u,o,c),N=J[0].c==-1?N+1:J[0].c,u.dense?(d[b]||(d[b]=[]),d[b][N]=_):d[zr(N)+U]=_,u.cellFormula){for(q=!1,D=0;D<H.length;++D){var C=H[D];T.r>=C[0].s.r&&T.r<=C[0].e.r&&N>=C[0].s.c&&N<=C[0].e.c&&(_.F=Bt(C[0]),q=!0)}!q&&J.length>3&&(_.f=J[3])}if(m.s.r>T.r&&(m.s.r=T.r),m.s.c>N&&(m.s.c=N),m.e.r<T.r&&(m.e.r=T.r),m.e.c<N&&(m.e.c=N),u.cellDates&&w&&_.t=="n"&&qc(_t[w.numFmtId])){var z=ro(_.v);z&&(_.t="d",_.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}X&&(X.type=="XLDAPR"&&(_.D=!0),X=void 0);break;case 1:case 12:if(!u.sheetStubs||y)break;_={t:"z",v:void 0},N=J[0].c==-1?N+1:J[0].c,u.dense?(d[b]||(d[b]=[]),d[b][N]=_):d[zr(N)+U]=_,m.s.r>T.r&&(m.s.r=T.r),m.s.c>N&&(m.s.c=N),m.e.r<T.r&&(m.e.r=T.r),m.e.c<N&&(m.e.c=N),X&&(X.type=="XLDAPR"&&(_.D=!0),X=void 0);break;case 176:W.push(J);break;case 49:X=((u.xlmeta||{}).Cell||[])[J-1];break;case 494:var V=n["!id"][J.relId];for(V?(J.Target=V.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=V):J.relId==""&&(J.Target="#"+J.loc),b=J.rfx.s.r;b<=J.rfx.e.r;++b)for(N=J.rfx.s.c;N<=J.rfx.e.c;++N)u.dense?(d[b]||(d[b]=[]),d[b][N]||(d[b][N]={t:"z",v:void 0}),d[b][N].l=J):(R=yt({c:N,r:b}),d[R]||(d[R]={t:"z",v:void 0}),d[R].l=J);break;case 426:if(!u.cellFormula)break;H.push(J),P=u.dense?d[b][N]:d[zr(N)+U],P.f=fn(J[1],m,{r:T.r,c:N},ne,u),P.F=Bt(J[0]);break;case 427:if(!u.cellFormula)break;fe[yt(J[0].s)]=J[1],P=u.dense?d[b][N]:d[zr(N)+U],P.f=fn(J[1],m,{r:T.r,c:N},ne,u);break;case 60:if(!u.cellStyles)break;for(;J.e>=J.s;)ce[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},xe||(xe=!0,Kp(J.w/256)),Bc(ce[J.e+1]);break;case 161:d["!autofilter"]={ref:Bt(J)};break;case 476:d["!margins"]=J;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),J.name&&(a.Sheets[r].CodeName=J.name),(J.above||J.left)&&(d["!outline"]={above:J.above,left:J.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),J.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:y=!0;break;case 36:y=!1;break;case 37:y=!0;break;case 38:y=!1;break;default:if(!M.T){if(!y||u.WTF)throw new Error("Unexpected record 0x"+K.toString(16))}}},u),delete u.supbooks,delete u["!row"],!d["!ref"]&&(m.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(d["!ref"]=Bt(h||m)),u.sheetRows&&d["!ref"]){var se=Er(d["!ref"]);u.sheetRows<=+se.e.r&&(se.e.r=u.sheetRows-1,se.e.r>m.e.r&&(se.e.r=m.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>m.e.c&&(se.e.c=m.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Bt(se))}return W.length>0&&(d["!merges"]=W),ce.length>0&&(d["!cols"]=ce),Ce.length>0&&(d["!rows"]=Ce),d}function Fz(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(o){var c=o.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);c&&(e[+c[1]]=r?+c[2]:c[2])});var a=jt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(o){n=o.replace(/<.*?>/g,"")}),[e,a,n]}function Lz(t,e,r,n,a,o){var c=o||{"!type":"chart"};if(!t)return o;var u=0,d=0,h="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(y){var v=Fz(y);m.s.r=m.s.c=0,m.e.c=u,h=zr(u),v[0].forEach(function(T,_){c[h+sn(_)]={t:"n",v:T,z:v[1]},d=_}),m.e.r<d&&(m.e.r=d),++u}),u>0&&(c["!ref"]=Bt(m)),c}function Pz(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},c,u=t.match(c4);return u&&Xp(u[0],o,a,r),(c=t.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=c[1]),n["!id"][o["!rel"]]&&(o["!drawel"]=n["!id"][o["!rel"]]),o}function Uz(t,e){t.l+=10;var r=gn(t);return{name:r}}function Bz(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},c=!1;return Fs(t,function(d,h,m){switch(m){case 550:o["!rel"]=d;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),d.name&&(a.Sheets[r].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:c=!0;break;case 36:c=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!c||e.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},e),n["!id"][o["!rel"]]&&(o["!drawel"]=n["!id"][o["!rel"]]),o}var u4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],jz=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Hz=[],zz=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xT(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var o=e[a];if(n[o[0]]==null)n[o[0]]=o[1];else switch(o[2]){case"bool":typeof n[o[0]]=="string"&&(n[o[0]]=hr(n[o[0]]));break;case"int":typeof n[o[0]]=="string"&&(n[o[0]]=parseInt(n[o[0]],10));break}}}function yT(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=hr(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function f4(t){yT(t.WBProps,u4),yT(t.CalcPr,zz),xT(t.WBView,jz),xT(t.Sheets,Hz),Dc.date1904=hr(t.WBProps.date1904)}var Vz="][*?/\\".split("");function Gz(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vz.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Yz=/<\w+:workbook/;function Wz(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",o={},c=0;if(t.replace(pn,function(d,h){var m=lt(d);switch(rs(m[0])){case"<?xml":break;case"<workbook":d.match(Yz)&&(a="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=m[a];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":u4.forEach(function(y){if(m[y[0]]!=null)switch(y[2]){case"bool":r.WBProps[y[0]]=hr(m[y[0]]);break;case"int":r.WBProps[y[0]]=parseInt(m[y[0]],10);break;default:r.WBProps[y[0]]=m[y[0]]}}),m.codeName&&(r.WBProps.CodeName=ur(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=jt(ur(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":o={},o.Name=ur(m.name),m.comment&&(o.Comment=m.comment),m.localSheetId&&(o.Sheet=+m.localSheetId),hr(m.hidden||"0")&&(o.Hidden=!0),c=h+d.length;break;case"</definedName>":o.Ref=jt(ur(t.slice(c,h))),r.Names.push(o);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return d}),u9.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return f4(r),r}function $z(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=m1(t),r.name=gn(t),r}function Kz(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?gn(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function qz(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Xz(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),o=C9(t),c=OH(t,0,r),u=Vp(t);t.l=n;var d={Name:o,Ptg:c};return a<268435455&&(d.Sheet=a),u&&(d.Comment=u),d}function Qz(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var o=[],c=[[]];return c.SheetNames=[],c.XTI=[],Sd[16]={n:"BrtFRTArchID$",f:qz},Fs(t,function(d,h,m){switch(m){case 156:c.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(e.SID=d.Sheet),d.Ref=fn(d.Ptg,null,null,c,e),delete e.SID,delete d.Ptg,o.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:c[0].length?c.push([m,d]):c[0]=[m,d],c[c.length-1].XTI=[];break;case 362:c.length===0&&(c[0]=[],c[0].XTI=[]),c[c.length-1].XTI=c[c.length-1].XTI.concat(d),c.XTI=c.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(m),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!h.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},e),f4(r),r.Names=o,r.supbooks=c,r}function Zz(t,e,r){return e.slice(-4)===".bin"?Qz(t,r):Wz(t,r)}function Jz(t,e,r,n,a,o,c,u){return e.slice(-4)===".bin"?Mz(t,n,r,a,o,c,u):$H(t,n,r,a,o,c,u)}function eV(t,e,r,n,a,o,c,u){return e.slice(-4)===".bin"?Bz(t,n,r,a,o):Pz(t,n,r,a,o)}function tV(t,e,r,n,a,o,c,u){return e.slice(-4)===".bin"?lj():uj()}function rV(t,e,r,n,a,o,c,u){return e.slice(-4)===".bin"?oj():cj()}function nV(t,e,r,n){return e.slice(-4)===".bin"?bB(t,r,n):yB(t,r,n)}function aV(t,e,r){return QA(t,r)}function sV(t,e,r){return e.slice(-4)===".bin"?jU(t,r):UU(t,r)}function iV(t,e,r){return e.slice(-4)===".bin"?aj(t,r):JB(t,r)}function oV(t,e,r){return e.slice(-4)===".bin"?XB(t):KB(t)}function cV(t,e,r,n){return r.slice(-4)===".bin"?QB(t,e,r,n):void 0}function lV(t,e,r){return e.slice(-4)===".bin"?WB(t,e,r):$B(t,e,r)}var d4=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,h4=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ba(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(d4),o,c,u,d;if(a)for(d=0;d!=a.length;++d)o=a[d].match(h4),(c=o[1].indexOf(":"))===-1?n[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?u="xmlns"+o[1].slice(6):u=o[1].slice(c+1),n[u]=o[2].slice(1,o[2].length-1));return n}function uV(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(d4),a,o,c,u;if(n)for(u=0;u!=n.length;++u)a=n[u].match(h4),(o=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?c="xmlns"+a[1].slice(6):c=a[1].slice(o+1),r[c]=a[2].slice(1,a[2].length-1));return r}var bu;function fV(t,e){var r=bu[t]||jt(t);return r==="General"?po(e):va(r,e)}function dV(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=hr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Xr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[jt(e)]=a}function hV(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Co[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Bu(t.v):t.w=po(t.v):t.w=fV(e||"General",t.v)}catch(o){if(r.WTF)throw o}try{var n=bu[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&qc(n)){var a=ro(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(o){if(r.WTF)throw o}}}function gV(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=dB[n.Pattern]||n.Pattern)}t[e.ID]=e}function mV(t,e,r,n,a,o,c,u,d,h){var m="General",y=n.StyleID,v={};h=h||{};var T=[],_=0;for(y===void 0&&u&&(y=u.StyleID),y===void 0&&c&&(y=c.StyleID);o[y]!==void 0&&(o[y].nf&&(m=o[y].nf),o[y].Interior&&T.push(o[y].Interior),!!o[y].Parent);)y=o[y].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=hr(t);break;case"String":n.t="s",n.r=jw(jt(t)),n.v=t.indexOf("<")>-1?jt(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Xr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=jt(t):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=NA[t],h.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=jw(e||t));break}if(hV(n,m,h),h.cellFormula!==!1)if(n.Formula){var w=jt(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=Nc(w,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Nc("RC:RC",a):n.ArrayRange&&(n.F=Nc(n.ArrayRange,a),d.push([Er(n.F),n.F]))}else for(_=0;_<d.length;++_)a.r>=d[_][0].s.r&&a.r<=d[_][0].e.r&&a.c>=d[_][0].s.c&&a.c<=d[_][0].e.c&&(n.F=d[_][1]);h.cellStyles&&(T.forEach(function(b){!v.patternType&&b.patternType&&(v.patternType=b.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function pV(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Pm(t,e){var r=e||{};tA();var n=nu(Up(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ur(n));var a=n.slice(0,1024).toLowerCase(),o=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var c=an(r);return c.type="string",zu.to_workbook(n,c)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){a.indexOf("<"+ft)>=0&&(o=!0)}),o)return SV(n,r);bu={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,d=[],h,m={},y=[],v=r.dense?[]:{},T="",_={},w={},b=ba('<Data ss:Type="String">'),N=0,R=0,S=0,U={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},W={},D="",q=0,H=[],fe={},ne={},Q=0,ce=[],Ce=[],xe={},X=[],se,Oe=!1,J=[],M=[],K={},C=0,z=0,V={Sheets:[],WBProps:{date1904:!1}},Y={};Hu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";u=Hu.exec(n);)switch(u[3]=(ae=u[3]).toLowerCase()){case"data":if(ae=="data"){if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break}if(d[d.length-1][1])break;u[1]==="/"?mV(n.slice(N,u.index),D,b,d[d.length-1][0]=="comment"?xe:_,{c:R,r:S},P,X[R],w,J,r):(D="",b=ba(u[0]),N=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Ce.length>0&&(_.c=Ce),(!r.sheetRows||r.sheetRows>S)&&_.v!==void 0&&(r.dense?(v[S]||(v[S]=[]),v[S][R]=_):v[zr(R)+sn(S)]=_),_.HRef&&(_.l={Target:jt(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(C=R+(parseInt(_.MergeAcross,10)|0),z=S+(parseInt(_.MergeDown,10)|0),H.push({s:{c:R,r:S},e:{c:C,r:z}})),!r.sheetStubs)_.MergeAcross?R=C+1:++R;else if(_.MergeAcross||_.MergeDown){for(var Te=R;Te<=C;++Te)for(var Ae=S;Ae<=z;++Ae)(Te>R||Ae>S)&&(r.dense?(v[Ae]||(v[Ae]=[]),v[Ae][Te]={t:"z"}):v[zr(Te)+sn(Ae)]={t:"z"});R=C+1}else++R;else _=uV(u[0]),_.Index&&(R=+_.Index-1),R<U.s.c&&(U.s.c=R),R>U.e.c&&(U.e.c=R),u[0].slice(-2)==="/>"&&++R,Ce=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(S<U.s.r&&(U.s.r=S),S>U.e.r&&(U.e.r=S),u[0].slice(-2)==="/>"&&(w=ba(u[0]),w.Index&&(S=+w.Index-1)),R=0,++S):(w=ba(u[0]),w.Index&&(S=+w.Index-1),K={},(w.AutoFitHeight=="0"||w.Height)&&(K.hpx=parseInt(w.Height,10),K.hpt=XA(K.hpx),M[S]=K),w.Hidden=="1"&&(K.hidden=!0,M[S]=K));break;case"worksheet":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"));y.push(T),U.s.r<=U.e.r&&U.s.c<=U.e.c&&(v["!ref"]=Bt(U),r.sheetRows&&r.sheetRows<=U.e.r&&(v["!fullref"]=v["!ref"],U.e.r=r.sheetRows-1,v["!ref"]=Bt(U))),H.length&&(v["!merges"]=H),X.length>0&&(v["!cols"]=X),M.length>0&&(v["!rows"]=M),m[T]=v}else U={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=R=0,d.push([u[3],!1]),h=ba(u[0]),T=jt(h.Name),v=r.dense?[]:{},H=[],J=[],M=[],Y={name:T,Hidden:0},V.Sheets.push(Y);break;case"table":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else{if(u[0].slice(-2)=="/>")break;d.push([u[3],!1]),X=[],Oe=!1}break;case"style":u[1]==="/"?gV(P,W,r):W=ba(u[0]);break;case"numberformat":W.nf=jt(ba(u[0]).Format||"General"),bu[W.nf]&&(W.nf=bu[W.nf]);for(var be=0;be!=392&&_t[be]!=W.nf;++be);if(be==392){for(be=57;be!=392;++be)if(_t[be]==null){no(W.nf,be);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(se=ba(u[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!Oe&&se.wpx>10){Oe=!0,wn=KA;for(var Se=0;Se<X.length;++Se)X[Se]&&Bc(X[Se])}Oe&&Bc(se),X[se.Index-1||X.length]=se;for(var Je=0;Je<+se.Span;++Je)X[X.length]=an(se);break;case"namedrange":if(u[1]==="/")break;V.Names||(V.Names=[]);var j=lt(u[0]),Tt={Name:j.Name,Ref:Nc(j.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Tt.Sheet=V.Sheets.length-1),V.Names.push(Tt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?D+=n.slice(q,u.index):q=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;W.Interior=ba(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?J9(fe,ae,n.slice(Q,u.index)):Q=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else d.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"));pV(xe),Ce.push(xe)}else d.push([u[3],!1]),h=ba(u[0]),xe={a:h.Author};break;case"autofilter":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var ut=ba(u[0]);v["!autofilter"]={ref:Nc(ut.Range).replace(/\$/g,"")},d.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((h=d.pop())[0]!==u[3])throw new Error("Bad state: "+h.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break;case"null":break;default:if(d.length==0&&u[3]=="document"||d.length==0&&u[3]=="uof")return bT(n,r);var pt=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pt=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pt=!1}break;case"excelworkbook":switch(u[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pt=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:pt=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(Q,u.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else Q=u.index+u[0].length;break;case"header":v["!margins"]||Eu(v["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(v["!margins"].header=+lt(u[0]).Margin);break;case"footer":v["!margins"]||Eu(v["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(v["!margins"].footer=+lt(u[0]).Margin);break;case"pagemargins":var $e=lt(u[0]);v["!margins"]||Eu(v["!margins"]={},"xlml"),isNaN(+$e.Top)||(v["!margins"].top=+$e.Top),isNaN(+$e.Left)||(v["!margins"].left=+$e.Left),isNaN(+$e.Right)||(v["!margins"].right=+$e.Right),isNaN(+$e.Bottom)||(v["!margins"].bottom=+$e.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pt=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pt=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pt=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pt=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pt=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pt=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pt=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pt=!1}break;case"smarttags":break;default:pt=!1;break}if(pt||u[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?dV(ne,ae,ce,n.slice(Q,u.index)):(ce=u,Q=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+d.join("|")}var we={};return!r.bookSheets&&!r.bookProps&&(we.Sheets=m),we.SheetNames=y,we.Workbook=V,we.SSF=an(_t),we.Props=fe,we.Custprops=ne,we}function v1(t,e){switch(Jp(e=e||{}),e.type||"base64"){case"base64":return Pm(Jn(t),e);case"binary":case"buffer":case"file":return Pm(t,e);case"array":return Pm(So(t),e)}}function xV(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=I9(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=R9(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var yV=[60,1084,2066,2165,2175];function vV(t,e,r,n,a){var o=n,c=[],u=r.slice(r.l,r.l+o);if(a&&a.enc&&a.enc.insitu&&u.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(u)}c.push(u),r.l+=o;for(var d=bs(r,r.l),h=_1[d],m=0;h!=null&&yV.indexOf(d)>-1;)o=bs(r,r.l+2),m=r.l+4,d==2066?m+=4:(d==2165||d==2175)&&(m+=12),u=r.slice(m,r.l+4+o),c.push(u),r.l+=4+o,h=_1[d=bs(r,r.l)];var y=di(c);rn(y,0);var v=0;y.lens=[];for(var T=0;T<c.length;++T)y.lens.push(v),v+=c[T].length;if(y.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+y.length+" < "+n;return e.f(y,y.length,a)}function Ya(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=_t[n])}catch(o){if(e.WTF)throw o}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Co[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Bu(t.v):t.w=po(t.v):t.w=va(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(o){if(e.WTF)throw o}if(e.cellDates&&n&&t.t=="n"&&qc(_t[n]||String(n))){var a=ro(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Rf(t,e,r){return{v:t,ixfe:e,t:r}}function _V(t,e){var r={opts:{}},n={},a=e.dense?[]:{},o={},c={},u=null,d=[],h="",m={},y,v="",T,_,w,b,N={},R=[],S,U,P=[],W=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},q={},H=function(Qe){return Qe<8?ao[Qe]:Qe<64&&W[Qe-8]||ao[Qe]},fe=function(Qe,Qt,Qr){var ye=Qt.XF.data;if(!(!ye||!ye.patternType||!Qr||!Qr.cellStyles)){Qt.s={},Qt.s.patternType=ye.patternType;var Ie;(Ie=Vu(H(ye.icvFore)))&&(Qt.s.fgColor={rgb:Ie}),(Ie=Vu(H(ye.icvBack)))&&(Qt.s.bgColor={rgb:Ie})}},ne=function(Qe,Qt,Qr){if(!(K>1)&&!(Qr.sheetRows&&Qe.r>=Qr.sheetRows)){if(Qr.cellStyles&&Qt.XF&&Qt.XF.data&&fe(Qe,Qt,Qr),delete Qt.ixfe,delete Qt.XF,y=Qe,v=yt(Qe),(!c||!c.s||!c.e)&&(c={s:{r:0,c:0},e:{r:0,c:0}}),Qe.r<c.s.r&&(c.s.r=Qe.r),Qe.c<c.s.c&&(c.s.c=Qe.c),Qe.r+1>c.e.r&&(c.e.r=Qe.r+1),Qe.c+1>c.e.c&&(c.e.c=Qe.c+1),Qr.cellFormula&&Qt.f){for(var ye=0;ye<R.length;++ye)if(!(R[ye][0].s.c>Qe.c||R[ye][0].s.r>Qe.r)&&!(R[ye][0].e.c<Qe.c||R[ye][0].e.r<Qe.r)){Qt.F=Bt(R[ye][0]),(R[ye][0].s.c!=Qe.c||R[ye][0].s.r!=Qe.r)&&delete Qt.f,Qt.f&&(Qt.f=""+fn(R[ye][1],c,Qe,J,Q));break}}Qr.dense?(a[Qe.r]||(a[Qe.r]=[]),a[Qe.r][Qe.c]=Qt):a[v]=Qt}},Q={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(Q.password=e.password);var ce,Ce=[],xe=[],X=[],se=[],Oe=!1,J=[];J.SheetNames=Q.snames,J.sharedf=Q.sharedf,J.arrayf=Q.arrayf,J.names=[],J.XTI=[];var M=0,K=0,C=0,z=[],V=[],Y;Q.codepage=1200,Da(1200);for(var ae=!1;t.l<t.length-1;){var Te=t.l,Ae=t.read_shift(2);if(Ae===0&&M===10)break;var be=t.l===t.length?0:t.read_shift(2),Se=_1[Ae];if(Se&&Se.f){if(e.bookSheets&&M===133&&Ae!==133)break;if(M=Ae,Se.r===2||Se.r==12){var Je=t.read_shift(2);if(be-=2,!Q.enc&&Je!==Ae&&((Je&255)<<8|Je>>8)!==Ae)throw new Error("rt mismatch: "+Je+"!="+Ae);Se.r==12&&(t.l+=10,be-=10)}var j={};if(Ae===10?j=Se.f(t,be,Q):j=vV(Ae,Se,t,be,Q),K==0&&[9,521,1033,2057].indexOf(M)===-1)continue;switch(Ae){case 34:r.opts.Date1904=D.WBProps.date1904=j;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Q.enc||(t.l=0),Q.enc=j,!e.password)throw new Error("File is password-protected");if(j.valid==null)throw new Error("Encryption scheme unsupported");if(!j.valid)throw new Error("Password is incorrect");break;case 92:Q.lastuser=j;break;case 66:var Tt=Number(j);switch(Tt){case 21010:Tt=1200;break;case 32768:Tt=1e4;break;case 32769:Tt=1252;break}Da(Q.codepage=Tt),ae=!0;break;case 317:Q.rrtabid=j;break;case 25:Q.winlocked=j;break;case 439:r.opts.RefreshAll=j;break;case 12:r.opts.CalcCount=j;break;case 16:r.opts.CalcDelta=j;break;case 17:r.opts.CalcIter=j;break;case 13:r.opts.CalcMode=j;break;case 14:r.opts.CalcPrecision=j;break;case 95:r.opts.CalcSaveRecalc=j;break;case 15:Q.CalcRefMode=j;break;case 2211:r.opts.FullCalc=j;break;case 129:j.fDialog&&(a["!type"]="dialog"),j.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),j.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(j);break;case 430:J.push([j]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(j);break;case 24:case 536:Y={Name:j.Name,Ref:fn(j.rgce,c,null,J,Q)},j.itab>0&&(Y.Sheet=j.itab-1),J.names.push(Y),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(j),j.Name=="_xlnm._FilterDatabase"&&j.itab>0&&j.rgce&&j.rgce[0]&&j.rgce[0][0]&&j.rgce[0][0][0]=="PtgArea3d"&&(V[j.itab-1]={ref:Bt(j.rgce[0][0][1][2])});break;case 22:Q.ExternCount=j;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(j),J.XTI=J.XTI.concat(j);break;case 2196:if(Q.biff<8)break;Y!=null&&(Y.Comment=j[1]);break;case 18:a["!protect"]=j;break;case 19:j!==0&&Q.WTF&&console.error("Password verifier: "+j);break;case 133:o[j.pos]=j,Q.snames.push(j.name);break;case 10:{if(--K)break;if(c.e){if(c.e.r>0&&c.e.c>0){if(c.e.r--,c.e.c--,a["!ref"]=Bt(c),e.sheetRows&&e.sheetRows<=c.e.r){var ut=c.e.r;c.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Bt(c),c.e.r=ut}c.e.r++,c.e.c++}Ce.length>0&&(a["!merges"]=Ce),xe.length>0&&(a["!objects"]=xe),X.length>0&&(a["!cols"]=X),se.length>0&&(a["!rows"]=se),D.Sheets.push(q)}h===""?m=a:n[h]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Q.biff===8&&(Q.biff={9:2,521:3,1033:4}[Ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[j.BIFFVer]||8),Q.biffguess=j.BIFFVer==0,j.BIFFVer==0&&j.dt==4096&&(Q.biff=5,ae=!0,Da(Q.codepage=28591)),Q.biff==8&&j.BIFFVer==0&&j.dt==16&&(Q.biff=2),K++)break;if(a=e.dense?[]:{},Q.biff<8&&!ae&&(ae=!0,Da(Q.codepage=e.codepage||1252)),Q.biff<5||j.BIFFVer==0&&j.dt==4096){h===""&&(h="Sheet1"),c={s:{r:0,c:0},e:{r:0,c:0}};var pt={pos:t.l-be,name:h};o[pt.pos]=pt,Q.snames.push(h)}else h=(o[Te]||{name:""}).name;j.dt==32&&(a["!type"]="chart"),j.dt==64&&(a["!type"]="macro"),Ce=[],xe=[],Q.arrayf=R=[],X=[],se=[],Oe=!1,q={Hidden:(o[Te]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[j.r]||[])[j.c]:a[yt({c:j.c,r:j.r})])&&++j.c,S={ixfe:j.ixfe,XF:P[j.ixfe]||{},v:j.val,t:"n"},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e);break;case 5:case 517:S={ixfe:j.ixfe,XF:P[j.ixfe],v:j.val,t:j.t},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e);break;case 638:S={ixfe:j.ixfe,XF:P[j.ixfe],v:j.rknum,t:"n"},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e);break;case 189:for(var $e=j.c;$e<=j.C;++$e){var we=j.rkrec[$e-j.c][0];S={ixfe:we,XF:P[we],v:j.rkrec[$e-j.c][1],t:"n"},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:$e,r:j.r},S,e)}break;case 6:case 518:case 1030:{if(j.val=="String"){u=j;break}if(S=Rf(j.val,j.cell.ixfe,j.tt),S.XF=P[S.ixfe],e.cellFormula){var ft=j.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var De=ft[0][0][1][0],et=ft[0][0][1][1],Ge=yt({r:De,c:et});N[Ge]?S.f=""+fn(j.formula,c,j.cell,J,Q):S.F=((e.dense?(a[De]||[])[et]:a[Ge])||{}).F}else S.f=""+fn(j.formula,c,j.cell,J,Q)}C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne(j.cell,S,e),u=j}break;case 7:case 519:if(u)u.val=j,S=Rf(j,u.cell.ixfe,"s"),S.XF=P[S.ixfe],e.cellFormula&&(S.f=""+fn(u.formula,c,u.cell,J,Q)),C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne(u.cell,S,e),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(j);var Le=yt(j[0].s);if(T=e.dense?(a[j[0].s.r]||[])[j[0].s.c]:a[Le],e.cellFormula&&T){if(!u||!Le||!T)break;T.f=""+fn(j[1],c,j[0],J,Q),T.F=Bt(j[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!u)break;N[yt(u.cell)]=j[0],T=e.dense?(a[u.cell.r]||[])[u.cell.c]:a[yt(u.cell)],(T||{}).f=""+fn(j[0],c,y,J,Q)}}break;case 253:S=Rf(d[j.isst].t,j.ixfe,"s"),d[j.isst].h&&(S.h=d[j.isst].h),S.XF=P[S.ixfe],C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e);break;case 513:e.sheetStubs&&(S={ixfe:j.ixfe,XF:P[j.ixfe],t:"z"},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e));break;case 190:if(e.sheetStubs)for(var je=j.c;je<=j.C;++je){var Xe=j.ixfe[je-j.c];S={ixfe:Xe,XF:P[Xe],t:"z"},C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:je,r:j.r},S,e)}break;case 214:case 516:case 4:S=Rf(j.val,j.ixfe,"s"),S.XF=P[S.ixfe],C>0&&(S.z=z[S.ixfe>>8&63]),Ya(S,e,r.opts.Date1904),ne({c:j.c,r:j.r},S,e);break;case 0:case 512:K===1&&(c=j);break;case 252:d=j;break;case 1054:if(Q.biff==4){z[C++]=j[1];for(var ot=0;ot<C+163&&_t[ot]!=j[1];++ot);ot>=163&&no(j[1],C+163)}else no(j[1],j[0]);break;case 30:{z[C++]=j;for(var He=0;He<C+163&&_t[He]!=j;++He);He>=163&&no(j,C+163)}break;case 229:Ce=Ce.concat(j);break;case 93:xe[j.cmo[0]]=Q.lastobj=j;break;case 438:Q.lastobj.TxO=j;break;case 127:Q.lastobj.ImData=j;break;case 440:for(b=j[0].s.r;b<=j[0].e.r;++b)for(w=j[0].s.c;w<=j[0].e.c;++w)T=e.dense?(a[b]||[])[w]:a[yt({c:w,r:b})],T&&(T.l=j[1]);break;case 2048:for(b=j[0].s.r;b<=j[0].e.r;++b)for(w=j[0].s.c;w<=j[0].e.c;++w)T=e.dense?(a[b]||[])[w]:a[yt({c:w,r:b})],T&&T.l&&(T.l.Tooltip=j[1]);break;case 28:{if(Q.biff<=5&&Q.biff>=2)break;T=e.dense?(a[j[0].r]||[])[j[0].c]:a[yt(j[0])];var ht=xe[j[2]];T||(e.dense?(a[j[0].r]||(a[j[0].r]=[]),T=a[j[0].r][j[0].c]={t:"z"}):T=a[yt(j[0])]={t:"z"},c.e.r=Math.max(c.e.r,j[0].r),c.s.r=Math.min(c.s.r,j[0].r),c.e.c=Math.max(c.e.c,j[0].c),c.s.c=Math.min(c.s.c,j[0].c)),T.c||(T.c=[]),_={a:j[1],t:ht.TxO.t},T.c.push(_)}break;case 2173:zB(P[j.ixfe],j.ext);break;case 125:{if(!Q.cellStyles)break;for(;j.e>=j.s;)X[j.e--]={width:j.w/256,level:j.level||0,hidden:!!(j.flags&1)},Oe||(Oe=!0,Kp(j.w/256)),Bc(X[j.e+1])}break;case 520:{var We={};j.level!=null&&(se[j.r]=We,We.level=j.level),j.hidden&&(se[j.r]=We,We.hidden=!0),j.hpt&&(se[j.r]=We,We.hpt=j.hpt,We.hpx=Gu(j.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Eu(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ae]]=j;break;case 161:a["!margins"]||Eu(a["!margins"]={}),a["!margins"].header=j.header,a["!margins"].footer=j.footer;break;case 574:j.RTL&&(D.Views[0].RTL=!0);break;case 146:W=j;break;case 2198:ce=j;break;case 140:U=j;break;case 442:h?q.CodeName=j||q.name:D.WBProps.CodeName=j||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+Ae.toString(16)),t.l+=be}return r.SheetNames=Ja(o).sort(function(nt,Qe){return Number(nt)-Number(Qe)}).map(function(nt){return o[nt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&V.forEach(function(nt,Qe){r.Sheets[r.SheetNames[Qe]]["!autofilter"]=nt}),r.Strings=d,r.SSF=an(_t),Q.enc&&(r.Encryption=Q.enc),ce&&(r.Themes=ce),r.Metadata={},U!==void 0&&(r.Metadata.Country=U),J.names.length>0&&(D.Names=J.names),r.Workbook=D,r}var vT={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function wV(t,e,r){var n=Ut.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=rT(n,U9,vT.DSI);for(var o in a)e[o]=a[o]}catch(h){if(r.WTF)throw h}var c=Ut.find(t,"/!SummaryInformation");if(c&&c.size>0)try{var u=rT(c,B9,vT.SI);for(var d in u)e[d]==null&&(e[d]=u[d])}catch(h){if(r.WTF)throw h}e.HeadingPairs&&e.TitlesOfParts&&(IA(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function g4(t,e){e||(e={}),Jp(e),VS(),e.codepage&&Ip(e.codepage);var r,n;if(t.FullPaths){if(Ut.find(t,"/encryption"))throw new Error("File is password-protected");r=Ut.find(t,"!CompObj"),n=Ut.find(t,"/Workbook")||Ut.find(t,"/Book")}else{switch(e.type){case"base64":t=ka(Jn(t));break;case"binary":t=ka(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}rn(t,0),n={content:t}}var a,o;if(r&&xV(r),e.bookProps&&!e.bookSheets)a={};else{var c=Ft?"buffer":"array";if(n&&n.content)a=_V(n.content,e);else if((o=Ut.find(t,"PerfectOffice_MAIN"))&&o.content)a=wu.to_workbook(o.content,(e.type=c,e));else if((o=Ut.find(t,"NativeContent_MAIN"))&&o.content)a=wu.to_workbook(o.content,(e.type=c,e));else throw(o=Ut.find(t,"MN0"))&&o.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ut.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=ij(t))}var u={};return t.FullPaths&&wV(t,u,e),a.Props=a.Custprops=u,e.bookFiles&&(a.cfb=t),a}var Sd={0:{f:rz},1:{f:iz},2:{f:mz},3:{f:uz},4:{f:cz},5:{f:gz},6:{f:yz},7:{f:dz},8:{f:Ez},9:{f:Tz},10:{f:_z},11:{f:wz},12:{f:oz},13:{f:pz},14:{f:fz},15:{f:lz},16:{f:l4},17:{f:vz},18:{f:hz},19:{f:zp},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Xz},40:{},42:{},43:{f:_B},44:{f:vB},45:{f:wB},46:{f:EB},47:{f:TB},48:{},49:{f:b9},50:{},51:{f:GB},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:VA},62:{f:xz},63:{f:qB},64:{f:Rz},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Iz},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sz},148:{f:nz,p:16},151:{f:Az},152:{},153:{f:Kz},154:{},155:{},156:{f:$z},157:{},158:{},159:{T:1,f:BU},160:{T:-1},161:{T:1,f:ko},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bz},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VB},336:{T:-1},337:{f:YB,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:m1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zA},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kz},427:{f:Cz},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dz},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:az},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sz},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:m1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nj},633:{T:1},634:{T:-1},635:{T:1,f:rj},636:{T:-1},637:{f:A9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Uz},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Oz},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_1={6:{f:Fm},10:{f:ii},12:{f:Lr},13:{f:Lr},14:{f:Ar},15:{f:Ar},16:{f:dn},17:{f:Ar},18:{f:Ar},19:{f:Lr},20:{f:iT},21:{f:iT},23:{f:zA},24:{f:cT},25:{f:Ar},26:{},27:{},28:{f:eU},29:{},34:{f:Ar},35:{f:oT},38:{f:dn},39:{f:dn},40:{f:dn},41:{f:dn},42:{f:Ar},43:{f:Ar},47:{f:aB},49:{f:FP},51:{f:Lr},60:{},61:{f:RP},64:{f:Ar},65:{f:MP},66:{f:Lr},77:{},80:{},81:{},82:{},85:{f:Lr},89:{},90:{},91:{},92:{f:bP},93:{f:rU},94:{},95:{f:Ar},96:{},97:{},99:{f:Ar},125:{f:VA},128:{f:YP},129:{f:SP},130:{f:Lr},131:{f:Ar},132:{f:Ar},133:{f:AP},134:{},140:{f:cU},141:{f:Lr},144:{},146:{f:uU},151:{},152:{},153:{},154:{},155:{},156:{f:Lr},157:{},158:{},160:{f:mU},161:{f:dU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:HP},190:{f:zP},193:{f:ii},197:{},198:{},199:{},200:{},201:{},202:{f:Ar},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Lr},220:{},221:{f:Ar},222:{},224:{f:GP},225:{f:EP},226:{f:ii},227:{},229:{f:tU},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:kP},253:{f:LP},255:{f:CP},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:LA},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ar},353:{f:ii},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$P},431:{f:Ar},432:{},433:{},434:{},437:{},438:{f:sU},439:{f:Ar},440:{f:iU},441:{},442:{f:o0},443:{},444:{f:Lr},445:{},446:{},448:{f:ii},449:{f:IP,r:2},450:{f:ii},512:{f:aT},513:{f:gU},515:{f:WP},516:{f:PP},517:{f:sT},519:{f:pU},520:{f:NP},523:{},545:{f:lT},549:{f:nT},566:{},574:{f:OP},638:{f:jP},659:{},1048:{},1054:{f:UP},1084:{},1212:{f:QP},2048:{f:oU},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Nf},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ii},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:fU,r:12},2173:{f:HB,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ar,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:XP,r:12},2197:{},2198:{f:FB,r:12},2199:{},2200:{},2201:{},2202:{f:ZP,r:12},2203:{f:ii},2204:{},2205:{},2206:{},2207:{},2211:{f:DP},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Lr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:hU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:lU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:aT},1:{},2:{f:_U},3:{f:vU},4:{f:yU},5:{f:sT},7:{f:wU},8:{},9:{f:Nf},11:{},22:{f:Lr},30:{f:BP},31:{},32:{},33:{f:lT},36:{},37:{f:nT},50:{f:TU},62:{},52:{},67:{},68:{f:Lr},69:{},86:{},126:{},127:{f:xU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:EU},223:{},234:{},354:{},421:{},518:{f:Fm},521:{f:Nf},536:{f:cT},547:{f:oT},561:{},579:{},1030:{f:Fm},1033:{f:Nf},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Sa(t,e,r,n){var a=e;if(!isNaN(a)){var o=(r||[]).length||0,c=t.next(4);c.write_shift(2,a),c.write_shift(2,o),o>0&&EA(r)&&t.push(r)}}function _T(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var o=t.match(/<\/table/i),c=a.index,u=o&&o.index||t.length,d=WL(t.slice(c,u),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,m=0,y=0,v=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(c=0;c<d.length;++c){var w=d[c].trim(),b=w.slice(0,3).toLowerCase();if(b=="<tr"){if(++h,r.sheetRows&&r.sheetRows<=h){--h;break}m=0;continue}if(!(b!="<td"&&b!="<th")){var N=w.split(/<\/t[dh]>/i);for(u=0;u<N.length;++u){var R=N[u].trim();if(R.match(/<t[dh]/i)){for(var S=R,U=0;S.charAt(0)=="<"&&(U=S.indexOf(">"))>-1;)S=S.slice(U+1);for(var P=0;P<_.length;++P){var W=_[P];W.s.c==m&&W.s.r<h&&h<=W.e.r&&(m=W.e.c+1,P=-1)}var D=lt(R.slice(0,R.indexOf(">")));v=D.colspan?+D.colspan:1,((y=+D.rowspan)>1||v>1)&&_.push({s:{r:h,c:m},e:{r:h+(y||1)-1,c:m+v-1}});var q=D.t||D["data-t"]||"";if(!S.length){m+=v;continue}if(S=uA(S),T.s.r>h&&(T.s.r=h),T.e.r<h&&(T.e.r=h),T.s.c>m&&(T.s.c=m),T.e.c<m&&(T.e.c=m),!S.length){m+=v;continue}var H={t:"s",v:S};r.raw||!S.trim().length||q=="s"||(S==="TRUE"?H={t:"b",v:!0}:S==="FALSE"?H={t:"b",v:!1}:isNaN(Oa(S))?isNaN(Uc(S).getDate())||(H={t:"d",v:Xr(S)},r.cellDates||(H={t:"n",v:Cn(H.v)}),H.z=r.dateNF||_t[14]):H={t:"n",v:Oa(S)}),r.dense?(n[h]||(n[h]=[]),n[h][m]=H):n[yt({r:h,c:m})]=H,m+=v}}}}return n["!ref"]=Bt(T),_.length&&(n["!merges"]=_),n}function TV(t,e,r,n){for(var a=t["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var u=0,d=0,h=0;h<a.length;++h)if(!(a[h].s.r>r||a[h].s.c>c)&&!(a[h].e.r<r||a[h].e.c<c)){if(a[h].s.r<r||a[h].s.c<c){u=-1;break}u=a[h].e.r-a[h].s.r+1,d=a[h].e.c-a[h].s.c+1;break}if(!(u<0)){var m=yt({r,c}),y=n.dense?(t[r]||[])[c]:t[m],v=y&&y.v!=null&&(y.h||Pp(y.w||(Rs(y),y.w)||""))||"",T={};u>1&&(T.rowspan=u),d>1&&(T.colspan=d),n.editable?v='<span contenteditable="true">'+v+"</span>":y&&(T["data-t"]=y&&y.t||"z",y.v!=null&&(T["data-v"]=y.v),y.z!=null&&(T["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+y.l.Target+'">'+v+"</a>")),T.id=(n.id||"sjs")+"-"+m,o.push(c9("td",v,T))}}var _="<tr>";return _+o.join("")+"</tr>"}var EV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bV="</body></html>";function SV(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Di(_T(r[0],e),e);var n=tx();return r.forEach(function(a,o){rx(n,_T(a,e),"Sheet"+(o+1))}),n}function AV(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function kV(t,e){var r=e||{},n=r.header!=null?r.header:EV,a=r.footer!=null?r.footer:bV,o=[n],c=Xc(t["!ref"]);r.dense=Array.isArray(t),o.push(AV(t,c,r));for(var u=c.s.r;u<=c.e.r;++u)o.push(TV(t,c,u,r));return o.push("</table>"+a),o.join("")}function m4(t,e,r){var n=r||{},a=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?bn(n.origin):n.origin;a=c.r,o=c.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:a,c:o}};if(t["!ref"]){var m=Xc(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),a==-1&&(h.e.r=a=m.e.r+1)}var y=[],v=0,T=t["!rows"]||(t["!rows"]=[]),_=0,w=0,b=0,N=0,R=0,S=0;for(t["!cols"]||(t["!cols"]=[]);_<u.length&&w<d;++_){var U=u[_];if(wT(U)){if(n.display)continue;T[w]={hidden:!0}}var P=U.children;for(b=N=0;b<P.length;++b){var W=P[b];if(!(n.display&&wT(W))){var D=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):uA(W.innerHTML),q=W.getAttribute("data-z")||W.getAttribute("z");for(v=0;v<y.length;++v){var H=y[v];H.s.c==N+o&&H.s.r<w+a&&w+a<=H.e.r&&(N=H.e.c+1-o,v=-1)}S=+W.getAttribute("colspan")||1,((R=+W.getAttribute("rowspan")||1)>1||S>1)&&y.push({s:{r:w+a,c:N+o},e:{r:w+a+(R||1)-1,c:N+o+(S||1)-1}});var fe={t:"s",v:D},ne=W.getAttribute("data-t")||W.getAttribute("t")||"";D!=null&&(D.length==0?fe.t=ne||"z":n.raw||D.trim().length==0||ne=="s"||(D==="TRUE"?fe={t:"b",v:!0}:D==="FALSE"?fe={t:"b",v:!1}:isNaN(Oa(D))?isNaN(Uc(D).getDate())||(fe={t:"d",v:Xr(D)},n.cellDates||(fe={t:"n",v:Cn(fe.v)}),fe.z=n.dateNF||_t[14]):fe={t:"n",v:Oa(D)})),fe.z===void 0&&q!=null&&(fe.z=q);var Q="",ce=W.getElementsByTagName("A");if(ce&&ce.length)for(var Ce=0;Ce<ce.length&&!(ce[Ce].hasAttribute("href")&&(Q=ce[Ce].getAttribute("href"),Q.charAt(0)!="#"));++Ce);Q&&Q.charAt(0)!="#"&&(fe.l={Target:Q}),n.dense?(t[w+a]||(t[w+a]=[]),t[w+a][N+o]=fe):t[yt({c:N+o,r:w+a})]=fe,h.e.c<N+o&&(h.e.c=N+o),N+=S}}++w}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),h.e.r=Math.max(h.e.r,w-1+a),t["!ref"]=Bt(h),w>=d&&(t["!fullref"]=Bt((h.e.r=u.length-_+w-1+a,h))),t}function p4(t,e){var r=e||{},n=r.dense?[]:{};return m4(n,t,e)}function CV(t,e){return Di(p4(t,e),e)}function wT(t){var e="",r=NV(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function NV(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function DV(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jt(e.replace(/<[^>]*>/g,""));return[r]}var TT={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function x4(t,e){var r=e||{},n=Up(t),a=[],o,c,u={name:""},d="",h=0,m,y,v={},T=[],_=r.dense?[]:{},w,b,N={value:""},R="",S=0,U=[],P=-1,W=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},q=0,H={},fe=[],ne={},Q=0,ce=0,Ce=[],xe=1,X=1,se=[],Oe={Names:[]},J={},M=["",""],K=[],C={},z="",V=0,Y=!1,ae=!1,Te=0;for(Hu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=Hu.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?_["!ref"]=Bt(D):_["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=D.e.r&&(_["!fullref"]=_["!ref"],D.e.r=r.sheetRows-1,_["!ref"]=Bt(D)),fe.length&&(_["!merges"]=fe),Ce.length&&(_["!rows"]=Ce),m.name=m.名称||m.name,typeof JSON<"u"&&JSON.stringify(m),T.push(m.name),v[m.name]=_,ae=!1):w[0].charAt(w[0].length-2)!=="/"&&(m=lt(w[0],!1),P=W=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,_=r.dense?[]:{},fe=[],Ce=[],ae=!0);break;case"table-row-group":w[1]==="/"?--q:++q;break;case"table-row":case"行":if(w[1]==="/"){P+=xe,xe=1;break}if(y=lt(w[0],!1),y.行号?P=y.行号-1:P==-1&&(P=0),xe=+y["number-rows-repeated"]||1,xe<10)for(Te=0;Te<xe;++Te)q>0&&(Ce[P+Te]={level:q});W=-1;break;case"covered-table-cell":w[1]!=="/"&&++W,r.sheetStubs&&(r.dense?(_[P]||(_[P]=[]),_[P][W]={t:"z"}):_[yt({r:P,c:W})]={t:"z"}),R="",U=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++W,N=lt(w[0],!1),X=parseInt(N["number-columns-repeated"]||"1",10),b={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(b.f=pT(jt(N.formula))),(N.数据类型||N["value-type"])=="string"&&(b.t="s",b.v=jt(N["string-value"]||""),r.dense?(_[P]||(_[P]=[]),_[P][W]=b):_[yt({r:P,c:W})]=b),W+=X-1;else if(w[1]!=="/"){++W,R="",S=0,U=[],X=1;var Ae=xe?P+xe-1:P;if(W>D.e.c&&(D.e.c=W),W<D.s.c&&(D.s.c=W),P<D.s.r&&(D.s.r=P),Ae>D.e.r&&(D.e.r=Ae),N=lt(w[0],!1),K=[],C={},b={t:N.数据类型||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=jt(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(Q=parseInt(N["number-matrix-rows-spanned"],10)||0,ce=parseInt(N["number-matrix-columns-spanned"],10)||0,ne={s:{r:P,c:W},e:{r:P+Q-1,c:W+ce-1}},b.F=Bt(ne),se.push([ne,b.F])),N.formula)b.f=pT(N.formula);else for(Te=0;Te<se.length;++Te)P>=se[Te][0].s.r&&P<=se[Te][0].e.r&&W>=se[Te][0].s.c&&W<=se[Te][0].e.c&&(b.F=se[Te][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(Q=parseInt(N["number-rows-spanned"],10)||0,ce=parseInt(N["number-columns-spanned"],10)||0,ne={s:{r:P,c:W},e:{r:P+Q-1,c:W+ce-1}},fe.push(ne)),N["number-columns-repeated"]&&(X=parseInt(N["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=hr(N["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(N.value);break;case"percentage":b.t="n",b.v=parseFloat(N.value);break;case"currency":b.t="n",b.v=parseFloat(N.value);break;case"date":b.t="d",b.v=Xr(N["date-value"]),r.cellDates||(b.t="n",b.v=Cn(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=VL(N["time-value"])/86400,r.cellDates&&(b.t="d",b.v=qd(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(N.数据数值);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",N["string-value"]!=null&&(R=jt(N["string-value"]),U=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(Y=!1,b.t==="s"&&(b.v=R||"",U.length&&(b.R=U),Y=S==0),J.Target&&(b.l=J),K.length>0&&(b.c=K,K=[]),R&&r.cellText!==!1&&(b.w=R),Y&&(b.t="z",delete b.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var be=0;be<xe;++be){if(X=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(_[P+be]||(_[P+be]=[]),_[P+be][W]=be==0?b:an(b);--X>0;)_[P+be][W+X]=an(b);else for(_[yt({r:P+be,c:W})]=b;--X>0;)_[yt({r:P+be,c:W+X})]=an(b);D.e.c<=W&&(D.e.c=W)}X=parseInt(N["number-columns-repeated"]||"1",10),W+=X-1,X=0,b={},R="",U=[]}J={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((o=a.pop())[0]!==w[3])throw"Bad state: "+o}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((o=a.pop())[0]!==w[3])throw"Bad state: "+o;C.t=R,U.length&&(C.R=U),C.a=z,K.push(C)}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!1]);z="",V=0,R="",S=0,U=[];break;case"creator":w[1]==="/"?z=n.slice(V,w.index):V=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((o=a.pop())[0]!==w[3])throw"Bad state: "+o}else w[0].charAt(w[0].length-2)!=="/"&&a.push([w[3],!1]);R="",S=0,U=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(H[u.name]=d,(o=a.pop())[0]!==w[3])throw"Bad state: "+o}else w[0].charAt(w[0].length-2)!=="/"&&(d="",u=lt(w[0],!1),a.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":c=lt(w[0],!1),d+=TT[w[3]][c.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":c=lt(w[0],!1),d+=TT[w[3]][c.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":d+=n.slice(h,w.index);break}else h=w.index+w[0].length;break;case"named-range":c=lt(w[0],!1),M=Lm(c["cell-range-address"]);var Se={Name:c.name,Ref:M[0]+"!"+M[1]};ae&&(Se.Sheet=T.length),Oe.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(w[1]==="/"&&(!N||!N["string-value"])){var Je=DV(n.slice(S,w.index));R=(R.length>0?R+`
`:"")+Je[0]}else lt(w[0],!1),S=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{M=Lm(lt(w[0])["target-range-address"]),v[M[0]]["!autofilter"]={ref:M[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(J=lt(w[0],!1),!J.href)break;J.Target=jt(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(M=Lm(J.Target.slice(1)),J.Target="#"+M[0]+"!"+M[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(w)}}var j={Sheets:v,SheetNames:T,Workbook:Oe};return r.bookSheets&&delete j.Sheets,j}function ET(t,e){e=e||{},da(t,"META-INF/manifest.xml")&&W9(Fr(t,"META-INF/manifest.xml"),e);var r=Qn(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=x4(ur(r),e);return da(t,"meta.xml")&&(n.Props=DA(Fr(t,"meta.xml"))),n}function bT(t,e){return x4(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function w1(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ur(So(t))}function T1(t){var e=t.reduce(function(a,o){return a+o.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function ST(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function IV(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Yu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Vr(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function hn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Yu(t,r),o=a&7;a=Math.floor(a/8);var c=0,u;if(a==0)break;switch(o){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:c=4,u=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,u=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=Yu(t,r),u=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(n))}var h={data:u,type:o};e[a]==null?e[a]=[h]:e[a].push(h)}return e}function Zp(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function RV(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Yu(t,n),o=hn(t.slice(n[0],n[0]+a));n[0]+=a;var c={id:Vr(o[1][0].data),messages:[]};o[2].forEach(function(u){var d=hn(u.data),h=Vr(d[3][0].data);c.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=o[3])!=null&&e[0]&&(c.merge=Vr(o[3][0].data)>>>0>0),r.push(c)}return r}function OV(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Yu(e,r),a=[];r[0]<e.length;){var o=e[r[0]]&3;if(o==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var u=c-59;c=e[r[0]],u>1&&(c|=e[r[0]+1]<<8),u>2&&(c|=e[r[0]+2]<<16),u>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=u}a.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var d=0,h=0;if(o==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,o==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[T1(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(a.push(a[0].slice(-d)),h-=d;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-d,-d+h))}}var m=T1(a);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function MV(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(OV(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return T1(e)}function FV(t,e,r,n){var a=Qp(t),o=a.getUint32(4,!0),c=(n>1?12:8)+ST(o&(n>1?3470:398))*4,u=-1,d=-1,h=NaN,m=new Date(2001,0,1);o&512&&(u=a.getUint32(c,!0),c+=4),c+=ST(o&(n>1?12288:4096))*4,o&16&&(d=a.getUint32(c,!0),c+=4),o&32&&(h=a.getFloat64(c,!0),c+=8),o&64&&(m.setTime(m.getTime()+a.getFloat64(c,!0)*1e3),c+=8);var y;switch(t[2]){case 0:break;case 2:y={t:"n",v:h};break;case 3:y={t:"s",v:e[d]};break;case 5:y={t:"d",v:m};break;case 6:y={t:"b",v:h>0};break;case 7:y={t:"n",v:h/86400};break;case 8:y={t:"e",v:0};break;case 9:if(u>-1)y={t:"s",v:r[u]};else if(d>-1)y={t:"s",v:e[d]};else if(!isNaN(h))y={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return y}function LV(t,e,r){var n=Qp(t),a=n.getUint32(8,!0),o=12,c=-1,u=-1,d=NaN,h=NaN,m=new Date(2001,0,1);a&1&&(d=IV(t,o),o+=16),a&2&&(h=n.getFloat64(o,!0),o+=8),a&4&&(m.setTime(m.getTime()+n.getFloat64(o,!0)*1e3),o+=8),a&8&&(u=n.getUint32(o,!0),o+=4),a&16&&(c=n.getUint32(o,!0),o+=4);var y;switch(t[1]){case 0:break;case 2:y={t:"n",v:d};break;case 3:y={t:"s",v:e[u]};break;case 5:y={t:"d",v:m};break;case 6:y={t:"b",v:h>0};break;case 7:y={t:"n",v:h/86400};break;case 8:y={t:"e",v:0};break;case 9:if(c>-1)y={t:"s",v:r[c]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:y={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return y}function PV(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return FV(t,e,r,t[0]);case 5:return LV(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function _i(t){var e=hn(t);return Yu(e[1][0].data)}function AT(t,e){var r=hn(e.data),n=Vr(r[1][0].data),a=r[3],o=[];return(a||[]).forEach(function(c){var u=hn(c.data),d=Vr(u[1][0].data)>>>0;switch(n){case 1:o[d]=w1(u[3][0].data);break;case 8:{var h=t[_i(u[9][0].data)][0],m=hn(h.data),y=t[_i(m[1][0].data)][0],v=Vr(y.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var T=hn(y.data);o[d]=T[3].map(function(_){return w1(_.data)}).join("")}break}}),o}function UV(t,e){var r,n,a,o,c,u,d,h,m,y,v,T,_,w,b=hn(t),N=Vr(b[1][0].data)>>>0,R=Vr(b[2][0].data)>>>0,S=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&Vr(b[8][0].data)>0||!1,U,P;if((o=(a=b[7])==null?void 0:a[0])!=null&&o.data&&e!=0)U=(u=(c=b[7])==null?void 0:c[0])==null?void 0:u.data,P=(h=(d=b[6])==null?void 0:d[0])==null?void 0:h.data;else if((y=(m=b[4])==null?void 0:m[0])!=null&&y.data&&e!=1)U=(T=(v=b[4])==null?void 0:v[0])==null?void 0:T.data,P=(w=(_=b[3])==null?void 0:_[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var W=S?4:1,D=Qp(U),q=[],H=0;H<U.length/2;++H){var fe=D.getUint16(H*2,!0);fe<65535&&q.push([H,fe])}if(q.length!=R)throw"Expected ".concat(R," cells, found ").concat(q.length);var ne=[];for(H=0;H<q.length-1;++H)ne[q[H][0]]=P.subarray(q[H][1]*W,q[H+1][1]*W);return q.length>=1&&(ne[q[q.length-1][0]]=P.subarray(q[q.length-1][1]*W)),{R:N,cells:ne}}function BV(t,e){var r,n=hn(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Vr(n[7][0].data)>>>0>0?1:0:-1,o=Zp(n[5],function(c){return UV(c,a)});return{nrows:Vr(n[4][0].data)>>>0,data:o.reduce(function(c,u){return c[u.R]||(c[u.R]=[]),u.cells.forEach(function(d,h){if(c[u.R][h])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(h));c[u.R][h]=d}),c},[])}}function jV(t,e,r){var n,a=hn(e.data),o={s:{r:0,c:0},e:{r:0,c:0}};if(o.e.r=(Vr(a[6][0].data)>>>0)-1,o.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(o.e.c=(Vr(a[7][0].data)>>>0)-1,o.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Bt(o);var c=hn(a[4][0].data),u=AT(t,t[_i(c[4][0].data)][0]),d=(n=c[17])!=null&&n[0]?AT(t,t[_i(c[17][0].data)][0]):[],h=hn(c[3][0].data),m=0;h[1].forEach(function(y){var v=hn(y.data),T=t[_i(v[2][0].data)][0],_=Vr(T.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var w=BV(t,T);w.data.forEach(function(b,N){b.forEach(function(R,S){var U=yt({r:m+N,c:S}),P=PV(R,u,d);P&&(r[U]=P)})}),m+=w.nrows})}function HV(t,e){var r=hn(e.data),n={"!ref":"A1"},a=t[_i(r[2][0].data)],o=Vr(a[0].meta[1][0].data);if(o!=6001)throw new Error("6000 unexpected reference to ".concat(o));return jV(t,a[0],n),n}function zV(t,e){var r,n=hn(e.data),a={name:(r=n[1])!=null&&r[0]?w1(n[1][0].data):"",sheets:[]},o=Zp(n[2],_i);return o.forEach(function(c){t[c].forEach(function(u){var d=Vr(u.meta[1][0].data);d==6e3&&a.sheets.push(HV(t,u))})}),a}function VV(t,e){var r=tx(),n=hn(e.data),a=Zp(n[1],_i);if(a.forEach(function(o){t[o].forEach(function(c){var u=Vr(c.meta[1][0].data);if(u==2){var d=zV(t,c);d.sheets.forEach(function(h,m){rx(r,h,m==0?d.name:d.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Um(t){var e,r,n,a,o={},c=[];if(t.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var h;try{h=MV(d.content)}catch(y){return console.log("?? "+d.content.length+" "+(y.message||y))}var m;try{m=RV(h)}catch(y){return console.log("## "+(y.message||y))}m.forEach(function(y){o[y.id]=y.messages,c.push(y.id)})}}),!c.length)throw new Error("File has no messages");var u=((a=(n=(r=(e=o==null?void 0:o[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Vr(o[1][0].meta[1][0].data)==1&&o[1][0];if(u||c.forEach(function(d){o[d].forEach(function(h){var m=Vr(h.meta[1][0].data)>>>0;if(m==1)if(!u)u=h;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return VV(o,u)}function GV(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Jp(t){GV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function YV(t){return _c.WS.indexOf(t)>-1?"sheet":t==_c.CS?"chart":t==_c.DS?"dialog":t==_c.MS?"macro":t&&t.length?t:"sheet"}function WV(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,YV(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function $V(t,e,r,n,a,o,c,u,d,h,m,y){try{o[n]=vu(Qn(t,r,!0),e);var v=Fr(t,e),T;switch(u){case"sheet":T=Jz(v,e,a,d,o[n],h,m,y);break;case"chart":if(T=eV(v,e,a,d,o[n],h,m,y),!T||!T["!drawel"])break;var _=su(T["!drawel"].Target,e),w=p1(_),b=ZB(Qn(t,_,!0),vu(Qn(t,w,!0),_)),N=su(b,_),R=p1(N);T=Lz(Qn(t,N,!0),N,d,vu(Qn(t,R,!0),N),h,T);break;case"macro":T=tV(v,e,a,d,o[n],h,m,y);break;case"dialog":T=rV(v,e,a,d,o[n],h,m,y);break;default:throw new Error("Unrecognized sheet type "+u)}c[n]=T;var S=[];o&&o[n]&&Ja(o[n]).forEach(function(U){var P="";if(o[n][U].Type==_c.CMNT){P=su(o[n][U].Target,e);var W=iV(Fr(t,P,!0),P,d);if(!W||!W.length)return;fT(T,W,!1)}o[n][U].Type==_c.TCMNT&&(P=su(o[n][U].Target,e),S=S.concat(ej(Fr(t,P,!0),d)))}),S&&S.length&&fT(T,S,!0,d.people||[])}catch(U){if(d.WTF)throw U}}function ua(t){return t.charAt(0)=="/"?t.slice(1):t}function KV(t,e){if(tA(),e=e||{},Jp(e),da(t,"META-INF/manifest.xml")||da(t,"objectdata.xml"))return ET(t,e);if(da(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Um<"u"){if(t.FileIndex)return Um(t);var r=Ut.utils.cfb_new();return Uw(t).forEach(function(Ce){qL(r,Ce,KL(t,Ce))}),Um(r)}throw new Error("Unsupported NUMBERS file")}if(!da(t,"[Content_Types].xml"))throw da(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):da(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Uw(t),a=G9(Qn(t,"[Content_Types].xml")),o=!1,c,u;if(a.workbooks.length===0&&(u="xl/workbook.xml",Fr(t,u,!0)&&a.workbooks.push(u)),a.workbooks.length===0){if(u="xl/workbook.bin",!Fr(t,u,!0))throw new Error("Could not find workbook");a.workbooks.push(u),o=!0}a.workbooks[0].slice(-3)=="bin"&&(o=!0);var d={},h={};if(!e.bookSheets&&!e.bookProps){if(Tu=[],a.sst)try{Tu=sV(Fr(t,ua(a.sst)),a.sst,e)}catch(Ce){if(e.WTF)throw Ce}e.cellStyles&&a.themes.length&&(d=aV(Qn(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(h=nV(Fr(t,ua(a.style)),a.style,d,e))}a.links.map(function(Ce){try{var xe=vu(Qn(t,p1(ua(Ce))),Ce);return cV(Fr(t,ua(Ce)),xe,Ce,e)}catch{}});var m=Zz(Fr(t,ua(a.workbooks[0])),a.workbooks[0],e),y={},v="";a.coreprops.length&&(v=Fr(t,ua(a.coreprops[0]),!0),v&&(y=DA(v)),a.extprops.length!==0&&(v=Fr(t,ua(a.extprops[0]),!0),v&&q9(v,y,e)));var T={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(v=Qn(t,ua(a.custprops[0]),!0),v&&(T=Q9(v,e)));var _={};if((e.bookSheets||e.bookProps)&&(m.Sheets?c=m.Sheets.map(function(xe){return xe.name}):y.Worksheets&&y.SheetNames.length>0&&(c=y.SheetNames),e.bookProps&&(_.Props=y,_.Custprops=T),e.bookSheets&&typeof c<"u"&&(_.SheetNames=c),e.bookSheets?_.SheetNames:e.bookProps))return _;c={};var w={};e.bookDeps&&a.calcchain&&(w=oV(Fr(t,ua(a.calcchain)),a.calcchain));var b=0,N={},R,S;{var U=m.Sheets;y.Worksheets=U.length,y.SheetNames=[];for(var P=0;P!=U.length;++P)y.SheetNames[P]=U[P].name}var W=o?"bin":"xml",D=a.workbooks[0].lastIndexOf("/"),q=(a.workbooks[0].slice(0,D+1)+"_rels/"+a.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");da(t,q)||(q="xl/_rels/workbook."+W+".rels");var H=vu(Qn(t,q,!0),q.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=lV(Fr(t,ua(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=tj(Fr(t,ua(a.people[0])),e)),H&&(H=WV(H,m.Sheets));var fe=Fr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=y.Worksheets;++b){var ne="sheet";if(H&&H[b]?(R="xl/"+H[b][1].replace(/[\/]?xl\//,""),da(t,R)||(R=H[b][1]),da(t,R)||(R=q.replace(/_rels\/.*$/,"")+H[b][1]),ne=H[b][2]):(R="xl/worksheets/sheet"+(b+1-fe)+"."+W,R=R.replace(/sheet0\./,"sheet.")),S=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(b!=e.sheets)continue e;break;case"string":if(y.SheetNames[b].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var Q=!1,ce=0;ce!=e.sheets.length;++ce)typeof e.sheets[ce]=="number"&&e.sheets[ce]==b&&(Q=1),typeof e.sheets[ce]=="string"&&e.sheets[ce].toLowerCase()==y.SheetNames[b].toLowerCase()&&(Q=1);if(!Q)continue e}}$V(t,R,S,y.SheetNames[b],b,N,c,ne,e,m,d,h)}return _={Directory:a,Workbook:m,Props:y,Custprops:T,Deps:w,Sheets:c,SheetNames:y.SheetNames,Strings:Tu,Styles:h,Themes:d,SSF:an(_t)},e&&e.bookFiles&&(t.files?(_.keys=n,_.files=t.files):(_.keys=[],_.files={},t.FullPaths.forEach(function(Ce,xe){Ce=Ce.replace(/^Root Entry[\/]/,""),_.keys.push(Ce),_.files[Ce]=t.FileIndex[xe]}))),e&&e.bookVBA&&(a.vba.length>0?_.vbaraw=Fr(t,ua(a.vba[0]),!0):a.defaults&&a.defaults.bin===sj&&(_.vbaraw=Fr(t,"xl/vbaProject.bin",!0))),_}function qV(t,e){var r=e||{},n="Workbook",a=Ut.find(t,n);try{if(n="/!DataSpaces/Version",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(HU(a.content),n="/!DataSpaces/DataSpaceMap",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=VU(a.content);if(o.length!==1||o[0].comps.length!==1||o[0].comps[0].t!==0||o[0].name!=="StrongEncryptionDataSpace"||o[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=GU(a.content);if(c.length!=1||c[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);WU(a.content)}catch{}if(n="/EncryptionInfo",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=$U(a.content);if(n="/EncryptedPackage",a=Ut.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],a.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function ex(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Jn(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function XV(t,e){return Ut.find(t,"EncryptedPackage")?qV(t,e):g4(t,e)}function QV(t,e){var r,n=t,a=e||{};return a.type||(a.type=Ft&&Buffer.isBuffer(t)?"buffer":"base64"),r=oA(n,a),KV(r,a)}function y4(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return v1(t.slice(r),e);default:break e}return zu.to_workbook(t,e)}function ZV(t,e){var r="",n=ex(t,e);switch(e.type){case"base64":r=Jn(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=xo(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ur(r)),e.type="binary",y4(r,e)}function JV(t,e){var r=t;return e.type=="base64"&&(r=Jn(r)),r=Uu.utils.decode(1200,r.slice(2),"str"),e.type="binary",y4(r,e)}function eG(t){return t.match(/[^\x00-\x7F]/)?iu(t):t}function Bm(t,e,r,n){return n?(r.type="string",zu.to_workbook(t,r)):zu.to_workbook(e,r)}function E1(t,e){VS();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return E1(new Uint8Array(t),(r=an(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],o=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Dc={},r.dateNF&&(Dc.dateNF=r.dateNF),r.type||(r.type=Ft&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Ft?"buffer":"binary",n=HL(t),typeof Uint8Array<"u"&&!Ft&&(r.type="array")),r.type=="string"&&(o=!0,r.type="binary",r.codepage=65001,n=eG(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var c=new ArrayBuffer(3),u=new Uint8Array(c);if(u.foo="bar",!u.foo)return r=an(r),r.type="array",E1(Rp(n),r)}switch((a=ex(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return XV(Ut.read(n,r),r);break;case 9:if(a[1]<=8)return g4(n,r);break;case 60:return v1(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return CU(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return AU.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?QV(n,r):Bm(t,n,r,o);case 239:return a[3]===60?v1(n,r):Bm(t,n,r,o);case 255:if(a[1]===254)return JV(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return wu.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return wu.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return uT.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return sB.to_workbook(n,r);break;case 10:case 13:case 32:return ZV(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return bU.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?uT.to_workbook(n,r):Bm(t,n,r,o)}function tG(t,e,r,n,a,o,c,u){var d=sn(r),h=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),y=!0,v=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!c||t[r])for(var T=e.s.c;T<=e.e.c;++T){var _=c?t[r][T]:t[n[T]+d];if(_===void 0||_.t===void 0){if(h===void 0)continue;o[T]!=null&&(v[o[T]]=h);continue}var w=_.v;switch(_.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(o[T]!=null){if(w==null)if(_.t=="e"&&w===null)v[o[T]]=null;else if(h!==void 0)v[o[T]]=h;else if(m&&w===null)v[o[T]]=null;else continue;else v[o[T]]=m&&(_.t!=="n"||_.t==="n"&&u.rawNumbers!==!1)?w:Rs(_,w,u);w!=null&&(y=!1)}}return{row:v,isempty:y}}function b1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,o=[],c=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof m){case"string":d=Er(m);break;case"number":d=Er(t["!ref"]),d.s.r=m;break;default:d=m}n>0&&(a=0);var y=sn(d.s.r),v=[],T=[],_=0,w=0,b=Array.isArray(t),N=d.s.r,R=0,S={};b&&!t[N]&&(t[N]=[]);var U=h.skipHidden&&t["!cols"]||[],P=h.skipHidden&&t["!rows"]||[];for(R=d.s.c;R<=d.e.c;++R)if(!(U[R]||{}).hidden)switch(v[R]=zr(R),r=b?t[N][R]:t[v[R]+y],n){case 1:o[R]=R-d.s.c;break;case 2:o[R]=v[R];break;case 3:o[R]=h.header[R-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=c=Rs(r,null,h),w=S[c]||0,!w)S[c]=1;else{do u=c+"_"+w++;while(S[u]);S[c]=w,S[u]=1}o[R]=u}for(N=d.s.r+a;N<=d.e.r;++N)if(!(P[N]||{}).hidden){var W=tG(t,d,N,v,n,o,b,h);(W.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(T[_++]=W.row)}return T.length=_,T}var kT=/"/g;function rG(t,e,r,n,a,o,c,u){for(var d=!0,h=[],m="",y=sn(r),v=e.s.c;v<=e.e.c;++v)if(n[v]){var T=u.dense?(t[r]||[])[v]:t[n[v]+y];if(T==null)m="";else if(T.v!=null){d=!1,m=""+(u.rawNumbers&&T.t=="n"?T.v:Rs(T,null,u));for(var _=0,w=0;_!==m.length;++_)if((w=m.charCodeAt(_))===a||w===o||w===34||u.forceQuotes){m='"'+m.replace(kT,'""')+'"';break}m=="ID"&&(m='"ID"')}else T.f!=null&&!T.F?(d=!1,m="="+T.f,m.indexOf(",")>=0&&(m='"'+m.replace(kT,'""')+'"')):m="";h.push(m)}return u.blankrows===!1&&d?null:h.join(c)}function v4(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=Er(t["!ref"]),o=n.FS!==void 0?n.FS:",",c=o.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),m="",y=[];n.dense=Array.isArray(t);for(var v=n.skipHidden&&t["!cols"]||[],T=n.skipHidden&&t["!rows"]||[],_=a.s.c;_<=a.e.c;++_)(v[_]||{}).hidden||(y[_]=zr(_));for(var w=0,b=a.s.r;b<=a.e.r;++b)(T[b]||{}).hidden||(m=rG(t,a,b,y,c,d,o,n),m!=null&&(n.strip&&(m=m.replace(h,"")),(m||n.blankrows!==!1)&&r.push((w++?u:"")+m)));return delete n.dense,r.join("")}function nG(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=v4(t,e);return r}function aG(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=Er(t["!ref"]),o="",c=[],u,d=[],h=Array.isArray(t);for(u=a.s.c;u<=a.e.c;++u)c[u]=zr(u);for(var m=a.s.r;m<=a.e.r;++m)for(o=sn(m),u=a.s.c;u<=a.e.c;++u)if(e=c[u]+o,r=h?(t[m]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function _4(t,e,r){var n=r||{},a=+!n.skipHeader,o=t||{},c=0,u=0;if(o&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?bn(n.origin):n.origin;c=d.r,u=d.c}var h,m={s:{c:0,r:0},e:{c:u,r:c+e.length-1+a}};if(o["!ref"]){var y=Er(o["!ref"]);m.e.c=Math.max(m.e.c,y.e.c),m.e.r=Math.max(m.e.r,y.e.r),c==-1&&(c=y.e.r+1,m.e.r=c+e.length-1+a)}else c==-1&&(c=0,m.e.r=e.length-1+a);var v=n.header||[],T=0;e.forEach(function(w,b){Ja(w).forEach(function(N){(T=v.indexOf(N))==-1&&(v[T=v.length]=N);var R=w[N],S="z",U="",P=yt({c:u+T,r:c+b+a});h=Wu(o,P),R&&typeof R=="object"&&!(R instanceof Date)?o[P]=R:(typeof R=="number"?S="n":typeof R=="boolean"?S="b":typeof R=="string"?S="s":R instanceof Date?(S="d",n.cellDates||(S="n",R=Cn(R)),U=n.dateNF||_t[14]):R===null&&n.nullError&&(S="e",R=0),h?(h.t=S,h.v=R,delete h.w,delete h.R,U&&(h.z=U)):o[P]=h={t:S,v:R},U&&(h.z=U))})}),m.e.c=Math.max(m.e.c,u+v.length-1);var _=sn(c);if(a)for(T=0;T<v.length;++T)o[zr(T+u)+_]={t:"s",v:v[T]};return o["!ref"]=Bt(m),o}function sG(t,e){return _4(null,t,e)}function Wu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=bn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Wu(t,yt(e)):Wu(t,yt({r:e,c:r||0}))}function iG(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function tx(){return{SheetNames:[],Sheets:{}}}function rx(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);a=o&&+o[2]||0;var c=o&&o[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=c+a)!=-1;++a);}if(Gz(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function oG(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=iG(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function cG(t,e){return t.z=e,t}function w4(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function lG(t,e,r){return w4(t,"#"+e,r)}function uG(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function fG(t,e,r,n){for(var a=typeof e!="string"?e:Er(e),o=typeof e=="string"?e:Bt(e),c=a.s.r;c<=a.e.r;++c)for(var u=a.s.c;u<=a.e.c;++u){var d=Wu(t,c,u);d.t="n",d.F=o,delete d.v,c==a.s.r&&u==a.s.c&&(d.f=r,n&&(d.D=!0))}return t}var dG={encode_col:zr,encode_row:sn,encode_cell:yt,encode_range:Bt,decode_col:Hp,decode_row:jp,split_cell:E9,decode_cell:bn,decode_range:Xc,format_cell:Rs,sheet_add_aoa:SA,sheet_add_json:_4,sheet_add_dom:m4,aoa_to_sheet:Qc,json_to_sheet:sG,table_to_sheet:p4,table_to_book:CV,sheet_to_csv:v4,sheet_to_txt:nG,sheet_to_json:b1,sheet_to_html:kV,sheet_to_formulae:aG,sheet_to_row_object_array:b1,sheet_get_cell:Wu,book_new:tx,book_append_sheet:rx,book_set_sheet_visibility:oG,cell_set_number_format:cG,cell_set_hyperlink:w4,cell_set_internal_link:lG,cell_add_comment:uG,sheet_set_array_formula:fG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const hG=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=a=>{var o;try{const c=new Uint8Array((o=a.target)==null?void 0:o.result),u=E1(c,{type:"array"}),d=u.SheetNames[0],h=u.Sheets[d],m=dG.sheet_to_json(h,{header:1});let y=0;const v=m[3];Array.isArray(v)&&v.forEach((P,W)=>{if(P&&typeof P=="string"&&P.toUpperCase().includes("DUTY")){const D=P.match(/DUTY\s*:\s*(\d{1,2}):(\d{2})/i);if(D){const q=parseInt(D[1]),H=parseInt(D[2]);y=q+H/60}}});const T=m.slice(4),_=new Date().getMonth()+1,w=new Date().getFullYear(),b=new Date(w,_,0).getDate(),N=new Map;let R=null,S=new Date().toISOString().split("T")[0];T.forEach((P,W)=>{if(P.length===0||!P.some(se=>se))return;const D=P[0]?String(P[0]).trim():"";let q=P[2]?String(P[2]).trim():"",H=P[8]?String(P[8]).trim():"";const fe=P[10]?String(P[10]).trim():"",ne=P[11]?String(P[11]).trim():"";q.includes("A-TYPE STANDBY")?q="A STBY":q.includes("B-TYPE STANDBY")&&(q="B STBY"),H.includes("A-TYPE STANDBY")?H="A STBY":H.includes("B-TYPE STANDBY")&&(H="B STBY");const Q={empl:P[12]?String(P[12]).trim():"",name:P[13]?String(P[13]).trim():"",rank:P[15]?String(P[15]).trim():"",posnType:P[18]?String(P[18]).trim():"",posn:P[19]?String(P[19]).trim():""},ce=!!(Q.empl||Q.name),Ce=D.match(/^(\d{1,2})\/(\d{1,2})\([월화수목금토일]\)$/);if(Ce){const se=parseInt(Ce[1]),Oe=parseInt(Ce[2]);S=`${w}-${se.toString().padStart(2,"0")}-${Oe.toString().padStart(2,"0")}`}const xe=q&&q!=="FLIGHT"&&!q.includes("DAY OFF"),X=!xe&&H&&(H.includes("STANDBY")||H.includes("FIXED SKD"));if(xe||X){R=`${S}-${q||H}`;const se={id:Math.floor(Math.random()*1e6)+W,date:S,flightNumber:q,route:H,std:CT(fe),sta:CT(ne),block:0,status:{departed:!1,landed:!1},crew:[]};ce&&se.crew.push(Q),N.set(R,se)}else if(ce&&R){const se=N.get(R);se&&se.crew.push(Q)}});const U=Array.from(N.values()).filter(P=>!P.flightNumber.includes("DAY OFF"));U.length>0&&y>0&&(U[0].monthlyTotalBlock=y),e(U)}catch(c){console.error("Excel 파싱 오류:",c),r(new Error("Excel 파일 파싱에 실패했습니다: "+c))}},n.onerror=()=>{r(new Error("파일 읽기에 실패했습니다."))},n.readAsArrayBuffer(t)}),CT=t=>{if(typeof t=="string"){if(t.match(/^(\d{1,2}):(\d{2})$/))return t;const r=t.match(/^(\d{1,2})\s+(\d{1,2}):(\d{2})$/);if(r){parseInt(r[1]);const a=parseInt(r[2]),o=parseInt(r[3]);return`${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}const n=parseFloat(t);if(!isNaN(n)){const a=Math.floor(n*24),o=Math.floor((n*24-a)*60);return`${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}}return String(t)};class gG{constructor(){this.CACHE_KEY="flight_dashboard_cache",this.CACHE_DURATION=1440*60*1e3}saveFlights(e,r){try{const a=this.chunkArray(e,25),o={totalFlights:e.length,chunks:a.length,lastUpdated:Date.now(),userId:r};localStorage.setItem(`${this.CACHE_KEY}_metadata`,JSON.stringify(o)),a.forEach((c,u)=>{const d=`${this.CACHE_KEY}_chunk_${u}`,h=c.map(m=>({id:m.id,fn:m.flightNumber,al:m.airline,d:m.departure,a:m.arrival,dt:m.date,t:m.time,ac:m.aircraft,s:m.status}));localStorage.setItem(d,JSON.stringify(h))}),console.log(`✅ 캐시 저장 성공: ${e.length}개 항공편을 ${a.length}개 청크로 분할하여 저장`)}catch(n){if(console.error("캐시 저장 실패:",n),n.name==="QuotaExceededError"){console.log("⚠️ localStorage 용량 초과, 기존 캐시 정리 후 재시도"),this.clearCache();try{const a=this.chunkArray(e,15),o={totalFlights:e.length,chunks:a.length,lastUpdated:Date.now(),userId:r};localStorage.setItem(`${this.CACHE_KEY}_metadata`,JSON.stringify(o)),a.forEach((c,u)=>{const d=`${this.CACHE_KEY}_chunk_${u}`,h=c.map(m=>({id:m.id,fn:m.flightNumber,al:m.airline,d:m.departure,a:m.arrival,dt:m.date,t:m.time,ac:m.aircraft,s:m.status}));localStorage.setItem(d,JSON.stringify(h))}),console.log(`✅ 재시도 성공: ${e.length}개 항공편을 ${a.length}개 작은 청크로 저장`)}catch(a){console.error("재시도 실패:",a)}}}}chunkArray(e,r){const n=[];for(let a=0;a<e.length;a+=r)n.push(e.slice(a,a+r));return n}loadFlights(e){try{const r=localStorage.getItem(`${this.CACHE_KEY}_metadata`);if(!r)return null;const n=JSON.parse(r);if(n.userId!==e)return this.clearCache(),null;if(Date.now()-n.lastUpdated>this.CACHE_DURATION)return this.clearCache(),null;const a=[];for(let o=0;o<n.chunks;o++){const c=`${this.CACHE_KEY}_chunk_${o}`,u=localStorage.getItem(c);if(u){const h=JSON.parse(u).map(m=>({id:m.id,flightNumber:m.fn,airline:m.al,departure:m.d,arrival:m.a,date:m.dt,time:m.t,aircraft:m.ac,status:m.s,userId:e,timestamp:Date.now()}));a.push(...h)}}return console.log(`✅ 캐시 로드 성공: ${a.length}개 항공편을 ${n.chunks}개 청크에서 복원`),a}catch(r){return console.error("캐시 로드 실패:",r),this.clearCache(),null}}clearCache(){try{const e=localStorage.getItem(`${this.CACHE_KEY}_metadata`);if(e){const r=JSON.parse(e);for(let n=0;n<r.chunks;n++){const a=`${this.CACHE_KEY}_chunk_${n}`;localStorage.removeItem(a)}}localStorage.removeItem(`${this.CACHE_KEY}_metadata`),localStorage.removeItem(this.CACHE_KEY),console.log("🗑️ 캐시 정리 완료")}catch(e){console.error("캐시 정리 실패:",e)}}getCacheStatus(e){try{const r=localStorage.getItem(`${this.CACHE_KEY}_metadata`);if(!r)return{hasCache:!1,lastUpdated:null};const n=JSON.parse(r);return n.userId!==e?{hasCache:!1,lastUpdated:null}:{hasCache:!0,lastUpdated:new Date(n.lastUpdated)}}catch{return{hasCache:!1,lastUpdated:null}}}}const Su=new gG;class mG{constructor(){this.DB_NAME="FlightDashboardDB",this.DB_VERSION=1,this.STORE_NAME="flights",this.METADATA_STORE="metadata",this.CACHE_DURATION=1440*60*1e3,this.db=null}async initDB(){return new Promise((e,r)=>{const n=indexedDB.open(this.DB_NAME,this.DB_VERSION);n.onerror=()=>r(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=a=>{const o=a.target.result;if(!o.objectStoreNames.contains(this.STORE_NAME)){const c=o.createObjectStore(this.STORE_NAME,{keyPath:"id"});c.createIndex("userId","userId",{unique:!1}),c.createIndex("date","date",{unique:!1}),c.createIndex("airline","airline",{unique:!1})}o.objectStoreNames.contains(this.METADATA_STORE)||o.createObjectStore(this.METADATA_STORE,{keyPath:"userId"})}})}async getDB(){return this.db||(this.db=await this.initDB()),this.db}async saveFlights(e,r){if(!this.db)return console.error("데이터베이스가 초기화되지 않았습니다."),Promise.reject(new Error("Database not initialized."));const a=this.createBatches(e,5e3);console.log(`📦 ${e.length}개 데이터를 ${a.length}개 배치로 분할하여 처리`);const o=a.map((c,u)=>this.saveBatch(c,r,u===0));await Promise.all(o),console.log(`✅ IndexedDB에 ${e.length}개 비행 데이터 저장 완료`)}async loadFlights(e){try{const n=(await this.getDB()).transaction([this.STORE_NAME,this.METADATA_STORE],"readonly"),a=n.objectStore(this.STORE_NAME),c=n.objectStore(this.METADATA_STORE).get(e),u=await new Promise((m,y)=>{c.onsuccess=()=>m(c.result),c.onerror=()=>y(c.error)});if(!u)return console.log("⚠️ IndexedDB에 캐시된 데이터 없음"),[];if(Date.now()>u.cacheExpiry)return console.log("⚠️ 캐시 만료됨, 데이터 삭제"),await this.clearCache(e),[];const d=a.index("userId").getAll(e),h=await new Promise((m,y)=>{d.onsuccess=()=>m(d.result),d.onerror=()=>y(d.error)});return console.log(`✅ IndexedDB에서 ${h.length}개 비행 데이터 로드 완료`),h}catch(r){return console.error("❌ IndexedDB 로드 실패:",r),[]}}async clearCache(e){try{const n=(await this.getDB()).transaction([this.STORE_NAME,this.METADATA_STORE],"readwrite"),a=n.objectStore(this.STORE_NAME),o=n.objectStore(this.METADATA_STORE),c=await this.getFlights(e);for(const u of c)a.delete(u.id);o.delete(e),await new Promise((u,d)=>{n.oncomplete=u,n.onerror=()=>d(n.error)}),console.log("🗑️ IndexedDB 캐시 정리 완료")}catch(r){console.error("❌ IndexedDB 캐시 정리 실패:",r)}}async getFlights(e){try{const o=(await this.getDB()).transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).index("userId").getAll(e);return await new Promise((c,u)=>{o.onsuccess=()=>c(o.result),o.onerror=()=>u(o.error)})}catch(r){return console.error("❌ IndexedDB 데이터 조회 실패:",r),[]}}async getCacheStatus(e){try{const o=(await this.getDB()).transaction([this.METADATA_STORE],"readonly").objectStore(this.METADATA_STORE).get(e),c=await new Promise((u,d)=>{o.onsuccess=()=>u(o.result),o.onerror=()=>d(o.error)});return c?{exists:!0,count:c.totalFlights,lastUpdated:c.lastUpdated}:{exists:!1,count:0,lastUpdated:null}}catch(r){return console.error("❌ 캐시 상태 확인 실패:",r),{exists:!1,count:0,lastUpdated:null}}}clearExistingDataInTransaction(e,r){const a=e.index("userId").openCursor(r);a.onsuccess=o=>{const c=o.target.result;c&&(e.delete(c.primaryKey),c.continue())}}generateUniqueId(e,r,n){if(e.id&&e.id!==""&&e.id!=="undefined")return e.id;const a=e.date||"unknown-date",o=e.time||"unknown-time",c=e.airline||"unknown-airline",u=e.flightNumber||"unknown-flight",d=e.departure||"unknown-dep",h=e.arrival||"unknown-arr";return`${c}_${u}_${a}_${o}_${d}_${h}_${r}`.replace(/[^a-zA-Z0-9_-]/g,"_").replace(/_+/g,"_").toLowerCase()}createBatches(e,r){const n=[];for(let a=0;a<e.length;a+=r)n.push(e.slice(a,a+r));return n}async saveBatch(e,r,n){return new Promise((a,o)=>{const c=this.db.transaction([this.STORE_NAME,this.METADATA_STORE],"readwrite"),u=c.objectStore(this.STORE_NAME),d=c.objectStore(this.METADATA_STORE);let h=0;c.oncomplete=()=>{console.log(`✅ 배치 ${n?"첫":""} 트랜잭션 완전 성공: ${h}개 항공편 저장 완료.`),a()},c.onerror=()=>{console.error("❌ 배치 트랜잭션 처리 중 오류 발생:",c.error),o(c.error)};try{this.clearExistingDataInTransaction(u,r),e.forEach((y,v)=>{const T=this.generateUniqueId(y,v,r),_={...y,id:T,userId:r,timestamp:Date.now()},w=u.put(_);w.onsuccess=()=>{h++}});const m={userId:r,totalFlights:e.length,lastUpdated:Date.now(),cacheExpiry:Date.now()+this.CACHE_DURATION};d.put(m)}catch(m){console.error("데이터 처리 중 예외 발생:",m),o(m)}})}}const ha=new mG;class pG{constructor(){this.INTERNATIONAL_KEY="international_flights",this.DOMESTIC_KEY="domestic_flights",this.METADATA_KEY="separated_metadata"}async saveSeparatedFlights(e,r){try{const n=e.filter(c=>c.departure&&c.arrival&&c.departure.length===3&&c.arrival.length===3||c.departure!=="ICN"&&c.arrival!=="ICN"),a=e.filter(c=>c.departure&&c.arrival&&(c.departure==="ICN"||c.arrival==="ICN")&&c.departure.length===3&&c.arrival.length===3);console.log(`🌍 국제선: ${n.length}개, 🇰🇷 국내선: ${a.length}개 분리 완료`),await Promise.all([this.saveToIndexedDB(this.INTERNATIONAL_KEY,n,r),this.saveToIndexedDB(this.DOMESTIC_KEY,a,r)]);const o={international:n,domestic:a,lastUpdated:Date.now()};await this.saveMetadata(o,r),console.log("✅ 분리된 캐시 저장 완료")}catch(n){throw console.error("❌ 분리된 캐시 저장 실패:",n),n}}async saveToIndexedDB(e,r,n){try{const o=(await ha.getDB()).transaction(["flights"],"readwrite"),c=o.objectStore("flights");this.clearExistingDataInTransaction(c,e,n);for(let u=0;u<r.length;u++){const d=r[u],h={...d,userId:n,cacheKey:e,timestamp:Date.now(),id:this.generateUniqueId(d,u,n,e)};c.put(h)}await new Promise((u,d)=>{o.oncomplete=u,o.onerror=()=>d(o.error)})}catch(a){throw console.error(`❌ ${e} 저장 실패:`,a),a}}async getFromIndexedDB(e,r){try{const c=(await ha.getDB()).transaction(["flights"],"readonly").objectStore("flights").index("userId").getAll(r);return(await new Promise((d,h)=>{c.onsuccess=()=>d(c.result),c.onerror=()=>h(c.error)})).filter(d=>d.cacheKey===e)}catch(n){return console.error(`❌ ${e} 로드 실패:`,n),[]}}async saveMetadata(e,r){try{const a=(await ha.getDB()).transaction(["metadata"],"readwrite"),o=a.objectStore("metadata"),c={userId:`${r}_separated`,data:e,timestamp:Date.now()};o.put(c),await new Promise((u,d)=>{a.oncomplete=u,a.onerror=()=>d(a.error)})}catch(n){throw console.error("❌ 메타데이터 저장 실패:",n),n}}async loadSeparatedFlights(e){try{const o=(await ha.getDB()).transaction(["metadata"],"readonly").objectStore("metadata").get(`${e}_separated`),c=await new Promise((d,h)=>{o.onsuccess=()=>d(o.result),o.onerror=()=>h(o.error)});return c?Date.now()-c.timestamp>1440*60*1e3?(console.log("⚠️ 분리된 캐시 만료됨"),await this.clearSeparatedCache(e),null):(console.log("✅ 분리된 캐시 데이터 로드 완료"),c.data):(console.log("⚠️ 분리된 캐시 데이터 없음"),null)}catch(r){return console.error("❌ 분리된 캐시 로드 실패:",r),null}}async clearSeparatedCache(e){try{const n=(await ha.getDB()).transaction(["flights","metadata"],"readwrite"),a=n.objectStore("flights"),o=n.objectStore("metadata"),c=await this.getAllFlightsFromIndexedDB(e);for(const u of c)u.cacheKey&&a.delete(u.id);o.delete(`${e}_separated`),await new Promise((u,d)=>{n.oncomplete=u,n.onerror=()=>d(n.error)}),console.log("🗑️ 분리된 캐시 정리 완료")}catch(r){console.error("❌ 분리된 캐시 정리 실패:",r)}}async getAllFlightsFromIndexedDB(e){try{const o=(await ha.getDB()).transaction(["flights"],"readonly").objectStore("flights").index("userId").getAll(e);return await new Promise((c,u)=>{o.onsuccess=()=>c(o.result),o.onerror=()=>u(o.error)})}catch(r){return console.error("❌ IndexedDB 데이터 조회 실패:",r),[]}}clearExistingDataInTransaction(e,r,n){const o=e.index("userId").openCursor(n);o.onsuccess=c=>{const u=c.target.result;u&&(u.value.cacheKey===r&&e.delete(u.primaryKey),u.continue())}}generateUniqueId(e,r,n,a){if(e.id&&e.id!==""&&e.id!=="undefined")return e.id;const o=Date.now();return`${a}_${o}_${r}`}async getSeparatedCacheStatus(e){try{const r=await this.loadSeparatedFlights(e);return r?{international:{exists:!0,count:r.international.length},domestic:{exists:!0,count:r.domestic.length},lastUpdated:r.lastUpdated}:{international:{exists:!1,count:0},domestic:{exists:!1,count:0},lastUpdated:null}}catch(r){return console.error("❌ 분리된 캐시 상태 확인 실패:",r),{international:{exists:!1,count:0},domestic:{exists:!1,count:0},lastUpdated:null}}}}const jm=new pG;class xG{constructor(){this.CACHE_EXPIRY=1440*60*1e3,this.CLEANUP_INTERVAL=1440*60*1e3,this.startAutoCleanup()}async getAllCacheStatus(e){try{const[r,n,a]=await Promise.all([this.getLocalStorageStatus(e),this.getIndexedDBStatus(e),this.getSeparatedStatus(e)]);return{localStorage:r,indexedDB:n,separated:a}}catch(r){return console.error("❌ 캐시 상태 확인 실패:",r),{localStorage:{type:"localStorage",exists:!1,count:0,lastUpdated:null,size:"0KB",expiry:null},indexedDB:{type:"indexedDB",exists:!1,count:0,lastUpdated:null,size:"0KB",expiry:null},separated:{type:"separated",exists:!1,count:0,lastUpdated:null,size:"0KB",expiry:null}}}}getLocalStorageStatus(e){try{const r=`flight_dashboard_cache_${e}`,n=localStorage.getItem(`${r}_metadata`);if(!n)return{type:"localStorage",exists:!1,count:0,lastUpdated:null,size:"0KB",expiry:null};const a=JSON.parse(n),o=a.lastUpdated,c=o+this.CACHE_EXPIRY,u=Date.now()>c;let d=0;for(let h=0;h<a.chunks;h++){const m=`${r}_chunk_${h}`,y=localStorage.getItem(m);y&&(d+=new Blob([y]).size)}return{type:"localStorage",exists:!u,count:a.totalFlights||0,lastUpdated:o,size:this.formatBytes(d),expiry:c}}catch(r){return console.error("❌ localStorage 상태 확인 실패:",r),{type:"localStorage",exists:!1,count:0,lastUpdated:null,size:"0KB",expiry:null}}}async getIndexedDBStatus(e){try{const r=await ha.getCacheStatus(e),n=r.lastUpdated,a=n?n+this.CACHE_EXPIRY:null,o=a?Date.now()>a:!0;return{type:"indexedDB",exists:r.exists&&!o,count:r.count,lastUpdated:n,size:"N/A",expiry:a}}catch(r){return console.error("❌ IndexedDB 상태 확인 실패:",r),{type:"indexedDB",exists:!1,count:0,lastUpdated:null,size:"N/A",expiry:null}}}async getSeparatedStatus(e){try{const r=await jm.getSeparatedCacheStatus(e),n=r.lastUpdated,a=n?n+this.CACHE_EXPIRY:null,o=a?Date.now()>a:!0;return{type:"separated",exists:r.international.exists||r.domestic.exists,count:(r.international.exists?r.international.count:0)+(r.domestic.exists?r.domestic.count:0),lastUpdated:n,size:"N/A",expiry:a}}catch(r){return console.error("❌ 분리된 캐시 상태 확인 실패:",r),{type:"separated",exists:!1,count:0,lastUpdated:null,size:"N/A",expiry:null}}}async cleanupExpiredCaches(e){try{console.log("🧹 만료된 캐시 정리 시작...");const r=await this.getAllCacheStatus(e);let n=0;r.localStorage.exists&&r.localStorage.expiry&&Date.now()>r.localStorage.expiry&&(console.log("🗑️ localStorage 캐시 만료됨, 정리 중..."),Su.clearCache(e),n++),r.indexedDB.exists&&r.indexedDB.expiry&&Date.now()>r.indexedDB.expiry&&(console.log("🗑️ IndexedDB 캐시 만료됨, 정리 중..."),await ha.clearCache(e),n++),r.separated.exists&&r.separated.expiry&&Date.now()>r.separated.expiry&&(console.log("🗑️ 분리된 캐시 만료됨, 정리 중..."),await jm.clearSeparatedCache(e),n++),n>0?console.log(`✅ ${n}개 만료된 캐시 정리 완료`):console.log("✅ 만료된 캐시 없음")}catch(r){console.error("❌ 캐시 정리 실패:",r)}}async clearAllCaches(e){try{console.log("🗑️ 모든 캐시 강제 정리 시작..."),await Promise.all([Su.clearCache(e),ha.clearCache(e),jm.clearSeparatedCache(e)]),console.log("✅ 모든 캐시 정리 완료")}catch(r){console.error("❌ 모든 캐시 정리 실패:",r)}}async optimizeCaches(e){try{console.log("⚡ 캐시 최적화 시작...");const r=await this.getAllCacheStatus(e);if(r.indexedDB.exists){console.log("✅ IndexedDB 캐시 사용 (가장 효율적)"),r.localStorage.exists&&(console.log("🗑️ localStorage 캐시 정리 (용량 절약)"),Su.clearCache(e));return}if(r.localStorage.exists){console.log("✅ localStorage 캐시 사용");return}console.log("⚠️ 사용 가능한 캐시 없음")}catch(r){console.error("❌ 캐시 최적화 실패:",r)}}startAutoCleanup(){setInterval(()=>{const e=this.getCurrentUserId();e&&this.cleanupExpiredCaches(e)},this.CLEANUP_INTERVAL),console.log("🔄 자동 캐시 정리 시작 (24시간마다)")}getCurrentUserId(){try{const e=localStorage.getItem("auth_user");if(e)return JSON.parse(e).uid||null}catch(e){console.error("사용자 ID 가져오기 실패:",e)}return null}formatBytes(e){if(e===0)return"0KB";const r=1024,n=["B","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,a)).toFixed(2))+n[a]}async printCacheStats(e){try{const r=await this.getAllCacheStatus(e);console.log("📊 캐시 상태 통계:"),console.log("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"),Object.entries(r).forEach(([n,a])=>{const o=a.exists?"✅":"❌",c=a.expiry?new Date(a.expiry).toLocaleString("ko-KR"):"N/A";console.log(`${o} ${n}:`),console.log(`   존재: ${a.exists?"예":"아니오"}`),console.log(`   데이터 수: ${a.count.toLocaleString()}개`),console.log(`   크기: ${a.size}`),console.log(`   마지막 업데이트: ${a.lastUpdated?new Date(a.lastUpdated).toLocaleString("ko-KR"):"N/A"}`),console.log(`   만료 시간: ${c}`),console.log("")}),console.log("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━")}catch(r){console.error("❌ 캐시 통계 출력 실패:",r)}}}const yG=new xG;class vG{constructor(){this.status={isOnline:navigator.onLine,lastOnline:null,lastOffline:null},this.listeners=[],this.initialize()}initialize(){if(window.addEventListener("online",()=>this.updateStatus(!0)),window.addEventListener("offline",()=>this.updateStatus(!1)),"connection"in navigator){const e=navigator.connection;e.addEventListener("change",()=>{this.updateConnectionType(e.effectiveType)})}this.updateStatus(navigator.onLine)}updateStatus(e){const r=new Date;e&&!this.status.isOnline?this.status.lastOnline=r:!e&&this.status.isOnline&&(this.status.lastOffline=r),this.status.isOnline=e,this.notifyListeners()}updateConnectionType(e){this.status.connectionType=e==="wifi"?"wifi":e==="cellular"?"cellular":"none",this.notifyListeners()}notifyListeners(){this.listeners.forEach(e=>e({...this.status}))}subscribe(e){return this.listeners.push(e),()=>{const r=this.listeners.indexOf(e);r>-1&&this.listeners.splice(r,1)}}getStatus(){return{...this.status}}async testConnection(){try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3),n=await fetch("/api/health",{method:"HEAD",cache:"no-cache",signal:e.signal});return clearTimeout(r),n.ok}catch{return!1}}}const _s=new vG;class NT{static detectConflicts(e,r){const n=[];for(const a of e){const o=r.find(c=>c.id===a.id);o&&this.hasConflict(a,o)&&n.push({flightId:a.id,flightNumber:a.flightNumber,date:a.date,route:a.route,localData:{status:a.status,lastModified:a.lastModified},serverData:{status:o.status,lastModified:o.lastModified}})}return n}static hasConflict(e,r){return e.status.departed!==r.status.departed||e.status.landed!==r.status.landed}static resolveConflict(e){return{strategy:"client-wins",resolution:e.localData,reason:"로컬 데이터가 우선됩니다."}}static async resolveWithUserChoice(e,r){const n={resolvedCount:0,errors:[]};try{await r(e.map(a=>({flightId:a.flightId,useLocal:!0}))),n.resolvedCount=e.length}catch(a){n.errors.push(`사용자 선택 실패: ${a}`)}return n}static applyResolutions(e,r){return e.map(n=>{const a=r.find(u=>u.flightId===n.flightId),c=(a==null?void 0:a.useLocal)??!0?n.localData:n.serverData;return{flightId:n.flightId,finalData:{status:c.status,lastModified:c.lastModified,version:(c.version||0)+1}}})}}class _G{constructor(){this.SYNC_QUEUE_KEY="sync_queue",this.MAX_RETRY_COUNT=3,this.isSyncing=!1}addToSyncQueue(e){const r={...e,id:`${Date.now()}-${Math.random()}`,retryCount:0};try{const n=this.getSyncQueue();n.push(r),this.saveSyncQueue(n)}catch(n){console.error("동기화 큐 추가 실패:",n)}}getSyncQueue(){try{const e=localStorage.getItem(this.SYNC_QUEUE_KEY);return e?JSON.parse(e):[]}catch{return[]}}saveSyncQueue(e){try{localStorage.setItem(this.SYNC_QUEUE_KEY,JSON.stringify(e))}catch(r){console.error("동기화 큐 저장 실패:",r)}}async sync(e,r,n){if(this.isSyncing)return{success:!1,syncedCount:0,errors:["이미 동기화 중입니다."],conflicts:[],resolvedConflicts:0};this.isSyncing=!0;const a={success:!0,syncedCount:0,errors:[],conflicts:[],resolvedConflicts:0};try{const o=await this.fetchServerData(e),c=this.detectChangedFlights(r,o),u=NT.detectConflicts(c.local,c.server);u.length>0&&n?await this.resolveConflictsWithUserChoice(u,a,n,e):u.length>0&&await this.resolveConflictsAutomatically(u,a),await this.sendLocalChanges(e,a)}catch(o){a.success=!1,a.errors.push(`동기화 오류: ${o}`)}finally{this.isSyncing=!1}return a}async fetchServerData(e){const{getAllFlights:r}=await wc(async()=>{const{getAllFlights:n}=await Promise.resolve().then(()=>kc);return{getAllFlights:n}},void 0);return await r(e)}detectChangedFlights(e,r){const n=[],a=[];for(const o of e){const c=r.find(u=>u.id===o.id);c?this.hasChanges(o,c)&&(n.push(o),a.push(c)):n.push(o)}for(const o of r)e.find(u=>u.id===o.id)||a.push(o);return{local:n,server:a}}hasChanges(e,r){if(e.status.departed!==r.status.departed||e.status.landed!==r.status.landed||e.version!==r.version)return!0;if(e.lastModified&&r.lastModified){const n=new Date(e.lastModified).getTime(),a=new Date(r.lastModified).getTime();if(Math.abs(n-a)>300*1e3)return!0}return!1}async resolveConflictsWithUserChoice(e,r,n,a){try{const o=await n(e);for(const c of e)try{const u=o.find(v=>v.flightId===c.flightId);if(!u)continue;let d;u.useLocal?d=c.localData:d=c.serverData;const h=d.status;if(!h){console.error(`선택된 데이터에 status 정보가 없습니다: ${c.flightId}`);continue}const m={status:h,lastModified:new Date().toISOString()},{updateFlight:y}=await wc(async()=>{const{updateFlight:v}=await Promise.resolve().then(()=>kc);return{updateFlight:v}},void 0);await y(c.flightId.toString(),m,a),r.resolvedConflicts++,r.conflicts.push(`사용자 선택 해결: ${c.flightId}`)}catch(u){console.error(`충돌 해결 적용 실패: ${c.flightId} - ${u}`),r.errors.push(`충돌 해결 적용 실패: ${c.flightId} - ${u}`)}}catch(o){console.error(`사용자 충돌 해결 실패: ${o}`),r.errors.push(`사용자 충돌 해결 실패: ${o}`)}}async resolveConflictsAutomatically(e,r){for(const n of e)try{const a=NT.resolveConflict(n);r.resolvedConflicts++,r.conflicts.push(`자동 해결 (${a.strategy}): ${n.flightId}`)}catch(a){r.errors.push(`충돌 해결 실패: ${n.flightId} - ${a}`)}}async sendLocalChanges(e,r){const a=this.getSyncQueue().filter(o=>{const c=new Date(o.timestamp).getTime();return Date.now()-c<300*1e3});for(const o of a)try{await this.processOperation(o,e),r.syncedCount++,this.removeFromQueue(o.id)}catch{o.retryCount++,o.retryCount>=this.MAX_RETRY_COUNT?(r.errors.push(`최대 재시도 횟수 초과: ${o.type}`),this.removeFromQueue(o.id)):(r.errors.push(`동기화 실패 (재시도 ${o.retryCount}/${this.MAX_RETRY_COUNT}): ${o.type}`),this.updateRetryCount(o.id,o.retryCount))}}async processOperation(e,r){const{updateFlight:n}=await wc(async()=>{const{updateFlight:a}=await Promise.resolve().then(()=>kc);return{updateFlight:a}},void 0);switch(e.type){case"update_status":const a={status:e.data.status,lastModified:e.data.lastModified,version:e.data.version};await n(e.data.flightId.toString(),a,r);break;case"add_flight":break;case"delete_flight":break;default:throw new Error(`알 수 없는 작업 타입: ${e.type}`)}}removeFromQueue(e){const n=this.getSyncQueue().filter(a=>a.id!==e);this.saveSyncQueue(n)}updateRetryCount(e,r){const a=this.getSyncQueue().map(o=>o.id===e?{...o,retryCount:r}:o);this.saveSyncQueue(a)}getSyncStatus(){const e=this.getSyncQueue(),r=e.length>0?new Date(Math.max(...e.map(n=>n.timestamp))):null;return{pendingCount:e.length,lastSync:r}}clearSyncQueue(){localStorage.removeItem(this.SYNC_QUEUE_KEY)}}const Of=new _G;function wG({isOpen:t,onClose:e,onLogin:r,onShowRegister:n,onResetPassword:a,isLoading:o=!1,error:c}){const[u,d]=ee.useState(""),[h,m]=ee.useState(""),[y,v]=ee.useState(!1),[T,_]=ee.useState(""),[w,b]=ee.useState("");ee.useEffect(()=>{t||setTimeout(()=>{v(!1),_(""),b(""),d(""),m("")},300)},[t]);const N=S=>{S.preventDefault(),r(u,h)},R=async S=>{S.preventDefault(),_(""),b("");const U=await a(u);U.success?_("비밀번호 재설정 이메일을 보냈습니다. 받은 편지함을 확인해주세요."):b(U.error||"이메일 발송에 실패했습니다.")};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-md mx-4",onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:y?"비밀번호 찾기":"로그인"}),p.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y?p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"가입하신 이메일 주소를 입력하시면, 비밀번호를 재설정할 수 있는 링크를 보내드립니다."}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"이메일"}),p.jsx("input",{type:"email",id:"reset-email",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"이메일을 입력하세요",required:!0})]}),T&&p.jsx("div",{className:"text-green-700 dark:text-green-300 text-sm bg-green-50 dark:bg-green-900 p-3 rounded-md",children:T}),w&&p.jsx("div",{className:"text-red-600 dark:text-red-300 text-sm bg-red-50 dark:bg-red-900 p-3 rounded-md",children:w}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"재설정 이메일 보내기"}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"로그인으로 돌아가기"})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"이메일"}),p.jsx("input",{type:"email",id:"email",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"이메일을 입력하세요",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"비밀번호"}),p.jsx("input",{type:"password",id:"password",value:h,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"비밀번호를 입력하세요",required:!0})]}),p.jsx("div",{className:"text-right",children:p.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-500 font-medium",children:"비밀번호를 잊으셨나요?"})}),c&&p.jsx("div",{className:"text-red-600 dark:text-red-300 text-sm bg-red-50 dark:bg-red-900 p-3 rounded-md",children:c}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"로그인 중..."]}):"로그인"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["계정이 없으신가요?"," ",p.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-500 font-medium",children:"회원가입"})]})})]})]})}):null}function TG({isOpen:t,onClose:e,onRegister:r,isLoading:n=!1,error:a}){const[o,c]=ee.useState(""),[u,d]=ee.useState(""),[h,m]=ee.useState(""),[y,v]=ee.useState(""),[T,_]=ee.useState(""),w=N=>{if(N.preventDefault(),_(""),u!==h){_("비밀번호가 일치하지 않습니다.");return}if(u.length<6){_("비밀번호는 6자 이상이어야 합니다.");return}if(y.trim().length<2){_("사용자 이름은 2자 이상이어야 합니다.");return}r(o,u,y)},b=()=>{c(""),d(""),m(""),v(""),_(""),e()};return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:b,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 w-full max-w-md mx-4",onClick:N=>N.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"회원가입"}),p.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"사용자 이름 *"}),p.jsx("input",{type:"text",id:"displayName",value:y,onChange:N=>v(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"사용자 이름을 입력하세요",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"이메일 *"}),p.jsx("input",{type:"email",id:"email",value:o,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"이메일을 입력하세요",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"비밀번호 *"}),p.jsx("input",{type:"password",id:"password",value:u,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"6자 이상의 비밀번호를 입력하세요",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"비밀번호 확인 *"}),p.jsx("input",{type:"password",id:"confirmPassword",value:h,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"비밀번호를 다시 입력하세요",required:!0})]}),(T||a)&&p.jsx("div",{className:"text-red-600 dark:text-red-300 text-sm bg-red-50 dark:bg-red-900 p-3 rounded-md",children:T||a}),p.jsx("button",{type:"submit",disabled:n,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"회원가입 중..."]}):"회원가입"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["이미 계정이 있으신가요?"," ",p.jsx("button",{onClick:b,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-500 font-medium",children:"로그인"})]})})]})}):null}const EG=({isOpen:t,type:e,onClose:r})=>{if(!t)return null;const n=e==="next"?"다음 비행":"최근 비행",a=e==="next"?"다음 비행 스케줄이 없습니다.":"과거 비행 기록이 없습니다.";return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:r,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[p.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:[n," 정보"]}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a})]})})},bG=({isOpen:t,onClose:e,currentUser:r,theme:n,setTheme:a})=>{const[o,c]=ee.useState("name"),[u,d]=ee.useState(!1),[h,m]=ee.useState(""),[y,v]=ee.useState(""),[T,_]=ee.useState((r==null?void 0:r.displayName)||""),[w,b]=ee.useState(""),[N,R]=ee.useState(""),[S,U]=ee.useState("");if(!t)return null;const P=async()=>{if(!T.trim()){m("이름을 입력해주세요.");return}d(!0),m(""),v("");const D=await cL(T.trim());D.success?(v("이름이 성공적으로 변경되었습니다."),setTimeout(()=>{e()},2e3)):m(D.error||"이름 변경에 실패했습니다."),d(!1)},W=async()=>{if(!w||!N||!S){m("모든 필드를 입력해주세요.");return}if(N!==S){m("새 비밀번호가 일치하지 않습니다.");return}if(N.length<6){m("새 비밀번호는 6자 이상이어야 합니다.");return}d(!0),m(""),v("");const D=await lL(w,N);D.success?(v("비밀번호가 성공적으로 변경되었습니다."),b(""),R(""),U(""),setTimeout(()=>{e()},2e3)):m(D.error||"비밀번호 변경에 실패했습니다."),d(!1)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6 relative animate-fade-in-up",onClick:D=>D.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"사용자 설정"}),p.jsxs("div",{className:"flex mb-6 border-b border-gray-200 dark:border-gray-700",children:[p.jsx("button",{onClick:()=>c("name"),className:`flex-1 py-2 px-2 sm:px-4 font-medium text-sm sm:text-base ${o==="name"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"이름 변경"}),p.jsxs("button",{onClick:()=>c("password"),className:`flex-1 py-2 px-2 sm:px-4 font-medium text-sm sm:text-base ${o==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx("span",{className:"hidden sm:inline",children:"비밀번호 변경"}),p.jsxs("span",{className:"sm:hidden",children:["비밀번호",p.jsx("br",{}),"변경"]})]}),p.jsx("button",{onClick:()=>c("theme"),className:`flex-1 py-2 px-2 sm:px-4 font-medium text-sm sm:text-base ${o==="theme"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"화면 테마"})]}),h&&p.jsx("div",{className:"mb-4 p-2 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg text-sm",children:h}),y&&p.jsx("div",{className:"mb-4 p-2 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-lg text-sm",children:y}),o==="name"&&p.jsxs("div",{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"새 이름"}),p.jsx("input",{type:"text",value:T,onChange:D=>_(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"새 이름을 입력하세요"})]}),p.jsx("button",{onClick:P,disabled:u,className:"w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:u?"변경 중...":"이름 변경"})]}),o==="password"&&p.jsxs("div",{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"현재 비밀번호"}),p.jsx("input",{type:"password",value:w,onChange:D=>b(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"현재 비밀번호를 입력하세요"})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"새 비밀번호"}),p.jsx("input",{type:"password",value:N,onChange:D=>R(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"새 비밀번호를 입력하세요 (6자 이상)"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"새 비밀번호 확인"}),p.jsx("input",{type:"password",value:S,onChange:D=>U(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"새 비밀번호를 다시 입력하세요"})]}),p.jsx("button",{onClick:W,disabled:u,className:"w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:u?"변경 중...":"비밀번호 변경"})]}),o==="theme"&&p.jsx("div",{children:p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"테마 선택"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>a("light"),className:`flex-1 py-2 px-4 rounded-lg ${n==="light"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 dark:text-gray-200"}`,children:"라이트"}),p.jsx("button",{onClick:()=>a("dark"),className:`flex-1 py-2 px-4 rounded-lg ${n==="dark"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 dark:text-gray-200"}`,children:"다크"}),p.jsx("button",{onClick:()=>a("system"),className:`flex-1 py-2 px-4 rounded-lg ${n==="system"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 dark:text-gray-200"}`,children:"시스템"})]})]})})]})})},SG=({isOpen:t,onClose:e,crewName:r,flightsWithCrew:n,onFlightClick:a})=>{if(!t||!r)return null;const o=[...n].sort((c,u)=>new Date(u.date).getTime()-new Date(c.date).getTime());return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[70] p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in-up flex flex-col max-h-[85vh]",onClick:c=>c.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsx("div",{className:"flex-shrink-0",children:p.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:[p.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:r}),"님과의 비행 기록"]})}),p.jsx("div",{className:"flex-grow overflow-auto",children:o.length>0?p.jsx("ul",{className:"space-y-3",children:o.map(c=>p.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>a(c),children:[p.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:c.date}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.flightNumber,"편: ",c.route.replace("/"," → ")]})]},c.id))}):p.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"함께한 비행 기록이 없습니다."})})]})})};function AG({title:t,titleId:e,...r},n){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const kG=ee.forwardRef(AG);function CG({title:t,titleId:e,...r},n){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const NG=ee.forwardRef(CG);function DG({title:t,titleId:e,...r},n){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const IG=ee.forwardRef(DG);var T4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DT=pa.createContext&&pa.createContext(T4),RG=["attr","size","title"];function OG(t,e){if(t==null)return{};var r=MG(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(this,arguments)}function IT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(r),!0).forEach(function(n){FG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FG(t,e,r){return e=LG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LG(t){var e=PG(t,"string");return typeof e=="symbol"?e:e+""}function PG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E4(t){return t&&t.map((e,r)=>pa.createElement(e.tag,kd({key:r},e.attr),E4(e.child)))}function Do(t){return e=>pa.createElement(UG,Ad({attr:kd({},t.attr)},e),E4(t.child))}function UG(t){var e=r=>{var{attr:n,size:a,title:o}=t,c=OG(t,RG),u=a||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),pa.createElement("svg",Ad({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,c,{className:d,style:kd(kd({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&pa.createElement("title",null,o),t.children)};return DT!==void 0?pa.createElement(DT.Consumer,null,r=>e(r)):e(T4)}function BG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.62,21.01c0-0.25,0.08-0.46,0.25-0.63c0.17-0.16,0.37-0.24,0.6-0.24h5.42c0.74,0,1.37,0.26,1.89,0.79
	c0.52,0.53,0.78,1.16,0.78,1.9c0,0.74-0.26,1.38-0.78,1.9c-0.52,0.52-1.15,0.78-1.89,0.78s-1.38-0.26-1.9-0.79
	c-0.16-0.16-0.23-0.36-0.23-0.6c0-0.24,0.08-0.45,0.23-0.6c0.15-0.16,0.35-0.24,0.6-0.24c0.23,0,0.43,0.08,0.61,0.24
	c0.2,0.19,0.43,0.29,0.69,0.29s0.49-0.1,0.68-0.29c0.19-0.19,0.29-0.42,0.29-0.7c0-0.26-0.1-0.49-0.29-0.68s-0.42-0.29-0.68-0.29
	H4.47c-0.23,0-0.43-0.08-0.6-0.25S3.62,21.25,3.62,21.01z M3.62,17.97c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.37-0.24,0.6-0.24
	h10.55c0.26,0,0.49-0.1,0.68-0.29c0.19-0.19,0.29-0.43,0.29-0.69s-0.1-0.5-0.29-0.69c-0.19-0.19-0.42-0.29-0.68-0.29
	c-0.28,0-0.5,0.09-0.68,0.28c-0.18,0.15-0.39,0.23-0.64,0.23c-0.24,0-0.44-0.08-0.6-0.23c-0.15-0.15-0.23-0.35-0.23-0.6
	c0-0.25,0.07-0.45,0.23-0.61c0.51-0.51,1.15-0.76,1.92-0.76c0.74,0,1.38,0.26,1.9,0.78c0.52,0.52,0.78,1.15,0.78,1.88
	s-0.26,1.37-0.78,1.89c-0.52,0.52-1.15,0.78-1.9,0.78H4.47c-0.24,0-0.44-0.08-0.6-0.24C3.7,18.4,3.62,18.2,3.62,17.97z M5.77,15.61
	c0,0.08,0.05,0.12,0.16,0.12h1.44c0.08,0,0.15-0.05,0.22-0.15c0.22-0.54,0.58-0.99,1.05-1.35c0.48-0.36,1.01-0.56,1.59-0.6
	l0.53-0.08c0.13,0,0.2-0.06,0.2-0.17l0.07-0.52c0.11-1.08,0.56-1.99,1.37-2.72s1.76-1.1,2.86-1.1c1.11,0,2.07,0.36,2.88,1.09
	c0.81,0.73,1.27,1.64,1.39,2.73l0.07,0.59c0,0.11,0.06,0.17,0.17,0.17h1.62c0.91,0,1.68,0.32,2.33,0.96c0.65,0.64,0.97,1.4,0.97,2.3
	c0,0.89-0.32,1.66-0.97,2.3c-0.65,0.64-1.42,0.96-2.33,0.96h-6.91c-0.12,0-0.19,0.06-0.19,0.17v1.39c0,0.11,0.06,0.17,0.19,0.17
	h6.91c0.91,0,1.74-0.22,2.51-0.67c0.77-0.44,1.37-1.05,1.82-1.81c0.45-0.77,0.67-1.6,0.67-2.5c0-0.91-0.22-1.74-0.67-2.5
	c-0.45-0.76-1.05-1.37-1.82-1.81c-0.77-0.44-1.6-0.67-2.51-0.67h-0.31c-0.31-1.33-1.01-2.42-2.1-3.27
	c-1.08-0.85-2.33-1.27-3.73-1.27c-1.41,0-2.66,0.44-3.75,1.32s-1.78,2-2.07,3.37c-0.86,0.2-1.62,0.61-2.28,1.23
	s-1.12,1.36-1.38,2.21v0.04C5.77,15.56,5.77,15.58,5.77,15.61z`},child:[]}]})(t)}function jG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(t)}function HG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(t)}function zG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.62,21.05c0-0.24,0.08-0.45,0.25-0.61c0.17-0.16,0.38-0.24,0.63-0.24h18.67c0.25,0,0.45,0.08,0.61,0.24
	c0.16,0.16,0.24,0.36,0.24,0.61c0,0.23-0.08,0.43-0.25,0.58c-0.17,0.16-0.37,0.23-0.6,0.23H3.5c-0.25,0-0.46-0.08-0.63-0.23
	C2.7,21.47,2.62,21.28,2.62,21.05z M5.24,17.91c0-0.24,0.09-0.44,0.26-0.6c0.15-0.15,0.35-0.23,0.59-0.23h18.67
	c0.23,0,0.42,0.08,0.58,0.24c0.16,0.16,0.23,0.35,0.23,0.59c0,0.24-0.08,0.44-0.23,0.6c-0.16,0.17-0.35,0.25-0.58,0.25H6.09
	c-0.24,0-0.44-0.08-0.6-0.25C5.32,18.34,5.24,18.14,5.24,17.91z M5.37,15.52c0,0.09,0.05,0.13,0.15,0.13h1.43
	c0.06,0,0.13-0.05,0.2-0.16c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.55-0.56l0.55-0.07c0.11,0,0.17-0.06,0.17-0.18
	l0.07-0.5c0.11-1.08,0.56-1.98,1.37-2.7c0.81-0.72,1.76-1.08,2.85-1.08c1.08,0,2.02,0.36,2.83,1.07c0.8,0.71,1.26,1.61,1.37,2.68
	l0.08,0.57c0,0.11,0.07,0.17,0.2,0.17h1.59c0.64,0,1.23,0.17,1.76,0.52s0.92,0.8,1.18,1.37c0.07,0.11,0.14,0.16,0.21,0.16h1.43
	c0.12,0,0.17-0.07,0.14-0.23c-0.29-1.02-0.88-1.86-1.74-2.51c-0.87-0.65-1.86-0.97-2.97-0.97h-0.32c-0.33-1.33-1.03-2.42-2.1-3.27
	s-2.28-1.27-3.65-1.27c-1.4,0-2.64,0.44-3.73,1.32s-1.78,2-2.09,3.36c-0.85,0.2-1.6,0.6-2.24,1.21c-0.64,0.61-1.09,1.33-1.34,2.18
	v-0.04C5.37,15.45,5.37,15.48,5.37,15.52z M6.98,24.11c0-0.24,0.09-0.43,0.26-0.59c0.15-0.15,0.35-0.23,0.6-0.23h18.68
	c0.24,0,0.44,0.08,0.6,0.23c0.17,0.16,0.25,0.35,0.25,0.58c0,0.24-0.08,0.44-0.25,0.61c-0.17,0.17-0.37,0.25-0.6,0.25H7.84
	c-0.23,0-0.43-0.09-0.6-0.26C7.07,24.55,6.98,24.34,6.98,24.11z`},child:[]}]})(t)}function VG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.91,14.48c0-0.96,0.19-1.87,0.56-2.75s0.88-1.63,1.51-2.26c0.63-0.63,1.39-1.14,2.27-1.52c0.88-0.38,1.8-0.57,2.75-0.57
	h1.14c0.16,0.04,0.23,0.14,0.23,0.28l0.05,0.88c0.04,1.27,0.49,2.35,1.37,3.24c0.88,0.89,1.94,1.37,3.19,1.42l0.82,0.07
	c0.16,0,0.24,0.08,0.24,0.23v0.98c0.01,1.28-0.3,2.47-0.93,3.56c-0.63,1.09-1.48,1.95-2.57,2.59c-1.08,0.63-2.27,0.95-3.55,0.95
	c-0.97,0-1.9-0.19-2.78-0.56s-1.63-0.88-2.26-1.51c-0.63-0.63-1.13-1.39-1.5-2.26C8.1,16.37,7.91,15.45,7.91,14.48z M9.74,14.48
	c0,0.76,0.15,1.48,0.45,2.16c0.3,0.67,0.7,1.24,1.19,1.7c0.49,0.46,1.05,0.82,1.69,1.08c0.63,0.27,1.28,0.4,1.94,0.4
	c0.58,0,1.17-0.11,1.76-0.34c0.59-0.23,1.14-0.55,1.65-0.96c0.51-0.41,0.94-0.93,1.31-1.57c0.37-0.64,0.6-1.33,0.71-2.09
	c-1.63-0.34-2.94-1.04-3.92-2.1s-1.55-2.3-1.7-3.74C13.86,9.08,13,9.37,12.21,9.9c-0.78,0.53-1.39,1.2-1.82,2.02
	C9.96,12.74,9.74,13.59,9.74,14.48z`},child:[]}]})(t)}function GG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(t)}function YG(t){return Do({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.95c0-1.16,0.35-2.18,1.06-3.08s1.62-1.48,2.74-1.76c0.31-1.36,1.01-2.48,2.1-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.66c0.76,0.44,1.37,1.04,1.81,1.8
	c0.44,0.76,0.67,1.59,0.67,2.48c0,1.32-0.46,2.47-1.39,3.42c-0.92,0.96-2.05,1.46-3.38,1.5c-0.13,0-0.2-0.06-0.2-0.17v-1.33
	c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.38,0.9-2.23c0-0.89-0.32-1.65-0.97-2.3s-1.42-0.97-2.32-0.97h-1.61
	c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.72c-0.82-0.73-1.76-1.1-2.85-1.1c-1.1,0-2.05,0.37-2.86,1.11
	c-0.81,0.74-1.27,1.65-1.37,2.75l-0.06,0.5c0,0.12-0.07,0.19-0.2,0.19l-0.53,0.07c-0.83,0.07-1.53,0.41-2.1,1.04
	s-0.85,1.35-0.85,2.19c0,0.85,0.3,1.59,0.9,2.23s1.33,0.97,2.18,1.02c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17
	c-1.34-0.04-2.47-0.54-3.4-1.5C5.1,19.42,4.64,18.27,4.64,16.95z M11,21.02c0-0.22,0.08-0.42,0.24-0.58
	c0.16-0.16,0.35-0.24,0.59-0.24c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58c0,0.24-0.08,0.44-0.24,0.6
	c-0.16,0.17-0.35,0.25-0.59,0.25c-0.23,0-0.43-0.08-0.59-0.25C11.08,21.46,11,21.26,11,21.02z M11,24.65c0-0.24,0.08-0.44,0.24-0.6
	c0.16-0.15,0.35-0.23,0.58-0.23c0.23,0,0.43,0.08,0.59,0.23c0.16,0.16,0.24,0.35,0.24,0.59c0,0.24-0.08,0.43-0.24,0.59
	c-0.16,0.16-0.35,0.23-0.59,0.23c-0.23,0-0.43-0.08-0.59-0.23C11.08,25.08,11,24.88,11,24.65z M14.19,22.95
	c0-0.23,0.08-0.44,0.25-0.62c0.16-0.16,0.35-0.24,0.57-0.24c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6
	c0,0.23-0.08,0.43-0.25,0.6c-0.17,0.17-0.37,0.25-0.61,0.25c-0.23,0-0.42-0.08-0.58-0.25S14.19,23.18,14.19,22.95z M14.19,19.33
	c0-0.23,0.08-0.43,0.25-0.6c0.18-0.16,0.37-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.36,0.25,0.6
	c0,0.23-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,19.76,14.19,19.56,14.19,19.33z
	 M14.19,26.61c0-0.23,0.08-0.43,0.25-0.61c0.16-0.16,0.35-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.37,0.25,0.6
	s-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,27.03,14.19,26.84,14.19,26.61z
	 M17.41,21.02c0-0.22,0.08-0.41,0.25-0.58c0.17-0.17,0.37-0.25,0.6-0.25c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58
	c0,0.24-0.08,0.44-0.24,0.6c-0.16,0.17-0.35,0.25-0.59,0.25c-0.24,0-0.44-0.08-0.6-0.25C17.5,21.45,17.41,21.25,17.41,21.02z
	 M17.41,24.65c0-0.22,0.08-0.42,0.25-0.6c0.16-0.15,0.36-0.23,0.6-0.23c0.24,0,0.43,0.08,0.59,0.23s0.23,0.35,0.23,0.59
	c0,0.24-0.08,0.43-0.23,0.59c-0.16,0.16-0.35,0.23-0.59,0.23c-0.24,0-0.44-0.08-0.6-0.24C17.5,25.07,17.41,24.88,17.41,24.65z`},child:[]}]})(t)}const WG=({isOpen:t,onClose:e,city:r,flights:n,onFlightClick:a})=>{const[o,c]=ee.useState(!1),[u,d]=ee.useState(null),[h,m]=ee.useState(!1),[y,v]=ee.useState(null),[T,_]=ee.useState(null),[w,b]=ee.useState(!1),[N,R]=ee.useState(null),[S,U]=ee.useState(null),[P,W]=ee.useState(null),[D,q]=ee.useState(!1),[H,fe]=ee.useState(null),[ne,Q]=ee.useState(!1),[ce,Ce]=ee.useState(null),[xe,X]=ee.useState(null),[se,Oe]=ee.useState(!1),[J,M]=ee.useState(null),[K,C]=ee.useState(!1),[z,V]=ee.useState(""),[Y,ae]=ee.useState(!1),Te=ee.useRef(null),Ae=De=>{const et=De.split(" ");let Ge="",Le="",je="",Xe="",ot="";return et.forEach(He=>{if(/^\d{3}\d{2,3}KT$/.test(He)){const ht=He.substring(0,3),We=He.substring(3,He.length-2);Ge=`${ht}° ${We}kt`}else if(/^\d{4}$/.test(He))He==="9999"?Le="10km+":Le=`${He}m`;else if(/^(FEW|SCT|BKN|OVC)\d{3}$/.test(He)){const ht=He.substring(0,3),We=parseInt(He.substring(3))*100;je+=`${{FEW:"Few",SCT:"Scattered",BKN:"Broken",OVC:"Overcast"}[ht]} ${We}ft `}else if(/^\d{2}\/\d{2}$/.test(He)){const ht=He.split("/")[0],We=He.split("/")[1];Xe=`${ht}°C / ${We}°C`}else/^Q\d{4}$/.test(He)&&(ot=`${He.substring(1)} hPa`)}),{wind:Ge,visibility:Le,clouds:je.trim(),temp:Xe,pressure:ot}},be=De=>{const et=De.split(" ");let Ge="",Le="",je="",Xe="",ot="";return et.forEach((He,ht)=>{if(/^\d{3}\d{2,3}KT$/.test(He)){const We=He.substring(0,3),nt=He.substring(3,He.length-2);Ge=`${We}° ${nt}kt`}else if(/^\d{4}$/.test(He))He==="9999"?Le="10km+":Le=`${He}m`;else if(/^(FEW|SCT|BKN|OVC)\d{3}$/.test(He)){const We=He.substring(0,3),nt=parseInt(He.substring(3))*100;je+=`${{FEW:"Few",SCT:"Scattered",BKN:"Broken",OVC:"Overcast"}[We]} ${nt}ft `}else if(/^TX\d{2}\/\d{4}Z$/.test(He)){const We=He.substring(2,4),nt=He.substring(5,7),Qe=He.substring(7,9);Xe=`${We}°C (${nt} ${Qe}00)`}else if(/^TN\d{2}\/\d{4}Z$/.test(He)){const We=He.substring(2,4),nt=He.substring(5,7),Qe=He.substring(7,9);ot=`${We}°C (${nt} ${Qe}00)`}}),{wind:Ge,visibility:Le,clouds:je.trim(),maxTemp:Xe,minTemp:ot}},Se=(De,et)=>{try{const Ge=oi(et);if(!Ge)return null;const Le=new Date(De*1e3);return new Date(Le.toLocaleString("en-US",{timeZone:Ge.timezone})).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch(Ge){return console.error("현지시간 변환 오류:",Ge),null}},Je=({icon:De,className:et,size:Ge=""})=>{const Le=Ge==="@4x",je=Le?64:48;return De==="01d"?p.jsx(HG,{size:je,color:"#f59e0b"}):De==="01n"?p.jsx(VG,{size:je,color:"#60a5fa"}):De.startsWith("02")?p.jsx(jG,{size:je,color:"#9ca3af"}):De.startsWith("03")||De.startsWith("04")?p.jsx(BG,{size:je,color:"#6b7280"}):De.startsWith("09")||De.startsWith("10")?p.jsx(GG,{size:je,color:"#3b82f6"}):De.startsWith("11")?p.jsx(kG,{className:`${et} text-yellow-500 dark:text-yellow-400 ${Le?"w-16 h-16 sm:w-24 sm:h-24":"w-12 h-12"}`}):De.startsWith("13")?p.jsx(YG,{size:je,color:"#93c5fd"}):De.startsWith("50")?p.jsx(zG,{size:je,color:"#6b7280"}):p.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-1 ${et}`,children:p.jsx("img",{src:`https://openweathermap.org/img/wn/${De}${Ge}.png`,alt:"weather icon",className:"w-full h-full"})})},j="0bd6961a7147dd577607789285c3a30c",Tt="0b2ff44a840748d48e8edb039bb181a1",ut=De=>j6(De)||De,pt=De=>H6(De)||De,$e=De=>z6(De)||"USD",we=De=>{ae(!0),Te.current&&clearTimeout(Te.current),Te.current=setTimeout(()=>{ae(!1)},1e3)};if(ee.useEffect(()=>{o&&r&&!u&&(async()=>{m(!0),v(null);const et=pt(r);try{const Ge=localStorage.getItem(`weather_${r}`);if(Ge){const{data:Le,timestamp:je}=JSON.parse(Ge);if(Date.now()-je<18e5){d(Le),m(!1);return}}if(_s.getStatus().isOnline){const Le=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${et}&appid=${j}&units=metric`);if(!Le.ok){const Xe=await Le.json();throw new Error(Xe.message||"날씨 정보를 가져올 수 없습니다.")}const je=await Le.json();d(je),localStorage.setItem(`weather_${r}`,JSON.stringify({data:je,timestamp:Date.now()}))}else if(Ge){const{data:Le}=JSON.parse(Ge);d(Le),v("오프라인 모드: 캐시된 데이터를 표시합니다.")}else v("오프라인 상태에서 캐시된 날씨 정보가 없습니다.")}catch{const Le=localStorage.getItem(`weather_${r}`);if(Le&&!_s.getStatus().isOnline){const{data:je}=JSON.parse(Le);d(je),v("오프라인 모드: 캐시된 데이터를 표시합니다.")}else v("날씨 정보를 불러오는 데 실패했습니다.")}finally{m(!1)}})()},[o,r,u]),ee.useEffect(()=>{o&&r&&!S&&!H&&(async()=>{q(!0),fe(null);const et=pt(r);try{const Ge=localStorage.getItem(`forecast_${r}`);if(Ge){const{data:Le,timestamp:je}=JSON.parse(Ge);if(Date.now()-je<18e5){const Xe=oi(r);if(Le.next24hForecast&&Xe){const ot=Le.next24hForecast.map(He=>{const ht=new Date(He.dt*1e3).toLocaleString("en-US",{timeZone:Xe.timezone}),We=new Date(ht).getHours();return{...He,time:We+"시"}});W(ot)}else W(Le.next24hForecast);U(Le.processedForecast),q(!1);return}}if(_s.getStatus().isOnline){const Le=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${et}&appid=${j}&units=metric`);if(!Le.ok)throw new Error("예보 정보를 가져올 수 없습니다.");const je=await Le.json(),Xe=je.list.slice(0,8).map(We=>{const nt=oi(r),Qe=nt?new Date(We.dt*1e3).toLocaleString("en-US",{timeZone:nt.timezone}):new Date(We.dt*1e3);return{time:new Date(Qe).getHours()+"시",icon:We.weather[0].icon,temp:Math.round(We.main.temp),dt:We.dt}});W(Xe);const ot={},He=new Date().toISOString().split("T")[0];je.list.forEach(We=>{const nt=We.dt_txt.split(" ")[0];nt!==He&&(ot[nt]||(ot[nt]={temps:[]}),ot[nt].temps.push(We.main.temp),We.dt_txt.includes("12:00:00")&&(ot[nt].icon=We.weather[0].icon))});const ht=Object.keys(ot).slice(0,5).map(We=>{const nt=ot[We];return{date:We,day:new Date(We).toLocaleDateString("ko-KR",{weekday:"short"}),minTemp:Math.round(Math.min(...nt.temps)),maxTemp:Math.round(Math.max(...nt.temps)),icon:nt.icon||je.list.find(Qe=>Qe.dt_txt.startsWith(We)).weather[0].icon}});U(ht),localStorage.setItem(`forecast_${r}`,JSON.stringify({data:{processedForecast:ht,next24hForecast:Xe},timestamp:Date.now()}))}else if(Ge){const{data:Le}=JSON.parse(Ge),je=oi(r);if(Le.next24hForecast&&je){const Xe=Le.next24hForecast.map(ot=>{if(ot.dt){const He=new Date(ot.dt*1e3).toLocaleString("en-US",{timeZone:je.timezone}),ht=new Date(He).getHours();return{...ot,time:ht+"시"}}return ot});W(Xe)}else W(Le.next24hForecast);U(Le.processedForecast),fe("오프라인 모드: 캐시된 데이터를 표시합니다.")}else fe("오프라인 상태에서 캐시된 예보 정보가 없습니다.")}catch(Ge){const Le=localStorage.getItem(`forecast_${r}`);if(Le&&!_s.getStatus().isOnline){const{data:je}=JSON.parse(Le),Xe=oi(r);if(je.next24hForecast&&Xe){const ot=je.next24hForecast.map(He=>{if(He.dt){const ht=new Date(He.dt*1e3).toLocaleString("en-US",{timeZone:Xe.timezone}),We=new Date(ht).getHours();return{...He,time:We+"시"}}return He});W(ot)}else W(je.next24hForecast);U(je.processedForecast),fe("오프라인 모드: 캐시된 데이터를 표시합니다.")}else fe("예보 정보 로딩 실패"),console.error(Ge)}finally{q(!1)}})()},[o,r,S,H]),ee.useEffect(()=>{ne&&r&&!ce&&!xe&&(async()=>{Oe(!0),M(null);const et=ut(r);try{const Ge=localStorage.getItem(`metar_${r}`),Le=localStorage.getItem(`taf_${r}`);if(Ge&&Le){const{data:je,timestamp:Xe}=JSON.parse(Ge),{data:ot,timestamp:He}=JSON.parse(Le);if(Date.now()-Xe<9e5&&Date.now()-He<9e5){Ce(je),X(ot),Oe(!1);return}}if(_s.getStatus().isOnline){const je=await fetch(`https://api.checkwx.com/metar/${et}/decoded`,{headers:{"X-API-Key":Tt}});if(!je.ok)throw new Error("METAR 정보를 가져올 수 없습니다.");const Xe=await je.json(),ot=Xe.data.length>0?Xe.data[0].raw_text:"METAR 정보 없음";Ce(ot),localStorage.setItem(`metar_${r}`,JSON.stringify({data:ot,timestamp:Date.now()}));const He=await fetch(`https://api.checkwx.com/taf/${et}/decoded`,{headers:{"X-API-Key":Tt}});if(!He.ok)throw new Error("TAF 정보를 가져올 수 없습니다.");const ht=await He.json(),We=ht.data.length>0?ht.data[0].raw_text:"TAF 정보 없음";X(We),localStorage.setItem(`taf_${r}`,JSON.stringify({data:We,timestamp:Date.now()}))}else if(Ge&&Le){const{data:je}=JSON.parse(Ge),{data:Xe}=JSON.parse(Le);Ce(je),X(Xe),M("오프라인 모드: 캐시된 데이터를 표시합니다.")}else M("오프라인 상태에서 캐시된 METAR/TAF 정보가 없습니다.")}catch{const Le=localStorage.getItem(`metar_${r}`),je=localStorage.getItem(`taf_${r}`);if(Le&&je&&!_s.getStatus().isOnline){const{data:Xe}=JSON.parse(Le),{data:ot}=JSON.parse(je);Ce(Xe),X(ot),M("오프라인 모드: 캐시된 데이터를 표시합니다.")}else M("METAR/TAF 정보를 불러올 수 없습니다. (오프라인 또는 서버 오류)")}finally{Oe(!1)}})()},[ne,r,ce,xe]),ee.useEffect(()=>{o&&r&&!T&&!N&&(async()=>{const et=$e(r);if(et!=="KRW"){b(!0),R(null);try{const Ge=localStorage.getItem(`exchange_${r}`);if(Ge){const{data:Le,timestamp:je}=JSON.parse(Ge);if(Date.now()-je<36e5){_(Le),b(!1);return}}if(_s.getStatus().isOnline){const Le=await fetch(Y6(et));if(!Le.ok)throw new Error("환율 정보를 가져올 수 없습니다.");const je=await Le.json();if(je.result==="success"){const Xe=`1 ${et} ≈ ${Math.round(je.conversion_rate).toLocaleString("ko-KR")} KRW`;_(Xe),localStorage.setItem(`exchange_${r}`,JSON.stringify({data:Xe,timestamp:Date.now()}))}else throw new Error(je["error-type"]||"환율 API 오류")}else if(Ge){const{data:Le}=JSON.parse(Ge);_(Le),R("오프라인 모드: 캐시된 데이터를 표시합니다.")}else R("오프라인 상태에서 캐시된 환율 정보가 없습니다.")}catch(Ge){const Le=localStorage.getItem(`exchange_${r}`);if(Le&&!_s.getStatus().isOnline){const{data:je}=JSON.parse(Le);_(je),R("오프라인 모드: 캐시된 데이터를 표시합니다.")}else R("환율 정보 로딩 실패"),console.error(Ge)}finally{b(!1)}}})()},[o,r]),ee.useEffect(()=>{t||(c(!1),d(null),_(null),R(null),U(null),fe(null),W(null),Q(!1),Ce(null),X(null),M(null),C(!1))},[t]),ee.useEffect(()=>{let De;const et=()=>{const Ge=new Date,Le=Ge.getUTCDate().toString().padStart(2,"0"),je=Ge.getUTCHours().toString().padStart(2,"0"),Xe=Ge.getUTCMinutes().toString().padStart(2,"0");V(`${Le} ${je}${Xe}Z`)};return ne&&(et(),De=setInterval(et,6e4)),()=>{De&&clearInterval(De)}},[ne]),!t||!r)return null;const ft=[...n].sort((De,et)=>new Date(et.date).getTime()-new Date(De.date).getTime());return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[90] p-4",onClick:e,children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in-up",onClick:De=>De.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:p.jsx(Ci,{className:"w-6 h-6"})}),p.jsx("div",{className:"mb-4",children:p.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[p.jsxs("span",{children:[r," 정보 ",r&&W6(r)||"(UTC)"]}),p.jsx("button",{onClick:()=>c(!o),title:"날씨 정보 보기/숨기기",className:"ml-2",children:p.jsx(J6,{className:"w-5 h-5 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors"})}),p.jsx("button",{onClick:()=>Q(!ne),title:"METAR/TAF 정보 보기/숨기기",className:"ml-2",children:p.jsx(eD,{className:"w-5 h-5 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors"})})]})}),p.jsxs("div",{className:`max-h-[70vh] overflow-y-auto ${Y?"scrollbar-show":"scrollbar-hide"}`,onScroll:we,children:[ne&&p.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:"METAR / TAF"}),(ce||xe)&&p.jsx("button",{onClick:()=>C(!K),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:K?"RAW":"DECODE"})]}),z&&p.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:z})]}),se&&p.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"METAR/TAF 정보를 불러오는 중..."}),J&&p.jsx("p",{className:"text-red-500 dark:text-red-400 text-center text-sm",children:J}),(ce||xe)&&p.jsx("div",{className:"space-y-2 text-xs bg-gray-100 dark:bg-gray-900/50 p-3 rounded text-gray-800 dark:text-gray-300",children:K?p.jsxs("div",{className:"space-y-4",children:[ce&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-2",children:"METAR"}),p.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:(()=>{const De=Ae(ce);return p.jsxs(p.Fragment,{children:[De.wind&&p.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Wind:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.wind})]}),De.visibility&&p.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visibility:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.visibility})]}),De.temp&&p.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Temp/Dew:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.temp})]}),De.pressure&&p.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pressure:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.pressure})]}),De.clouds&&p.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded col-span-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Clouds:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.clouds})]})]})})()})]}),xe&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400 mb-2",children:"TAF"}),p.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:(()=>{const De=be(xe);return p.jsxs(p.Fragment,{children:[De.wind&&p.jsxs("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Wind:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.wind})]}),De.visibility&&p.jsxs("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visibility:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.visibility})]}),De.maxTemp&&p.jsxs("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Temp:"}),p.jsx("span",{className:"ml-1 font-semibold break-words",children:De.maxTemp})]}),De.minTemp&&p.jsxs("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Min Temp:"}),p.jsx("span",{className:"ml-1 font-semibold break-words",children:De.minTemp})]}),De.clouds&&p.jsxs("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded col-span-2",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Clouds:"}),p.jsx("span",{className:"ml-1 font-semibold",children:De.clouds})]})]})})()})]})]}):p.jsxs("div",{className:"font-mono text-base",children:[ce&&p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold",children:"METAR:"}),p.jsx("br",{}),p.jsx("span",{className:"break-all",children:ce})]}),xe&&p.jsxs("div",{className:"mt-3",children:[p.jsx("span",{className:"font-semibold",children:"TAF:"}),p.jsx("br",{}),p.jsx("span",{className:"break-all whitespace-pre-line",children:xe.replace(/BECMG/g,`
BECMG`).replace(/FM/g,`
FM`).replace(/TEMPO/g,`
TEMPO`)})]})]})})]}),o&&p.jsxs("div",{className:"mb-4 p-4 bg-gray-100 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 relative",children:[h&&p.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"날씨 정보를 불러오는 중..."}),y&&p.jsx("p",{className:"text-red-500 dark:text-red-400 text-center",children:y}),u&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`flex items-center text-center space-x-2 sm:space-x-4 ${window.innerWidth>=400?"justify-center":"justify-end"}`,children:[p.jsx(Je,{icon:u.weather[0].icon,size:"@4x",className:"w-20 h-20 sm:w-32 sm:h-32 -my-2 sm:-my-4"}),p.jsxs("div",{className:`${window.innerWidth>=400?"text-center":"text-right"}`,children:[p.jsxs("p",{className:"text-3xl sm:text-5xl font-bold dark:text-gray-100",children:[Math.round(u.main.temp),"°C"]}),p.jsx("p",{className:"text-sm sm:text-lg text-gray-600 dark:text-gray-400 capitalize",children:u.weather[0].description})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[p.jsxs("div",{className:"bg-gray-200 dark:bg-gray-900/50 p-2 rounded-lg",children:[p.jsx("p",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"체감"}),p.jsxs("p",{className:"text-lg font-bold dark:text-gray-200",children:[Math.round(u.main.feels_like),"°C"]})]}),p.jsxs("div",{className:"bg-gray-200 dark:bg-gray-900/50 p-2 rounded-lg",children:[p.jsx("p",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"최저/최고"}),p.jsxs("p",{className:"text-lg font-bold dark:text-gray-200",children:[Math.round(u.main.temp_min),"°/",Math.round(u.main.temp_max),"°"]})]}),p.jsxs("div",{className:"bg-gray-200 dark:bg-gray-900/50 p-2 rounded-lg",children:[p.jsx("p",{className:"font-semibold text-gray-500 dark:text-gray-400",children:"습도"}),p.jsxs("p",{className:"text-lg font-bold dark:text-gray-200",children:[u.main.humidity,"%"]})]})]}),p.jsxs("div",{className:"absolute top-2 left-2 flex flex-col space-y-1 text-xs",children:[p.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 dark:bg-orange-900/30 px-2 py-1 rounded-md border border-orange-200 dark:border-orange-800",children:[p.jsx(IG,{className:"w-3 h-3 text-orange-500"}),p.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-medium",children:Se(u.sys.sunrise,r)||new Date(u.sys.sunrise*1e3).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})})]}),p.jsxs("div",{className:"flex items-center space-x-1 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-md border border-purple-200 dark:border-purple-800",children:[p.jsx(NG,{className:"w-3 h-3 text-purple-500"}),p.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-medium",children:Se(u.sys.sunset,r)||new Date(u.sys.sunset*1e3).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})})]})]})]}),(D||H||P)&&p.jsxs("div",{className:"hidden md:block mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[D&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"시간별 예보 로딩 중..."}),H&&!D&&p.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 text-center",children:H}),P&&p.jsx("div",{className:"flex justify-around text-center",children:P.map((De,et)=>p.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[p.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:De.time}),p.jsx(Je,{icon:De.icon,className:"w-8 h-8"}),p.jsxs("p",{className:"text-xs text-gray-800 dark:text-gray-200 font-bold",children:[De.temp,"°"]})]},et))})]}),(D||H||S)&&p.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[D&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"주간 예보 로딩 중..."}),H&&!D&&p.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 text-center",children:H}),S&&p.jsx("div",{className:"flex justify-around text-center",children:S.map(De=>p.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[p.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:De.day}),p.jsx(Je,{icon:De.icon,className:"w-8 h-8"}),p.jsxs("p",{className:"text-xs text-gray-800 dark:text-gray-200",children:[p.jsxs("span",{className:"font-bold",children:[De.maxTemp,"°"]}),p.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-1",children:[De.minTemp,"°"]})]})]},De.date))})]}),$e(r)&&$e(r)!=="KRW"&&p.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 text-center",children:[w&&p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"환율 정보 로딩 중..."}),N&&p.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:N}),T&&p.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-semibold",children:T})]})]})]}),p.jsx("div",{children:ft.length>0?p.jsx("ul",{className:"space-y-3",children:ft.map(De=>p.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>a(De),children:[p.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:De.date}),p.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400",children:[De.flightNumber,"편: ",De.route.replace("/"," → ")]})]},De.id))}):p.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"관련 비행 기록이 없습니다."})})]})]})})},$G=[{iata:"KE",icao:"KAL",name:"Korean Air",koreanName:"대한항공",callsign:"KOREAN AIR",country:"대한민국"},{iata:"OZ",icao:"AAR",name:"Asiana Airlines",koreanName:"아시아나항공",callsign:"ASIANA",country:"대한민국"},{iata:"7C",icao:"JJA",name:"Jeju Air",koreanName:"제주항공",callsign:"JEJU AIR",country:"대한민국"},{iata:"TW",icao:"TWB",name:"T'way Air",koreanName:"티웨이항공",callsign:"TEEWAY",country:"대한민국"},{iata:"BX",icao:"ABL",name:"Air Busan",koreanName:"에어부산",callsign:"AIR BUSAN",country:"대한민국"},{iata:"ZE",icao:"ESR",name:"Eastar Jet",koreanName:"이스타항공",callsign:"EASTAR",country:"대한민국"},{iata:"LJ",icao:"JNA",name:"Jin Air",koreanName:"진에어",callsign:"JIN AIR",country:"대한민국"},{iata:"RS",icao:"ASV",name:"Air Seoul",koreanName:"에어서울",callsign:"AIR SEOUL",country:"대한민국"},{iata:"YP",icao:"APZ",name:"Air Premia",koreanName:"에어프레미아",callsign:"AIR PREMIA",country:"대한민국"},{iata:"RF",icao:"EOK",name:"Aerokorea",koreanName:"에어로케이항공",callsign:"AEROHANGUK",country:"대한민국"},{iata:"NH",icao:"ANA",name:"All Nippon Airways",koreanName:"전일본공수",callsign:"ALL NIPPON",country:"일본"},{iata:"JL",icao:"JAL",name:"Japan Airlines",koreanName:"일본항공",callsign:"JAPANAIR",country:"일본"},{iata:"MM",icao:"APJ",name:"Peach Aviation",koreanName:"피치항공",callsign:"AIR PEACH",country:"일본"},{iata:"GK",icao:"JJP",name:"Jetstar Japan",koreanName:"제트스타재팬",callsign:"ORANGE LINER",country:"일본"},{iata:"JW",icao:"VNL",name:"Vanilla Air",koreanName:"바닐라에어",callsign:"VANILLA",country:"일본"},{iata:"NQ",icao:"AJX",name:"Air Japan",koreanName:"에어재팬",callsign:"AIR JAPAN",country:"일본"},{iata:"IJ",icao:"JJP",name:"Spring Airlines Japan",koreanName:"스프링항공재팬",callsign:"J-SPRING",country:"일본"},{iata:"7G",icao:"SFJ",name:"Star Flyer",koreanName:"스타플라이어",callsign:"STARFLYER",country:"일본"},{iata:"HD",icao:"ADO",name:"Air Do",koreanName:"에어도",callsign:"AIR DO",country:"일본"},{iata:"BC",icao:"SKY",name:"Skymark Airlines",koreanName:"스카이마크항공",callsign:"SKYMARK",country:"일본"},{iata:"JD",icao:"CBJ",name:"Japan Air Commuter",koreanName:"일본에어커뮤터",callsign:"COMMUTER",country:"일본"},{iata:"ZG",icao:"TZP",name:"ZIPAIR Tokyo",koreanName:"집에어도쿄",callsign:"ZIPPY",country:"일본"},{iata:"CA",icao:"CCA",name:"Air China",koreanName:"중국국제항공",callsign:"AIR CHINA",country:"중국"},{iata:"OKA",icao:"OKA",name:"Okay Airways",koreanName:"오케이항공",callsign:"OKAYJET",country:"중국"},{iata:"MU",icao:"CES",name:"China Eastern Airlines",koreanName:"중국동방항공",callsign:"CHINA EASTERN",country:"중국"},{iata:"CZ",icao:"CSN",name:"China Southern Airlines",koreanName:"중국남방항공",callsign:"CHINA SOUTHERN",country:"중국"},{iata:"HU",icao:"CHH",name:"Hainan Airlines",koreanName:"하이난항공",callsign:"HAINAN",country:"중국"},{iata:"3U",icao:"CSC",name:"Sichuan Airlines",koreanName:"사천항공",callsign:"SI CHUAN",country:"중국"},{iata:"MF",icao:"CXA",name:"Xiamen Airlines",koreanName:"하문항공",callsign:"XIAMEN AIR",country:"중국"},{iata:"GS",icao:"GCR",name:"Tianjin Airlines",koreanName:"천진항공",callsign:"BO HAI",country:"중국"},{iata:"9C",icao:"CQH",name:"Spring Airlines",koreanName:"춘추항공",callsign:"AIR SPRING",country:"중국"},{iata:"KN",icao:"CUA",name:"China United Airlines",koreanName:"중국연합항공",callsign:"LIANHANG",country:"중국"},{iata:"PN",icao:"CHB",name:"West Air",koreanName:"서부항공",callsign:"WEST CHINA",country:"중국"},{iata:"BR",icao:"EVA",name:"EVA Air",koreanName:"에바항공",callsign:"EVA",country:"대만"},{iata:"CI",icao:"CAL",name:"China Airlines",koreanName:"중화항공",callsign:"DYNASTY",country:"대만"},{iata:"IT",icao:"TTW",name:"Tigerair Taiwan",koreanName:"타이거에어대만",callsign:"SMART CAT",country:"대만"},{iata:"JX",icao:"SJX",name:"Starlux Airlines",koreanName:"스타룩스항공",callsign:"STARWALKER",country:"대만"},{iata:"SQ",icao:"SIA",name:"Singapore Airlines",koreanName:"싱가포르항공",callsign:"SINGAPORE",country:"싱가포르"},{iata:"MI",icao:"SLK",name:"SilkAir",koreanName:"실크에어",callsign:"SILKAIR",country:"싱가포르"},{iata:"TR",icao:"TGW",name:"Scoot",koreanName:"스쿠트",callsign:"SCOOTER",country:"싱가포르"},{iata:"TG",icao:"THA",name:"Thai Airways International",koreanName:"타이항공",callsign:"THAI",country:"태국"},{iata:"FD",icao:"AIQ",name:"Thai AirAsia",koreanName:"타이에어아시아",callsign:"THAI ASIA",country:"태국"},{iata:"WE",icao:"THD",name:"Thai Smile",koreanName:"타이스마일",callsign:"THAI SMILE",country:"태국"},{iata:"SL",icao:"THM",name:"Thai Lion Air",koreanName:"타이라이언에어",callsign:"MENTARI",country:"태국"},{iata:"VN",icao:"HVN",name:"Vietnam Airlines",koreanName:"베트남항공",callsign:"VIET NAM AIRLINES",country:"베트남"},{iata:"VJ",icao:"VJC",name:"VietJet Air",koreanName:"비엣젯에어",callsign:"VIETJET",country:"베트남"},{iata:"BL",icao:"PAV",name:"Pacific Airlines",koreanName:"퍼시픽항공",callsign:"PACIFIC",country:"베트남"},{iata:"QH",icao:"BAV",name:"Bamboo Airways",koreanName:"밤부항공",callsign:"BAMBOO",country:"베트남"},{iata:"AK",icao:"AXM",name:"AirAsia",koreanName:"에어아시아",callsign:"RED CAP",country:"말레이시아"},{iata:"MH",icao:"MAS",name:"Malaysia Airlines",koreanName:"말레이시아항공",callsign:"MALAYSIAN",country:"말레이시아"},{iata:"D7",icao:"XAX",name:"AirAsia X",koreanName:"에어아시아X",callsign:"XANADU",country:"말레이시아"},{iata:"OD",icao:"MXD",name:"Malindo Air",koreanName:"말린도항공",callsign:"MALINDO",country:"말레이시아"},{iata:"GA",icao:"GIA",name:"Garuda Indonesia",koreanName:"가루다인도네시아",callsign:"INDONESIA",country:"인도네시아"},{iata:"JT",icao:"LNI",name:"Lion Air",koreanName:"라이온에어",callsign:"LION INTER",country:"인도네시아"},{iata:"SJ",icao:"SJY",name:"Sriwijaya Air",koreanName:"스리위자야항공",callsign:"SRIWIJAYA",country:"인도네시아"},{iata:"QG",icao:"CTV",name:"Citilink",koreanName:"시틀링크",callsign:"SUPERGREEN",country:"인도네시아"},{iata:"PR",icao:"PAL",name:"Philippine Airlines",koreanName:"필리핀항공",callsign:"PHILIPPINE",country:"필리핀"},{iata:"5J",icao:"CEB",name:"Cebu Pacific",koreanName:"세부퍼시픽",callsign:"CEBU",country:"필리핀"},{iata:"DG",icao:"SRQ",name:"Cebgo",koreanName:"세브고",callsign:"BLUE JAY",country:"필리핀"},{iata:"Z2",icao:"EZD",name:"AirAsia Zest",koreanName:"에어아시아제스트",callsign:"ZEST",country:"필리핀"},{iata:"6E",icao:"IGO",name:"IndiGo",koreanName:"인디고",callsign:"IFLY",country:"인도"},{iata:"AI",icao:"AIC",name:"Air India",koreanName:"에어인디아",callsign:"AIRINDIA",country:"인도"},{iata:"9W",icao:"JAI",name:"Jet Airways",koreanName:"제트항공",callsign:"JET AIRWAYS",country:"인도"},{iata:"SG",icao:"SEJ",name:"SpiceJet",koreanName:"스파이스젯",callsign:"SPICEJET",country:"인도"},{iata:"UK",icao:"VTI",name:"Vistara",koreanName:"비스타라",callsign:"VISTARA",country:"인도"},{iata:"I5",icao:"IAD",name:"AirAsia India",koreanName:"에어아시아인디아",callsign:"RED KNIGHT",country:"인도"},{iata:"AA",icao:"AAL",name:"American Airlines",koreanName:"아메리칸항공",callsign:"AMERICAN",country:"미국"},{iata:"DL",icao:"DAL",name:"Delta Air Lines",koreanName:"델타항공",callsign:"DELTA",country:"미국"},{iata:"UA",icao:"UAL",name:"United Airlines",koreanName:"유나이티드항공",callsign:"UNITED",country:"미국"},{iata:"WN",icao:"SWA",name:"Southwest Airlines",koreanName:"사우스웨스트항공",callsign:"SOUTHWEST",country:"미국"},{iata:"B6",icao:"JBU",name:"JetBlue Airways",koreanName:"제트블루항공",callsign:"JETBLUE",country:"미국"},{iata:"AS",icao:"ASA",name:"Alaska Airlines",koreanName:"알래스카항공",callsign:"ALASKA",country:"미국"},{iata:"NK",icao:"NKS",name:"Spirit Airlines",koreanName:"스피릿항공",callsign:"SPIRIT WINGS",country:"미국"},{iata:"F9",icao:"FFT",name:"Frontier Airlines",koreanName:"프론티어항공",callsign:"FRONTIER FLIGHT",country:"미국"},{iata:"HA",icao:"HAL",name:"Hawaiian Airlines",koreanName:"하와이안항공",callsign:"HAWAIIAN",country:"미국"},{iata:"VX",icao:"VRD",name:"Virgin America",koreanName:"버진아메리카",callsign:"REDWOOD",country:"미국"},{iata:"SY",icao:"SCX",name:"Sun Country Airlines",koreanName:"선컨트리항공",callsign:"SUN COUNTRY",country:"미국"},{iata:"AC",icao:"ACA",name:"Air Canada",koreanName:"에어캐나다",callsign:"AIR CANADA",country:"캐나다"},{iata:"WS",icao:"WJA",name:"WestJet",koreanName:"웨스트젯",callsign:"WESTJET",country:"캐나다"},{iata:"PD",icao:"POE",name:"Porter Airlines",koreanName:"포터항공",callsign:"PORTER",country:"캐나다"},{iata:"F8",icao:"FLE",name:"Flair Airlines",koreanName:"플레어항공",callsign:"FLAIR",country:"캐나다"},{iata:"TS",icao:"TSC",name:"Air Transat",koreanName:"에어트랜샛",callsign:"TRANSAT",country:"캐나다"},{iata:"BA",icao:"BAW",name:"British Airways",koreanName:"브리티시항공",callsign:"SPEEDBIRD",country:"영국"},{iata:"VS",icao:"VIR",name:"Virgin Atlantic",koreanName:"버진애틀랜틱",callsign:"VIRGIN",country:"영국"},{iata:"U2",icao:"EZY",name:"easyJet",koreanName:"이지젯",callsign:"EASY",country:"영국"},{iata:"TUI",icao:"TOM",name:"TUI Airways",koreanName:"TUI항공",callsign:"TOMCAT",country:"영국"},{iata:"LH",icao:"DLH",name:"Lufthansa",koreanName:"루프트한자",callsign:"LUFTHANSA",country:"독일"},{iata:"EW",icao:"EWG",name:"Eurowings",koreanName:"유로윙스",callsign:"EUROWINGS",country:"독일"},{iata:"AB",icao:"BER",name:"Air Berlin",koreanName:"에어베를린",callsign:"AIR BERLIN",country:"독일"},{iata:"DE",icao:"CFG",name:"Condor",koreanName:"콘도르",callsign:"CONDOR",country:"독일"},{iata:"AF",icao:"AFR",name:"Air France",koreanName:"에어프랑스",callsign:"AIRFRANS",country:"프랑스"},{iata:"A5",icao:"AIG",name:"Aigle Azur",koreanName:"에글아주르",callsign:"AIGLE AZUR",country:"프랑스"},{iata:"AZ",icao:"ITY",name:"ITA Airways",koreanName:"ITA항공",callsign:"ITARROW",country:"이탈리아"},{iata:"FR",icao:"RYR",name:"Ryanair",koreanName:"라이언에어",callsign:"RYANAIR",country:"아일랜드"},{iata:"EI",icao:"EIN",name:"Aer Lingus",koreanName:"에어링구스",callsign:"SHAMROCK",country:"아일랜드"},{iata:"WX",icao:"BCS",name:"CityJet",koreanName:"시티젯",callsign:"CITYJET",country:"아일랜드"},{iata:"KL",icao:"KLM",name:"KLM Royal Dutch Airlines",koreanName:"KLM네덜란드항공",callsign:"KLM",country:"네덜란드"},{iata:"HV",icao:"TRA",name:"Transavia",koreanName:"트랜스아비아",callsign:"TRANSAVIA",country:"네덜란드"},{iata:"IB",icao:"IBE",name:"Iberia",koreanName:"이베리아항공",callsign:"IBERIA",country:"스페인"},{iata:"UX",icao:"AEA",name:"Air Europa",koreanName:"에어유로파",callsign:"EUROPA",country:"스페인"},{iata:"VY",icao:"VLG",name:"Vueling",koreanName:"뷰링",callsign:"VUELING",country:"스페인"},{iata:"LX",icao:"SWR",name:"Swiss International Air Lines",koreanName:"스위스국제항공",callsign:"SWISS",country:"스위스"},{iata:"OS",icao:"AUA",name:"Austrian Airlines",koreanName:"오스트리아항공",callsign:"AUSTRIAN",country:"오스트리아"},{iata:"SK",icao:"SAS",name:"Scandinavian Airlines",koreanName:"스칸디나비아항공",callsign:"SCANDINAVIAN",country:"스웨덴"},{iata:"DY",icao:"NAX",name:"Norwegian Air Shuttle",koreanName:"노르웨이언에어셔틀",callsign:"NOR SHUTTLE",country:"노르웨이"},{iata:"AY",icao:"FIN",name:"Finnair",koreanName:"핀에어",callsign:"FINNAIR",country:"핀란드"},{iata:"LO",icao:"LOT",name:"LOT Polish Airlines",koreanName:"LOT폴란드항공",callsign:"POLLOT",country:"폴란드"},{iata:"OK",icao:"CSA",name:"Czech Airlines",koreanName:"체코항공",callsign:"CSA",country:"체코"},{iata:"SU",icao:"AFL",name:"Aeroflot",koreanName:"아에로플로트",callsign:"AEROFLOT",country:"러시아"},{iata:"S7",icao:"SBI",name:"S7 Airlines",koreanName:"S7항공",callsign:"SIBERIAN",country:"러시아"},{iata:"UT",icao:"UTA",name:"UTair Aviation",koreanName:"UT에어항공",callsign:"UTAIR",country:"러시아"},{iata:"U6",icao:"SVR",name:"Ural Airlines",koreanName:"우랄항공",callsign:"SVERDLOVSK AIR",country:"러시아"},{iata:"FV",icao:"SDM",name:"Rossiya Airlines",koreanName:"로시야항공",callsign:"ROSSIYA",country:"러시아"},{iata:"DP",icao:"PBD",name:"Pobeda",koreanName:"포베다",callsign:"POBEDA",country:"러시아"},{iata:"WZ",icao:"WSF",name:"Red Wings Airlines",koreanName:"레드윙스항공",callsign:"RED WINGS",country:"러시아"},{iata:"N4",icao:"NWS",name:"Nordwind Airlines",koreanName:"노드윈드항공",callsign:"NORDWIND",country:"러시아"},{iata:"5N",icao:"AUL",name:"Aeroflot-Nord",koreanName:"아에로플로트노르드",callsign:"DVINA",country:"러시아"},{iata:"D2",icao:"SSF",name:"Severstal Air Company",koreanName:"세베르스탈항공",callsign:"SEVERSTAL",country:"러시아"},{iata:"EK",icao:"UAE",name:"Emirates",koreanName:"에미레이트항공",callsign:"EMIRATES",country:"아랍에미리트"},{iata:"QR",icao:"QTR",name:"Qatar Airways",koreanName:"카타르항공",callsign:"QATARI",country:"카타르"},{iata:"EY",icao:"ETD",name:"Etihad Airways",koreanName:"에티하드항공",callsign:"ETIHAD",country:"아랍에미리트"},{iata:"TK",icao:"THY",name:"Turkish Airlines",koreanName:"터키항공",callsign:"TURKISH",country:"터키"},{iata:"MNG",icao:"MNG",name:"MNG Airlines",koreanName:"MNG항공",callsign:"MNG",country:"터키"},{iata:"MS",icao:"MSR",name:"EgyptAir",koreanName:"이집트항공",callsign:"EGYPTAIR",country:"이집트"},{iata:"SV",icao:"SVA",name:"Saudia",koreanName:"사우디아",callsign:"SAUDIA",country:"사우디아라비아"},{iata:"KU",icao:"KAC",name:"Kuwait Airways",koreanName:"쿠웨이트항공",callsign:"KUWAITI",country:"쿠웨이트"},{iata:"GF",icao:"GFA",name:"Gulf Air",koreanName:"걸프항공",callsign:"GULF AIR",country:"바레인"},{iata:"WY",icao:"OMA",name:"Oman Air",koreanName:"오만항공",callsign:"OMAN AIR",country:"오만"},{iata:"J9",icao:"JZR",name:"Jazeera Airways",koreanName:"자지라항공",callsign:"JAZEERA",country:"쿠웨이트"},{iata:"FZ",icao:"FDB",name:"Flydubai",koreanName:"플라이두바이",callsign:"SKYDUBAI",country:"아랍에미리트"},{iata:"XY",icao:"FNE",name:"flynas",koreanName:"플라이나스",callsign:"NAS EXPRESS",country:"사우디아라비아"},{iata:"QF",icao:"QFA",name:"Qantas",koreanName:"콴타스항공",callsign:"QANTAS",country:"호주"},{iata:"VA",icao:"VOZ",name:"Virgin Australia",koreanName:"버진오스트레일리아",callsign:"VELOCITY",country:"호주"},{iata:"JQ",icao:"JST",name:"Jetstar Airways",koreanName:"제트스타항공",callsign:"JETSTAR",country:"호주"},{iata:"NZ",icao:"ANZ",name:"Air New Zealand",koreanName:"에어뉴질랜드",callsign:"NEW ZEALAND",country:"뉴질랜드"},{iata:"JJ",icao:"TAM",name:"LATAM Brasil",koreanName:"라탐브라질",callsign:"TAM",country:"브라질"},{iata:"LA",icao:"LAN",name:"LATAM Airlines",koreanName:"라탐항공",callsign:"LAN",country:"칠레"},{iata:"AR",icao:"ARG",name:"Aerolíneas Argentinas",koreanName:"아에로리네아스아르헨티나스",callsign:"ARGENTINA",country:"아르헨티나"},{iata:"AV",icao:"AVA",name:"Avianca",koreanName:"아비앙카",callsign:"AVIANCA",country:"콜롬비아"},{iata:"CM",icao:"CMP",name:"Copa Airlines",koreanName:"코파항공",callsign:"COPA",country:"파나마"},{iata:"AM",icao:"AMX",name:"Aeroméxico",koreanName:"아에로멕시코",callsign:"AEROMEXICO",country:"멕시코"},{iata:"5X",icao:"UPS",name:"UPS Airlines",koreanName:"UPS항공",callsign:"UPS",country:"미국"},{iata:"XAX",icao:"XAX",name:"AirAsia X",koreanName:"에어아시아X",callsign:"XANADU",country:"말레이시아"},{iata:"XAX",icao:"XAX",name:"AirAsia X",koreanName:"에어아시아X",callsign:"XANADU",country:"말레이시아"},{iata:"OKA",icao:"OKA",name:"Okay Airways",koreanName:"오케이항공",callsign:"OKAYJET",country:"중국"},{iata:"MMA",icao:"MMA",name:"Myanmar Airways International",koreanName:"미얀마항공",callsign:"MYANMAR",country:"미얀마"},{iata:"MML",icao:"MML",name:"Myanmar National Airlines",koreanName:"미얀마국영항공",callsign:"MYANMAR",country:"미얀마"},{iata:"MNG",icao:"MNG",name:"MNG Airlines",koreanName:"MNG항공",callsign:"MNG",country:"터키"},{iata:"MGL",icao:"MGL",name:"Mongolian Airlines",koreanName:"몽골항공",callsign:"MONGOL AIR",country:"몽골"},{iata:"MFX",icao:"MFX",name:"Mountain Air Express",koreanName:"마운틴에어익스프레스",callsign:"MOUNTAIN",country:"미국"},{iata:"LHA",icao:"LHA",name:"Lufthansa",koreanName:"루프트한자",callsign:"LUFTHANSA",country:"독일"},{iata:"KZR",icao:"KZR",name:"Kazakhstan Airlines",koreanName:"카자흐스탄항공",callsign:"KAZAKHSTAN",country:"카자흐스탄"},{iata:"HKE",icao:"HKE",name:"Hong Kong Express Airways",koreanName:"홍콩익스프레스항공",callsign:"HONGKONG SHUTTLE",country:"홍콩"},{iata:"GEC",icao:"GEC",name:"German Cargo",koreanName:"독일카고",callsign:"GERMAN CARGO",country:"독일"},{iata:"FX",icao:"FDX",name:"FedEx Express",koreanName:"페덱스익스프레스",callsign:"FEDEX",country:"미국"},{iata:"DHL",icao:"DHK",name:"DHL Aviation",koreanName:"DHL항공",callsign:"WORLD EXPRESS",country:"독일"},{iata:"3S",icao:"ABX",name:"ABX Air",koreanName:"ABX에어",callsign:"ABEX",country:"미국"},{iata:"AT",icao:"AMT",name:"Atlas Air",koreanName:"아틀라스에어",callsign:"GIANT",country:"미국"},{iata:"GTI",icao:"GTI",name:"Atlas Air",koreanName:"아틀라스에어",callsign:"GIANT",country:"미국"},{iata:"PO",icao:"PAC",name:"Polar Air Cargo",koreanName:"폴라에어카고",callsign:"POLAR",country:"미국"},{iata:"K4",icao:"CKS",name:"Kalitta Air",koreanName:"칼리타에어",callsign:"CONNIE",country:"미국"},{iata:"WGN",icao:"WGN",name:"Western Global Airlines",koreanName:"웨스턴글로벌항공",callsign:"WESTERN GLOBAL",country:"미국"},{iata:"QT",icao:"TPA",name:"Tampa Cargo",koreanName:"탐파카고",callsign:"TAMPA",country:"콜롬비아"},{iata:"CV",icao:"CLX",name:"Cargolux",koreanName:"카고룩스",callsign:"CARGOLUX",country:"룩셈부르크"},{iata:"CK",icao:"CAO",name:"China Cargo Airlines",koreanName:"중국카고항공",callsign:"CARGO KING",country:"중국"},{iata:"BR",icao:"EVA",name:"EVA Air Cargo",koreanName:"에바항공카고",callsign:"EVA CARGO",country:"대만"},{iata:"CI",icao:"CAL",name:"China Airlines Cargo",koreanName:"중화항공카고",callsign:"DYNASTY CARGO",country:"대만"},{iata:"LH",icao:"DLH",name:"Lufthansa Cargo",koreanName:"루프트한자카고",callsign:"LUFTHANSA CARGO",country:"독일"},{iata:"AF",icao:"AFR",name:"Air France Cargo",koreanName:"에어프랑스카고",callsign:"AIRFRANS CARGO",country:"프랑스"},{iata:"BA",icao:"BAW",name:"British Airways Cargo",koreanName:"브리티시항공카고",callsign:"SPEEDBIRD CARGO",country:"영국"},{iata:"KL",icao:"KLM",name:"KLM Cargo",koreanName:"KLM카고",callsign:"KLM CARGO",country:"네덜란드"},{iata:"SU",icao:"AFL",name:"Aeroflot Cargo",koreanName:"아에로플로트카고",callsign:"AEROFLOT CARGO",country:"러시아"},{iata:"QR",icao:"QTR",name:"Qatar Airways Cargo",koreanName:"카타르항공카고",callsign:"QATARI CARGO",country:"카타르"},{iata:"EK",icao:"UAE",name:"Emirates SkyCargo",koreanName:"에미레이트스카이카고",callsign:"EMIRATES CARGO",country:"아랍에미리트"},{iata:"EY",icao:"ETD",name:"Etihad Cargo",koreanName:"에티하드카고",callsign:"ETIHAD CARGO",country:"아랍에미리트"},{iata:"AC",icao:"ACA",name:"Air Canada Cargo",koreanName:"에어캐나다카고",callsign:"AIR CANADA CARGO",country:"캐나다"},{iata:"QF",icao:"QFA",name:"Qantas Freight",koreanName:"콴타스화물",callsign:"QANTAS FREIGHT",country:"호주"},{iata:"NZ",icao:"ANZ",name:"Air New Zealand Cargo",koreanName:"에어뉴질랜드카고",callsign:"NEW ZEALAND CARGO",country:"뉴질랜드"},{iata:"AM",icao:"AMX",name:"Aeroméxico Cargo",koreanName:"아에로멕시코카고",callsign:"AEROMEXICO CARGO",country:"멕시코"}],KG=new Date("2025-01-16");let Bf=null;async function qG(){return Bf||(Bf={airlines:$G,lastModified:KG}),Bf.airlines}async function XG(){return await qG(),Bf}function QG(t,e){const r=t.trim().toUpperCase();return r?e.map(a=>{let o=0;return a.iata.toUpperCase()===r&&(o+=100),a.icao.toUpperCase()===r&&(o+=100),a.name.toUpperCase()===r&&(o+=100),a.koreanName===r&&(o+=100),a.callsign.toUpperCase()===r&&(o+=100),a.iata.toUpperCase().startsWith(r)&&(o+=50),a.icao.toUpperCase().startsWith(r)&&(o+=50),a.name.toUpperCase().startsWith(r)&&(o+=50),a.koreanName.startsWith(r)&&(o+=50),a.callsign.toUpperCase().startsWith(r)&&(o+=50),a.iata.toUpperCase().includes(r)&&(o+=10),a.icao.toUpperCase().includes(r)&&(o+=10),a.name.toUpperCase().includes(r)&&(o+=10),a.koreanName.includes(r)&&(o+=10),a.callsign.toUpperCase().includes(r)&&(o+=10),{airline:a,score:o}}).filter(a=>a.score>0).sort((a,o)=>o.score-a.score).slice(0,20).map(a=>a.airline):[]}const ZG=t=>({OZ:"AAR",KE:"KAL","7C":"JJA",TW:"TWB",BX:"ABL",ZE:"ESR",LJ:"JNA",RS:"ASV",YP:"APZ",RF:"EOK",NH:"ANA",JL:"JAL",MM:"APJ"})[t]||t,JG=()=>{const[t,e]=ee.useState(null),[r,n]=ee.useState([]),[a,o]=ee.useState(!0),[c,u]=ee.useState(!1),[d,h]=ee.useState({pendingCount:0,isSyncing:!1}),[m,y]=ee.useState(null),[v,T]=ee.useState(null),[_,w]=ee.useState(null),[b,N]=ee.useState(!1),[R,S]=ee.useState(!1),[U,P]=ee.useState([]),[W,D]=ee.useState(!1),[q,H]=ee.useState(!1),[fe,ne]=ee.useState(!1),[Q,ce]=ee.useState(!1),[Ce,xe]=ee.useState(""),[X,se]=ee.useState([]),[Oe,J]=ee.useState(!1),[M,K]=ee.useState(""),[C,z]=ee.useState({isOpen:!1,type:"last"}),[V,Y]=ee.useState(!1),[ae,Te]=ee.useState(""),[Ae,be]=ee.useState(""),[Se,Je]=ee.useState(!1),[j,Tt]=ee.useState(!1),[ut,pt]=ee.useState(""),[$e,we]=ee.useState(""),[ft,De]=ee.useState(()=>localStorage.getItem("theme")||"system"),[et,Ge]=ee.useState("dashboard"),[Le,je]=ee.useState(""),[Xe,ot]=ee.useState(navigator.onLine),[He,ht]=ee.useState(!1),[We,nt]=ee.useState(!1),[Qe,Qt]=ee.useState([]),[Qr,ye]=ee.useState(null),[Ie,qe]=ee.useState(""),[Pe,Ue]=ee.useState([]),[Ve,gt]=ee.useState(!1),[vt,Ot]=ee.useState(""),[tt,Lt]=ee.useState([]),[Mt,Un]=ee.useState(!1),Pa=ee.useRef(null),Zt=ee.useMemo(()=>ft==="dark"||ft==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches,[ft]);ee.useEffect(()=>{const de=window.document.documentElement,ke=()=>{const bt=ft==="dark"||ft==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;de.classList.toggle("dark",bt)};ke(),localStorage.setItem("theme",ft);const mt=window.matchMedia("(prefers-color-scheme: dark)"),Et=()=>{ft==="system"&&ke()};return mt.addEventListener("change",Et),()=>{mt.removeEventListener("change",Et)}},[ft]),ee.useEffect(()=>{const de=()=>{const mt=new Date,Et=mt.getUTCHours().toString().padStart(2,"0"),bt=mt.getUTCMinutes().toString().padStart(2,"0");je(`${Et}:${bt}Z`)};de();const ke=setInterval(de,3e4);return()=>clearInterval(ke)},[]),ee.useEffect(()=>{if(!(t!=null&&t.uid))return;const de=async()=>{try{await yG.printCacheStats(t.uid)}catch(mt){console.error("캐시 모니터링 실패:",mt)}};de();const ke=setInterval(de,1440*60*1e3);return()=>clearInterval(ke)},[t]),ee.useEffect(()=>{const de=()=>ot(!0),ke=()=>ot(!1);return window.addEventListener("online",de),window.addEventListener("offline",ke),()=>{window.removeEventListener("online",de),window.removeEventListener("offline",ke)}},[]),ee.useEffect(()=>{(async()=>{try{gt(!0);const ke=await XG();Qt(ke.airlines),ye(ke)}catch(ke){console.error("항공사 데이터 로드 실패:",ke)}finally{gt(!1)}})()},[]);const Io=ee.useCallback(()=>{if(!Ie.trim()){Ue([]);return}const de=QG(Ie,Qe);Ue(de),nt(!0)},[Ie,Qe]),Zc=ee.useCallback(async()=>{if(!vt.trim()){Lt([]);return}Un(!0);try{if(Xe){const de=await Ir(vt);Lt(de),ht(!0)}else{const de=Ua(vt);Lt(de),ht(!0)}}catch(de){console.error("항공편 검색 오류:",de),Lt([])}finally{Un(!1)}},[vt,Xe]),ea=de=>{if(/^[A-Z]{2,3}$/.test(de)&&Qe.find(At=>At.iata===de))return de;const ke=Qe.find(bt=>bt.icao===de);if(ke)return ke.iata;const mt=Qe.find(bt=>bt.name.toLowerCase().includes(de.toLowerCase())||bt.koreanName.includes(de));if(mt)return mt.iata;const Et=Qe.find(bt=>bt.callsign.toLowerCase().includes(de.toLowerCase()));return Et?Et.iata:null},Dr=de=>{const ke=de.match(/^([A-Z]{2,3})(\d+)$/);return ke?{airlineCode:ke[1],flightNumber:ke[2]}:null},Ir=async de=>{try{const ke=Dr(de);if(console.log("🔍 항공편명 파싱 결과:",ke),!ke)return console.log("❌ 항공편명 형식이 올바르지 않음:",de),[];const mt=ea(ke.airlineCode);if(console.log("🔄 항공사 코드 변환:",ke.airlineCode,"→",mt),!mt)return console.log("❌ 유효한 항공사 코드를 찾을 수 없음:",ke.airlineCode),[];const Et=await fetch("http://localhost:3000/api/amadeus/flights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({airlineCode:mt,flightNumber:ke.flightNumber,originalQuery:de})});if(!Et.ok)throw new Error(`API 오류: ${Et.status}`);return(await Et.json()).results||[]}catch(ke){return console.error("Amadeus API 검색 오류:",ke),[]}},Ua=de=>{try{console.log("🔍 로컬 데이터베이스 검색 시작:",de);const ke=JSON.parse(localStorage.getItem("internationalFlights")||"[]"),mt=JSON.parse(localStorage.getItem("domesticFlights")||"[]");console.log("📊 국제선 데이터 수:",ke.length),console.log("📊 국내선 데이터 수:",mt.length);const Et=[...ke,...mt],bt=[];for(const At of Et)(At.flightNumber||"").toLowerCase().includes(de.toLowerCase())&&(console.log("✅ 매칭된 항공편:",At),bt.push({flightNumber:At.flightNumber||"",airline:At.airline||"",departure:At.departure||"",arrival:At.arrival||"",time:At.time||"",aircraft:At.aircraft||"",status:At.status||"정시",type:"로컬 DB"}));return console.log("🎯 최종 매칭 결과:",bt),bt}catch(ke){return console.error("로컬 데이터베이스 검색 오류:",ke),[]}},Ii=async(de,ke,mt)=>{try{for(let Et=ke;Et<de.length;Et+=ke){const bt=de.slice(Et,Et+ke);n(At=>[...At,...bt]),await new Promise(At=>setTimeout(At,50))}}catch(Et){console.error("나머지 데이터 처리 오류:",Et)}};ee.useEffect(()=>{if(t!=null&&t.uid){const de=Su.loadFlights(t.uid);de&&de.length>0&&n(de)}},[t]);const Ri=ee.useCallback(async()=>{if(t!=null&&t.uid)try{if(o(!0),console.log("🔥 Firebase 데이터 가져오기 시도"),console.log("👤 사용자 ID:",t.uid),console.log("🔐 Firebase 인증 상태:",Za.currentUser?"인증됨":"인증 안됨"),!Za.currentUser){console.log("⚠️ Firebase 인증되지 않음"),n([]);return}console.log("✅ Firebase 인증 확인됨, 데이터 가져오기 시작");const de=await h1(t.uid);if(de&&de.length>0){console.log(`✅ Firebase에서 ${de.length}개 비행 데이터 가져옴`);const ke=500,mt=de.slice(0,ke);n(mt),de.length>ke&&setTimeout(async()=>{await Ii(de,ke,t.uid)},100),setTimeout(async()=>{try{await ha.saveFlights(de,t.uid)}catch(Et){console.warn("⚠️ 캐시 시스템 실패:",Et)}},500)}else{console.log("⚠️ Firebase에 비행 데이터 없음");const ke=await ha.loadFlights(t.uid);ke&&ke.length>0?n(ke):n([])}}catch(de){console.error("데이터 로딩 오류:",de);try{const ke=await ha.loadFlights(t.uid);ke&&ke.length>0&&n(ke)}catch(ke){console.warn("⚠️ 캐시 로드도 실패:",ke)}}finally{o(!1)}},[t]),A=ee.useCallback(async()=>{if(t!=null&&t.uid)try{const de=await Of.sync(t.uid,r,async ke=>(P(ke),S(!0),[]));if(de.success&&(de.syncedCount>0||de.resolvedConflicts>0)){Of.clearSyncQueue();const ke=Of.getSyncStatus();h(ke)}if(de.errors.length>0){const ke=de.errors.filter(mt=>mt!=="이미 동기화 중입니다.");ke.length>0&&console.error("동기화 오류:",ke)}de.conflicts.length>0&&(P(de.conflicts),S(!0))}catch(de){console.error("동기화 중 오류:",de)}},[t,r,Ri]);ee.useEffect(()=>_s.subscribe(ke=>{u(!ke.isOnline),ke.isOnline&&t&&A()}),[t,A]),ee.useEffect(()=>{t&&t.uid?Ri():o(!1)},[Ri,t]),ee.useEffect(()=>{if(t!=null&&t.uid){const de=Of.getSyncStatus();h(de)}},[t]),ee.useEffect(()=>{if(t&&t.uid){const de=HS(ke=>{ke&&ke.length>0?(n(ke),Su.saveFlights(ke,t.uid)):n([])},t.uid);return()=>{de()}}},[t]),ee.useEffect(()=>{const de=setInterval(()=>{t&&n(ke=>[...ke])},6e4);return()=>clearInterval(de)},[t]),ee.useEffect(()=>oL(ke=>{e(ke),ke||(n([]),o(!1))}),[]);const L=async de=>{var Et,bt;const ke=(Et=de.target.files)==null?void 0:Et[0];if(!ke)return;const mt=(bt=ke.name.split(".").pop())==null?void 0:bt.toLowerCase();if(mt!=="xls"&&mt!=="xlsx"){be("Excel 파일(.xls, .xlsx)만 업로드 가능합니다."),setTimeout(()=>be(""),5e3);return}try{Y(!0),be("");const At=await hG(ke),yn=new Date,ra=yn.getFullYear(),Fo=yn.getMonth()+1;await X6(At,t.uid,ra,Fo);const Jc=await h1(t.uid);n(Jc),Te("파일이 성공적으로 업로드되었습니다."),setTimeout(()=>Te(""),3e3),Pa.current&&(Pa.current.value="")}catch(At){console.error("파일 업로드 오류:",At),be("파일 업로드 중 오류가 발생했습니다."),setTimeout(()=>be(""),5e3)}finally{Y(!1)}},I=()=>{var de;(de=Pa.current)==null||de.click()},O=async(de,ke)=>{if(!(t!=null&&t.uid))return;const mt=r;try{const Et=r.map(bt=>bt.id===de?{...bt,[ke]:!bt[ke]}:bt);if(n(Et),t.uid){const bt=Et.find(At=>At.id===de);if(bt){const At={[ke]:bt[ke],lastModified:new Date().toISOString()};await jS(de,At,t.uid)}}}catch(Et){console.error("비행 상태 업데이트 오류:",Et),n(mt)}},F=()=>{D(!0)},B=()=>{D(!1),pt("")},le=async(de,ke)=>{Je(!0),pt("");try{await aL(de,ke),D(!1)}catch(mt){pt(mt.message||"로그인에 실패했습니다.")}finally{Je(!1)}},pe=async()=>{try{await iL()}catch(de){console.error("로그아웃 오류:",de)}},re=()=>{D(!1),H(!0)},ue=()=>{H(!1),we("")},ge=async(de,ke,mt)=>{Tt(!0),we("");try{await sL(de,ke,mt),H(!1)}catch(Et){we(Et.message||"회원가입에 실패했습니다.")}finally{Tt(!1)}},Ne=async de=>{try{return await uL(de),{success:!0}}catch(ke){return{success:!1,error:ke.message}}},Me=(de,ke)=>{if(!de){z({isOpen:!0,type:ke});return}y(de)},ze=()=>{N(!0)},Re=()=>{N(!1)},Be=de=>{N(!1),y(de)},dt=de=>{const ke=r.filter(bt=>new Date(bt.date).getMonth()===de),Et=(bt=>{if(bt.length===0)return"00:00";const At=bt.find(yn=>yn.monthlyTotalBlock&&yn.monthlyTotalBlock>0);if(At&&At.monthlyTotalBlock){const yn=At.monthlyTotalBlock,ra=Math.floor(yn),Fo=Math.round((yn-ra)*60);return`${String(ra).padStart(2,"0")}:${String(Fo).padStart(2,"0")}`}return"00:00"})(ke);w({month:de,flights:ke,blockTime:Et})},Vt=(de,ke)=>{T({title:de==="takeoff"?"이륙":"착륙",events:ke.recentEvents})},Wt=de=>{T(null),y(de)},Jt=de=>{const ke=r.filter(mt=>mt.crew&&mt.crew.includes(de));xe(de),se(ke),ce(!0)},ta=()=>{ce(!1),xe(""),se([])},Ba=de=>{ta(),y(de)},Nn=()=>{ne(!0)},Bn=()=>{ne(!1)},as=()=>{z({isOpen:!1,type:"last"})},jn=()=>{S(!1),P([])},f0=de=>{S(!1),P([])},Dn=de=>{K(de),J(!0)},d0=()=>{const de=new Date,ke=de.toLocaleDateString("ko-KR",{month:"long",day:"numeric",timeZone:"Asia/Seoul"}),mt=de.toLocaleDateString("ko-KR",{weekday:"long",timeZone:"Asia/Seoul"});return{datePart:ke,weekdayPart:mt}},{datePart:Jd,weekdayPart:Ro}=d0(),ss=ZT(),{lastFlight:Oo,nextFlight:eh}=K6(r),xn=n_(r,"takeoff",ss),Mo=n_(r,"landing",ss);return a?p.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 dark:border-gray-100 mx-auto"}),p.jsx("p",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mt-4",children:"데이터를 불러오는 중..."})]})}):p.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 font-sans",children:[t?p.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8 flex flex-col",children:[c&&p.jsx("div",{className:"bg-red-500 text-white text-center py-2 px-4 mb-4",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("span",{children:"📡 오프라인 모드"}),d.pendingCount>0&&p.jsxs("span",{className:"text-sm",children:["(",d.pendingCount,"개 작업 대기 중)"]})]})}),p.jsxs("header",{className:"mb-4 flex justify-between items-center gap-2 sm:gap-4",children:[p.jsx("div",{className:"flex-1 flex justify-start",children:p.jsxs("div",{className:"flex flex-col items-start gap-1",children:[p.jsxs("span",{className:"text-base font-semibold text-gray-700 dark:text-gray-300",children:[t.displayName,"님"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:Nn,className:"bg-gray-500 text-white text-xs px-1.5 py-0.5 rounded hover:bg-gray-600 transition-colors",title:"설정",children:"설정"}),p.jsx("button",{onClick:pe,className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded hover:bg-red-600 transition-colors",title:"로그아웃",children:"로그아웃"})]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:Le})]})}),p.jsx("div",{className:"flex-1 text-center",children:p.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:["My",p.jsx("br",{}),"KneeBoard"]})}),p.jsx("div",{className:"flex-1 flex justify-end",children:p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("input",{type:"file",ref:Pa,onChange:L,className:"hidden",accept:".xls,.xlsx"}),p.jsx("button",{onClick:I,disabled:V,title:"Upload Excel Schedule",className:"p-1.5 rounded-full text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx(Q6,{className:`w-6 h-6 ${V?"animate-spin":""}`})}),p.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1 text-right",children:[p.jsx("p",{children:Jd}),p.jsxs("p",{children:[Ro,"(KST) 기준"]})]})]})})]}),ae&&p.jsx("div",{className:"bg-green-500 text-white text-center py-2 px-4 mb-4 rounded",children:ae}),Ae&&p.jsx("div",{className:"bg-red-500 text-white text-center py-2 px-4 mb-4 rounded",children:Ae}),p.jsx("div",{className:"mb-1",children:p.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[p.jsx("button",{onClick:()=>Ge("dashboard"),className:`flex-1 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${et==="dashboard"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Dashboard"}),p.jsx("button",{onClick:()=>Ge("rest"),className:`flex-1 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${et==="rest"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Rest"}),p.jsx("button",{onClick:()=>Ge("flightData"),className:`flex-1 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${et==="flightData"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Flight Data"})]})}),et==="dashboard"&&p.jsxs(p.Fragment,{children:[p.jsxs("section",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300",children:"월별 비행 시간 (Block)"}),p.jsx("button",{onClick:ze,className:"flex items-center justify-center p-2 text-blue-600 hover:text-blue-700 transition-colors rounded-lg",title:"전체 달력 보기",children:p.jsx(Z6,{className:"w-5 h-5"})})]}),p.jsx(rD,{flights:r,todayStr:ss,onMonthClick:dt})]}),p.jsxs("section",{className:"mb-8 grid grid-cols-2 gap-6 sm:gap-8",children:[p.jsx(a_,{flight:Oo,type:"last",onClick:Me,todayStr:ss}),p.jsx(a_,{flight:eh,type:"next",onClick:Me,todayStr:ss})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"이착륙 자격 현황"}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsx(s_,{title:"이륙",currencyInfo:xn,onClick:()=>Vt("takeoff",xn)}),p.jsx(s_,{title:"착륙",currencyInfo:Mo,onClick:()=>Vt("landing",Mo)})]})]})]}),et==="rest"&&p.jsx("div",{className:`${Zt?"bg-gray-900":"bg-gray-100"}`,children:p.jsx(a3,{isDark:Zt})}),et==="flightData"&&p.jsx("div",{className:`${Zt?"bg-gray-900":"bg-gray-100"} p-6 rounded-lg`,children:p.jsxs("section",{className:"mb-8",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Flight Data"})}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:`${Zt?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm border ${Zt?"border-gray-700":"border-gray-200"} hover:shadow-md transition-shadow`,children:[p.jsx("div",{className:"mb-4",children:p.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"항공편 검색"})}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"text",placeholder:"항공편명 입력",value:vt,onChange:de=>Ot(de.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none uppercase ${Zt?"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})}),p.jsx("button",{onClick:Zc,disabled:Mt,className:`w-full px-4 py-2 text-white text-sm rounded-lg transition-colors font-medium ${Mt?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:Mt?"검색 중...":"검색"})]}),p.jsxs("div",{className:`${Zt?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm border ${Zt?"border-gray-700":"border-gray-200"} hover:shadow-md transition-shadow`,children:[p.jsx("div",{className:"mb-4",children:p.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"항공사 정보"})}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"text",placeholder:"IATA/ICAO 코드 입력",value:Ie,onChange:de=>qe(de.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none uppercase ${Zt?"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})}),p.jsx("button",{onClick:Io,disabled:Ve,className:`w-full px-4 py-2 text-white text-sm rounded-lg transition-colors font-medium ${Ve?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:Ve?"로딩 중...":"검색"})]})]}),He&&p.jsxs("div",{className:`${Zt?"bg-gray-800":"bg-white"} rounded-xl shadow-lg border ${Zt?"border-gray-700":"border-gray-200"} p-6 mb-6`,children:[p.jsx("div",{className:"mb-6",children:p.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"항공편 검색 결과"})}),!Xe&&p.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:p.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"📡 오프라인 모드: Firebase 캐시에서 항공편 정보를 검색합니다"})}),tt.length>0?tt.map((de,ke)=>p.jsxs("div",{className:`${Zt?"bg-gradient-to-br from-gray-700 to-gray-800":"bg-gradient-to-br from-gray-50 to-white"} p-6 rounded-xl shadow-md border ${Zt?"border-gray-600":"border-gray-200"} hover:shadow-lg transition-all duration-300 mb-4`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.8 19.2 16 11l3.5-3.5C21 6 21 4 19 4c-1 0-2 0-3.5 1.5L12 9l-8.2-1.8c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 2.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),p.jsx("h4",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:de.flightNumber}),de.hasDetailedSchedule&&p.jsxs("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:["(ICAO: ",ZG(de.airline),")"]})]}),p.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-semibold rounded-full shadow-sm",children:de.type})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"출발"}),p.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300",children:de.origin||de.departure})]})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"도착"}),p.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300",children:de.destination||de.arrival})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"시간:"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:de.time})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"기종:"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:de.aircraft})]}),de.operatingDays&&de.operatingDays.length>0&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"운항:"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:(()=>{const mt=de.operatingDays.map(yn=>{const ra=new Date(yn);return["일","월","화","수","목","금","토"][ra.getDay()]}),Et=["월","화","수","목","금","토","일"],bt=mt.sort((yn,ra)=>Et.indexOf(yn)-Et.indexOf(ra)),At=[...new Set(bt)];return At.length===7?"매일":At.join(", ")})()})]})]})]},ke)):p.jsxs("div",{className:`${Zt?"bg-gray-700":"bg-gray-100"} p-6 rounded-lg text-center`,children:[p.jsx("p",{className:`text-sm ${Zt?"text-gray-400":"text-gray-600"}`,children:vt.trim()?"검색 결과가 없습니다.":"항공편명, 항공사, 출발지, 도착지를 입력하고 검색하세요."}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Xe?"Amadeus API에서 항공편 정보를 검색합니다":"Firebase 캐시에서 항공편 정보를 검색합니다"})]})]}),We&&p.jsxs("div",{className:`${Zt?"bg-gray-800":"bg-white"} rounded-xl shadow-lg border ${Zt?"border-gray-700":"border-gray-200"} p-6`,children:[p.jsx("div",{className:"mb-6",children:p.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"항공사 정보 검색 결과"})}),Pe.length>0?Pe.map((de,ke)=>p.jsxs("div",{className:`${Zt?"bg-gradient-to-br from-gray-700 to-gray-800":"bg-gradient-to-br from-gray-50 to-white"} p-6 rounded-xl shadow-md border ${Zt?"border-gray-600":"border-gray-200"} hover:shadow-lg transition-all duration-300 mb-4`,children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:p.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:de.name}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:de.koreanName})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg min-w-0",children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"IATA"}),p.jsx("div",{className:"font-bold text-gray-700 dark:text-gray-300 text-sm break-words",children:de.iata})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg min-w-0",children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"ICAO"}),p.jsx("div",{className:"font-bold text-gray-700 dark:text-gray-300 text-sm break-words",children:de.icao})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg min-w-0",children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"호출부호"}),p.jsx("div",{className:"font-bold text-gray-700 dark:text-gray-300 text-xs break-words leading-tight",children:de.callsign})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg min-w-0",children:[p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"국가"}),p.jsx("div",{className:"font-bold text-gray-700 dark:text-gray-300 text-sm break-words",children:de.country})]})]})]},ke)):p.jsx("div",{className:`${Zt?"bg-gray-700":"bg-gray-100"} p-6 rounded-lg text-center`,children:p.jsx("p",{className:`text-sm ${Zt?"text-gray-400":"text-gray-600"}`,children:Ie.trim()?"검색 결과가 없습니다.":"IATA/ICAO 코드, 항공사명, 호출부호로 검색하세요."})})]})]})}),p.jsx("footer",{className:"text-center mt-8 text-sm text-gray-500 dark:text-gray-400",children:p.jsx("p",{children:"My KneeBoard © 2025."})})]}):p.jsxs("div",{className:"container mx-auto p-4 md:p-6 lg:p-8 flex flex-col items-center justify-center min-h-screen",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 leading-tight mb-4",children:["My",p.jsx("br",{}),"KneeBoard"]}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"비행 스케줄을 관리하세요"})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 w-full max-w-md",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 text-center mb-6",children:"로그인"}),p.jsx("button",{onClick:F,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"로그인하기"}),p.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400 text-sm mt-4",children:["계정이 없으신가요? ",p.jsx("button",{onClick:re,className:"text-blue-600 hover:text-blue-700 underline",children:"회원가입"})]})]}),p.jsx("footer",{className:"text-center mt-8 text-sm text-gray-500 dark:text-gray-400",children:p.jsx("p",{children:"My KneeBoard © 2025."})})]}),p.jsx(nD,{flight:m,onClose:()=>y(null),onUpdateStatus:O,flightType:m&&r.find(de=>de.id===m.id)?r.indexOf(r.find(de=>de.id===m.id))<r.findIndex(de=>new Date(de.date)>=new Date(ss))?"last":"next":void 0,currentUser:t,onCrewClick:Jt,onAirportClick:Dn}),p.jsx(aD,{data:v,onClose:()=>T(null),onFlightClick:Wt}),p.jsx(sD,{data:_,onClose:()=>w(null),onFlightClick:de=>y(de)}),p.jsx(cD,{isOpen:b,onClose:Re,flights:r,month:new Date().getMonth()+1,year:new Date().getFullYear(),onFlightClick:Be}),p.jsx(wG,{isOpen:W,onClose:B,onLogin:le,onShowRegister:re,onResetPassword:Ne,isLoading:Se,error:ut}),p.jsx(TG,{isOpen:q,onClose:ue,onRegister:ge,isLoading:j,error:$e}),p.jsx(EG,{isOpen:C.isOpen,type:C.type,onClose:as}),p.jsx(bG,{isOpen:fe,onClose:Bn,currentUser:t,theme:ft,setTheme:De}),p.jsx(lD,{isOpen:R,onClose:jn,conflicts:U,onResolve:f0}),p.jsx(SG,{isOpen:Q,onClose:ta,crewName:Ce,flightsWithCrew:X,onFlightClick:Ba}),p.jsx(WG,{isOpen:Oe,onClose:()=>J(!1),city:M,flights:r.filter(de=>de.route&&de.route.includes(M||"")),onFlightClick:de=>{J(!1),y(de)}})]})},b4=document.getElementById("root");if(!b4)throw new Error("Could not find root element to mount to");const eY=$C.createRoot(b4);eY.render(p.jsx(pa.StrictMode,{children:p.jsx(JG,{})}));
